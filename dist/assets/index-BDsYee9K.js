var rS=Object.defineProperty;var Ip=e=>{throw TypeError(e)};var sS=(e,t,n)=>t in e?rS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Dp=(e,t,n)=>sS(e,typeof t!="symbol"?t+"":t,n),au=(e,t,n)=>t.has(e)||Ip("Cannot "+n);var R=(e,t,n)=>(au(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>t.has(e)?Ip("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),X=(e,t,n,r)=>(au(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(au(e,t,"access private method"),n);var ki=(e,t,n,r)=>({set _(s){X(e,t,s,n)},get _(){return R(e,t,r)}});function oS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ev={exports:{}},uc={},Cv={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),iS=Symbol.for("react.portal"),lS=Symbol.for("react.fragment"),cS=Symbol.for("react.strict_mode"),uS=Symbol.for("react.profiler"),dS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),pS=Symbol.for("react.suspense"),mS=Symbol.for("react.memo"),gS=Symbol.for("react.lazy"),Lp=Symbol.iterator;function vS(e){return e===null||typeof e!="object"?null:(e=Lp&&e[Lp]||e["@@iterator"],typeof e=="function"?e:null)}var kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jv=Object.assign,Tv={};function Bo(e,t,n){this.props=e,this.context=t,this.refs=Tv,this.updater=n||kv}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pv(){}Pv.prototype=Bo.prototype;function Mf(e,t,n){this.props=e,this.context=t,this.refs=Tv,this.updater=n||kv}var If=Mf.prototype=new Pv;If.constructor=Mf;jv(If,Bo.prototype);If.isPureReactComponent=!0;var $p=Array.isArray,Nv=Object.prototype.hasOwnProperty,Df={current:null},Rv={key:!0,ref:!0,__self:!0,__source:!0};function Av(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Nv.call(t,r)&&!Rv.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:fi,type:e,key:o,ref:a,props:s,_owner:Df.current}}function yS(e,t){return{$$typeof:fi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lf(e){return typeof e=="object"&&e!==null&&e.$$typeof===fi}function wS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fp=/\/+/g;function iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wS(""+e.key):t.toString(36)}function rl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fi:case iS:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+iu(a,0):r,$p(s)?(n="",e!=null&&(n=e.replace(Fp,"$&/")+"/"),rl(s,t,n,"",function(u){return u})):s!=null&&(Lf(s)&&(s=yS(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Fp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",$p(e))for(var i=0;i<e.length;i++){o=e[i];var l=r+iu(o,i);a+=rl(o,t,n,l,s)}else if(l=vS(e),typeof l=="function")for(e=l.call(e),i=0;!(o=e.next()).done;)o=o.value,l=r+iu(o,i++),a+=rl(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ji(e,t,n){if(e==null)return e;var r=[],s=0;return rl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function xS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},sl={transition:null},bS={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:sl,ReactCurrentOwner:Df};function Ov(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ji,forEach:function(e,t,n){ji(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ji(e,function(){t++}),t},toArray:function(e){return ji(e,function(t){return t})||[]},only:function(e){if(!Lf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Bo;se.Fragment=lS;se.Profiler=uS;se.PureComponent=Mf;se.StrictMode=cS;se.Suspense=pS;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bS;se.act=Ov;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jv({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Df.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Nv.call(t,l)&&!Rv.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){i=Array(l);for(var u=0;u<l;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:fi,type:e.type,key:s,ref:o,props:r,_owner:a}};se.createContext=function(e){return e={$$typeof:fS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dS,_context:e},e.Consumer=e};se.createElement=Av;se.createFactory=function(e){var t=Av.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:hS,render:e}};se.isValidElement=Lf;se.lazy=function(e){return{$$typeof:gS,_payload:{_status:-1,_result:e},_init:xS}};se.memo=function(e,t){return{$$typeof:mS,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};se.unstable_act=Ov;se.useCallback=function(e,t){return ct.current.useCallback(e,t)};se.useContext=function(e){return ct.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};se.useEffect=function(e,t){return ct.current.useEffect(e,t)};se.useId=function(){return ct.current.useId()};se.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return ct.current.useMemo(e,t)};se.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};se.useRef=function(e){return ct.current.useRef(e)};se.useState=function(e){return ct.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return ct.current.useTransition()};se.version="18.3.1";Cv.exports=se;var h=Cv.exports;const D=Sv(h),$f=oS({__proto__:null,default:D},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=h,SS=Symbol.for("react.element"),ES=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,kS=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jS={key:!0,ref:!0,__self:!0,__source:!0};function Mv(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)CS.call(t,r)&&!jS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:SS,type:e,key:o,ref:a,props:s,_owner:kS.current}}uc.Fragment=ES;uc.jsx=Mv;uc.jsxs=Mv;Ev.exports=uc;var c=Ev.exports,sd={},Iv={exports:{}},jt={},Dv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,k){var O=P.length;P.push(k);e:for(;0<O;){var B=O-1>>>1,W=P[B];if(0<s(W,k))P[B]=k,P[O]=W,O=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var k=P[0],O=P.pop();if(O!==k){P[0]=O;e:for(var B=0,W=P.length,te=W>>>1;B<te;){var Y=2*(B+1)-1,ve=P[Y],ye=Y+1,$=P[ye];if(0>s(ve,O))ye<W&&0>s($,ve)?(P[B]=$,P[ye]=O,B=ye):(P[B]=ve,P[Y]=O,B=Y);else if(ye<W&&0>s($,O))P[B]=$,P[ye]=O,B=ye;else break e}}return k}function s(P,k){var O=P.sortIndex-k.sortIndex;return O!==0?O:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var l=[],u=[],d=1,f=null,m=3,p=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=P)r(u),k.sortIndex=k.expirationTime,t(l,k);else break;k=n(u)}}function S(P){if(v=!1,g(P),!b)if(n(l)!==null)b=!0,F(_);else{var k=n(u);k!==null&&V(S,k.startTime-P)}}function _(P,k){b=!1,v&&(v=!1,w(j),j=-1),p=!0;var O=m;try{for(g(k),f=n(l);f!==null&&(!(f.expirationTime>k)||P&&!L());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var W=B(f.expirationTime<=k);k=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),g(k)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var Y=n(u);Y!==null&&V(S,Y.startTime-k),te=!1}return te}finally{f=null,m=O,p=!1}}var C=!1,E=null,j=-1,N=5,T=-1;function L(){return!(e.unstable_now()-T<N)}function A(){if(E!==null){var P=e.unstable_now();T=P;var k=!0;try{k=E(!0,P)}finally{k?I():(C=!1,E=null)}}else C=!1}var I;if(typeof y=="function")I=function(){y(A)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=A,I=function(){q.postMessage(null)}}else I=function(){x(A,0)};function F(P){E=P,C||(C=!0,I())}function V(P,k){j=x(function(){P(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,F(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var k=3;break;default:k=m}var O=m;m=k;try{return P()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var O=m;m=P;try{return k()}finally{m=O}},e.unstable_scheduleCallback=function(P,k,O){var B=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,P={id:d++,callback:k,priorityLevel:P,startTime:O,expirationTime:W,sortIndex:-1},O>B?(P.sortIndex=O,t(u,P),n(l)===null&&P===n(u)&&(v?(w(j),j=-1):v=!0,V(S,O-B))):(P.sortIndex=W,t(l,P),b||p||(b=!0,F(_))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var k=m;return function(){var O=m;m=k;try{return P.apply(this,arguments)}finally{m=O}}}})(Lv);Dv.exports=Lv;var TS=Dv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=h,kt=TS;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $v=new Set,Ia={};function Es(e,t){To(e,t),To(e+"Capture",t)}function To(e,t){for(Ia[e]=t,e=0;e<t.length;e++)$v.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,NS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},zp={};function RS(e){return od.call(zp,e)?!0:od.call(Up,e)?!1:NS.test(e)?zp[e]=!0:(Up[e]=!0,!1)}function AS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OS(e,t,n,r){if(t===null||typeof t>"u"||AS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ff=/[\-:]([a-z])/g;function Uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ff,Uf);Xe[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ff,Uf);Xe[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ff,Uf);Xe[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function zf(e,t,n,r){var s=Xe.hasOwnProperty(t)?Xe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OS(t,n,s,r)&&(n=null),r||s===null?RS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gn=PS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),Uv=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),id=Symbol.for("react.suspense"),ld=Symbol.for("react.suspense_list"),Hf=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),zv=Symbol.for("react.offscreen"),Bp=Symbol.iterator;function ra(e){return e===null||typeof e!="object"?null:(e=Bp&&e[Bp]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,lu;function pa(e){if(lu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lu=t&&t[1]||""}return`
`+lu+e}var cu=!1;function uu(e,t){if(!e||cu)return"";cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,i=o.length-1;1<=a&&0<=i&&s[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==o[i]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=i);break}}}finally{cu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pa(e):""}function MS(e){switch(e.tag){case 5:return pa(e.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return e=uu(e.type,!1),e;case 11:return e=uu(e.type.render,!1),e;case 1:return e=uu(e.type,!0),e;default:return""}}function cd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ys:return"Fragment";case Gs:return"Portal";case ad:return"Profiler";case Bf:return"StrictMode";case id:return"Suspense";case ld:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uv:return(e.displayName||"Context")+".Consumer";case Fv:return(e._context.displayName||"Context")+".Provider";case Wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hf:return t=e.displayName||null,t!==null?t:cd(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return cd(e(t))}catch{}}return null}function IS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cd(t);case 8:return t===Bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DS(e){var t=Bv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=DS(e))}function Wv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ud(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hv(e,t){t=t.checked,t!=null&&zf(e,"checked",t,!1)}function dd(e,t){Hv(e,t);var n=Nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fd(e,t.type,n):t.hasOwnProperty("defaultValue")&&fd(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fd(e,t,n){(t!=="number"||El(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ma=Array.isArray;function ao(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(ma(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nr(n)}}function Vv(e,t){var n=Nr(t.value),r=Nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,Kv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LS=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(e){LS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ba[t]=ba[e]})});function Gv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ba.hasOwnProperty(e)&&ba[e]?(""+t).trim():t+"px"}function Yv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $S=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(e,t){if(t){if($S[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function gd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function Vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yd=null,io=null,lo=null;function Kp(e){if(e=mi(e)){if(typeof yd!="function")throw Error(M(280));var t=e.stateNode;t&&(t=mc(t),yd(e.stateNode,e.type,t))}}function Qv(e){io?lo?lo.push(e):lo=[e]:io=e}function Xv(){if(io){var e=io,t=lo;if(lo=io=null,Kp(e),t)for(e=0;e<t.length;e++)Kp(t[e])}}function Jv(e,t){return e(t)}function Zv(){}var du=!1;function ey(e,t,n){if(du)return e(t,n);du=!0;try{return Jv(e,t,n)}finally{du=!1,(io!==null||lo!==null)&&(Zv(),Xv())}}function La(e,t){var n=e.stateNode;if(n===null)return null;var r=mc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var wd=!1;if(Bn)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){wd=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{wd=!1}function FS(e,t,n,r,s,o,a,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _a=!1,Cl=null,kl=!1,xd=null,US={onError:function(e){_a=!0,Cl=e}};function zS(e,t,n,r,s,o,a,i,l){_a=!1,Cl=null,FS.apply(US,arguments)}function BS(e,t,n,r,s,o,a,i,l){if(zS.apply(this,arguments),_a){if(_a){var u=Cl;_a=!1,Cl=null}else throw Error(M(198));kl||(kl=!0,xd=u)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gp(e){if(Cs(e)!==e)throw Error(M(188))}function WS(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Gp(s),e;if(o===r)return Gp(s),t;o=o.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=o;break}if(i===r){a=!0,r=s,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=s;break}if(i===r){a=!0,r=o,n=s;break}i=i.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function ny(e){return e=WS(e),e!==null?ry(e):null}function ry(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ry(e);if(t!==null)return t;e=e.sibling}return null}var sy=kt.unstable_scheduleCallback,Yp=kt.unstable_cancelCallback,HS=kt.unstable_shouldYield,VS=kt.unstable_requestPaint,Me=kt.unstable_now,qS=kt.unstable_getCurrentPriorityLevel,qf=kt.unstable_ImmediatePriority,oy=kt.unstable_UserBlockingPriority,jl=kt.unstable_NormalPriority,KS=kt.unstable_LowPriority,ay=kt.unstable_IdlePriority,dc=null,_n=null;function GS(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(dc,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:XS,YS=Math.log,QS=Math.LN2;function XS(e){return e>>>=0,e===0?32:31-(YS(e)/QS|0)|0}var Ri=64,Ai=4194304;function ga(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=ga(i):(o&=a,o!==0&&(r=ga(o)))}else a=n&~s,a!==0?r=ga(a):o!==0&&(r=ga(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),s=1<<n,r|=e[n],t&=~s;return r}function JS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-tn(o),i=1<<a,l=s[a];l===-1?(!(i&n)||i&r)&&(s[a]=JS(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}function bd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iy(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function fu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function eE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Kf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cy,Gf,uy,dy,fy,_d=!1,Oi=[],br=null,_r=null,Sr=null,$a=new Map,Fa=new Map,ur=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":$a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(t.pointerId)}}function oa(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=mi(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nE(e,t,n,r,s){switch(t){case"focusin":return br=oa(br,e,t,n,r,s),!0;case"dragenter":return _r=oa(_r,e,t,n,r,s),!0;case"mouseover":return Sr=oa(Sr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return $a.set(o,oa($a.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Fa.set(o,oa(Fa.get(o)||null,e,t,n,r,s)),!0}return!1}function hy(e){var t=Zr(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=ty(n),t!==null){e.blockedOn=t,fy(e.priority,function(){uy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vd=r,n.target.dispatchEvent(r),vd=null}else return t=mi(n),t!==null&&Gf(t),e.blockedOn=n,!1;t.shift()}return!0}function Xp(e,t,n){ol(e)&&n.delete(t)}function rE(){_d=!1,br!==null&&ol(br)&&(br=null),_r!==null&&ol(_r)&&(_r=null),Sr!==null&&ol(Sr)&&(Sr=null),$a.forEach(Xp),Fa.forEach(Xp)}function aa(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,rE)))}function Ua(e){function t(s){return aa(s,e)}if(0<Oi.length){aa(Oi[0],e);for(var n=1;n<Oi.length;n++){var r=Oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(br!==null&&aa(br,e),_r!==null&&aa(_r,e),Sr!==null&&aa(Sr,e),$a.forEach(t),Fa.forEach(t),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)hy(n),n.blockedOn===null&&ur.shift()}var co=Gn.ReactCurrentBatchConfig,Pl=!0;function sE(e,t,n,r){var s=ge,o=co.transition;co.transition=null;try{ge=1,Yf(e,t,n,r)}finally{ge=s,co.transition=o}}function oE(e,t,n,r){var s=ge,o=co.transition;co.transition=null;try{ge=4,Yf(e,t,n,r)}finally{ge=s,co.transition=o}}function Yf(e,t,n,r){if(Pl){var s=Sd(e,t,n,r);if(s===null)_u(e,t,r,Nl,n),Qp(e,r);else if(nE(s,e,t,n,r))r.stopPropagation();else if(Qp(e,r),t&4&&-1<tE.indexOf(e)){for(;s!==null;){var o=mi(s);if(o!==null&&cy(o),o=Sd(e,t,n,r),o===null&&_u(e,t,r,Nl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else _u(e,t,r,null,n)}}var Nl=null;function Sd(e,t,n,r){if(Nl=null,e=Vf(r),e=Zr(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ty(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qS()){case qf:return 1;case oy:return 4;case jl:case KS:return 16;case ay:return 536870912;default:return 16}default:return 16}}var yr=null,Qf=null,al=null;function my(){if(al)return al;var e,t=Qf,n=t.length,r,s="value"in yr?yr.value:yr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return al=s.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Jp(){return!1}function Tt(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mi:Jp,this.isPropagationStopped=Jp,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xf=Tt(Wo),pi=Pe({},Wo,{view:0,detail:0}),aE=Tt(pi),hu,pu,ia,fc=Pe({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(hu=e.screenX-ia.screenX,pu=e.screenY-ia.screenY):pu=hu=0,ia=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:pu}}),Zp=Tt(fc),iE=Pe({},fc,{dataTransfer:0}),lE=Tt(iE),cE=Pe({},pi,{relatedTarget:0}),mu=Tt(cE),uE=Pe({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),dE=Tt(uE),fE=Pe({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hE=Tt(fE),pE=Pe({},Wo,{data:0}),em=Tt(pE),mE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vE[e])?!!t[e]:!1}function Jf(){return yE}var wE=Pe({},pi,{key:function(e){if(e.key){var t=mE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xE=Tt(wE),bE=Pe({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Tt(bE),_E=Pe({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),SE=Tt(_E),EE=Pe({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=Tt(EE),kE=Pe({},fc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jE=Tt(kE),TE=[9,13,27,32],Zf=Bn&&"CompositionEvent"in window,Sa=null;Bn&&"documentMode"in document&&(Sa=document.documentMode);var PE=Bn&&"TextEvent"in window&&!Sa,gy=Bn&&(!Zf||Sa&&8<Sa&&11>=Sa),nm=" ",rm=!1;function vy(e,t){switch(e){case"keyup":return TE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function NE(e,t){switch(e){case"compositionend":return yy(t);case"keypress":return t.which!==32?null:(rm=!0,nm);case"textInput":return e=t.data,e===nm&&rm?null:e;default:return null}}function RE(e,t){if(Qs)return e==="compositionend"||!Zf&&vy(e,t)?(e=my(),al=Qf=yr=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gy&&t.locale!=="ko"?null:t.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AE[e.type]:t==="textarea"}function wy(e,t,n,r){Qv(r),t=Rl(t,"onChange"),0<t.length&&(n=new Xf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ea=null,za=null;function OE(e){Ny(e,0)}function hc(e){var t=Zs(e);if(Wv(t))return e}function ME(e,t){if(e==="change")return t}var xy=!1;if(Bn){var gu;if(Bn){var vu="oninput"in document;if(!vu){var om=document.createElement("div");om.setAttribute("oninput","return;"),vu=typeof om.oninput=="function"}gu=vu}else gu=!1;xy=gu&&(!document.documentMode||9<document.documentMode)}function am(){Ea&&(Ea.detachEvent("onpropertychange",by),za=Ea=null)}function by(e){if(e.propertyName==="value"&&hc(za)){var t=[];wy(t,za,e,Vf(e)),ey(OE,t)}}function IE(e,t,n){e==="focusin"?(am(),Ea=t,za=n,Ea.attachEvent("onpropertychange",by)):e==="focusout"&&am()}function DE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hc(za)}function LE(e,t){if(e==="click")return hc(t)}function $E(e,t){if(e==="input"||e==="change")return hc(t)}function FE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:FE;function Ba(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!od.call(t,s)||!rn(e[s],t[s]))return!1}return!0}function im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lm(e,t){var n=im(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=im(n)}}function _y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sy(){for(var e=window,t=El();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=El(e.document)}return t}function eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UE(e){var t=Sy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_y(n.ownerDocument.documentElement,n)){if(r!==null&&eh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=lm(n,o);var a=lm(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zE=Bn&&"documentMode"in document&&11>=document.documentMode,Xs=null,Ed=null,Ca=null,Cd=!1;function cm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cd||Xs==null||Xs!==El(r)||(r=Xs,"selectionStart"in r&&eh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Ba(Ca,r)||(Ca=r,r=Rl(Ed,"onSelect"),0<r.length&&(t=new Xf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xs)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Js={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},yu={},Ey={};Bn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function pc(e){if(yu[e])return yu[e];if(!Js[e])return e;var t=Js[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ey)return yu[e]=t[n];return e}var Cy=pc("animationend"),ky=pc("animationiteration"),jy=pc("animationstart"),Ty=pc("transitionend"),Py=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Py.set(e,t),Es(t,[e])}for(var wu=0;wu<um.length;wu++){var xu=um[wu],BE=xu.toLowerCase(),WE=xu[0].toUpperCase()+xu.slice(1);Mr(BE,"on"+WE)}Mr(Cy,"onAnimationEnd");Mr(ky,"onAnimationIteration");Mr(jy,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(Ty,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function dm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BS(r,t,void 0,e),e.currentTarget=null}function Ny(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&s.isPropagationStopped())break e;dm(s,i,u),o=l}else for(a=0;a<r.length;a++){if(i=r[a],l=i.instance,u=i.currentTarget,i=i.listener,l!==o&&s.isPropagationStopped())break e;dm(s,i,u),o=l}}}if(kl)throw e=xd,kl=!1,xd=null,e}function Se(e,t){var n=t[Nd];n===void 0&&(n=t[Nd]=new Set);var r=e+"__bubble";n.has(r)||(Ry(t,e,2,!1),n.add(r))}function bu(e,t,n){var r=0;t&&(r|=4),Ry(n,e,r,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[Di]){e[Di]=!0,$v.forEach(function(n){n!=="selectionchange"&&(HE.has(n)||bu(n,!1,e),bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,bu("selectionchange",!1,t))}}function Ry(e,t,n,r){switch(py(t)){case 1:var s=sE;break;case 4:s=oE;break;default:s=Yf}n=s.bind(null,t,n,e),s=void 0,!wd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _u(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;i!==null;){if(a=Zr(i),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}i=i.parentNode}}r=r.return}ey(function(){var u=o,d=Vf(n),f=[];e:{var m=Py.get(e);if(m!==void 0){var p=Xf,b=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":p=xE;break;case"focusin":b="focus",p=mu;break;case"focusout":b="blur",p=mu;break;case"beforeblur":case"afterblur":p=mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SE;break;case Cy:case ky:case jy:p=dE;break;case Ty:p=CE;break;case"scroll":p=aE;break;case"wheel":p=jE;break;case"copy":case"cut":case"paste":p=hE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tm}var v=(t&4)!==0,x=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var y=u,g;y!==null;){g=y;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,w!==null&&(S=La(y,w),S!=null&&v.push(Ha(y,S,g)))),x)break;y=y.return}0<v.length&&(m=new p(m,b,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==vd&&(b=n.relatedTarget||n.fromElement)&&(Zr(b)||b[Wn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?Zr(b):null,b!==null&&(x=Cs(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(v=Zp,S="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=tm,S="onPointerLeave",w="onPointerEnter",y="pointer"),x=p==null?m:Zs(p),g=b==null?m:Zs(b),m=new v(S,y+"leave",p,n,d),m.target=x,m.relatedTarget=g,S=null,Zr(d)===u&&(v=new v(w,y+"enter",b,n,d),v.target=g,v.relatedTarget=x,S=v),x=S,p&&b)t:{for(v=p,w=b,y=0,g=v;g;g=Ms(g))y++;for(g=0,S=w;S;S=Ms(S))g++;for(;0<y-g;)v=Ms(v),y--;for(;0<g-y;)w=Ms(w),g--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Ms(v),w=Ms(w)}v=null}else v=null;p!==null&&fm(f,m,p,v,!1),b!==null&&x!==null&&fm(f,x,b,v,!0)}}e:{if(m=u?Zs(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=ME;else if(sm(m))if(xy)_=$E;else{_=DE;var C=IE}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=LE);if(_&&(_=_(e,u))){wy(f,_,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&fd(m,"number",m.value)}switch(C=u?Zs(u):window,e){case"focusin":(sm(C)||C.contentEditable==="true")&&(Xs=C,Ed=u,Ca=null);break;case"focusout":Ca=Ed=Xs=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,cm(f,n,d);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":cm(f,n,d)}var E;if(Zf)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Qs?vy(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(gy&&n.locale!=="ko"&&(Qs||j!=="onCompositionStart"?j==="onCompositionEnd"&&Qs&&(E=my()):(yr=d,Qf="value"in yr?yr.value:yr.textContent,Qs=!0)),C=Rl(u,j),0<C.length&&(j=new em(j,e,null,n,d),f.push({event:j,listeners:C}),E?j.data=E:(E=yy(n),E!==null&&(j.data=E)))),(E=PE?NE(e,n):RE(e,n))&&(u=Rl(u,"onBeforeInput"),0<u.length&&(d=new em("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Ny(f,t)})}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=La(e,n),o!=null&&r.unshift(Ha(e,o,s)),o=La(e,t),o!=null&&r.push(Ha(e,o,s))),e=e.return}return r}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fm(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(l!==null&&l===r)break;i.tag===5&&u!==null&&(i=u,s?(l=La(n,o),l!=null&&a.unshift(Ha(n,l,i))):s||(l=La(n,o),l!=null&&a.push(Ha(n,l,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var VE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function hm(e){return(typeof e=="string"?e:""+e).replace(VE,`
`).replace(qE,"")}function Li(e,t,n){if(t=hm(t),hm(e)!==t&&n)throw Error(M(425))}function Al(){}var kd=null,jd=null;function Td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(e){return pm.resolve(null).then(e).catch(YE)}:Pd;function YE(e){setTimeout(function(){throw e})}function Su(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ua(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ua(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),vn="__reactFiber$"+Ho,Va="__reactProps$"+Ho,Wn="__reactContainer$"+Ho,Nd="__reactEvents$"+Ho,QE="__reactListeners$"+Ho,XE="__reactHandles$"+Ho;function Zr(e){var t=e[vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mm(e);e!==null;){if(n=e[vn])return n;e=mm(e)}return t}e=n,n=e.parentNode}return null}function mi(e){return e=e[vn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function mc(e){return e[Va]||null}var Rd=[],eo=-1;function Ir(e){return{current:e}}function Ee(e){0>eo||(e.current=Rd[eo],Rd[eo]=null,eo--)}function be(e,t){eo++,Rd[eo]=e.current,e.current=t}var Rr={},rt=Ir(Rr),yt=Ir(!1),us=Rr;function Po(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wt(e){return e=e.childContextTypes,e!=null}function Ol(){Ee(yt),Ee(rt)}function gm(e,t,n){if(rt.current!==Rr)throw Error(M(168));be(rt,t),be(yt,n)}function Ay(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,IS(e)||"Unknown",s));return Pe({},n,r)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,us=rt.current,be(rt,e),be(yt,yt.current),!0}function vm(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Ay(e,t,us),r.__reactInternalMemoizedMergedChildContext=e,Ee(yt),Ee(rt),be(rt,e)):Ee(yt),be(yt,n)}var Ln=null,gc=!1,Eu=!1;function Oy(e){Ln===null?Ln=[e]:Ln.push(e)}function JE(e){gc=!0,Oy(e)}function Dr(){if(!Eu&&Ln!==null){Eu=!0;var e=0,t=ge;try{var n=Ln;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ln=null,gc=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),sy(qf,Dr),s}finally{ge=t,Eu=!1}}return null}var to=[],no=0,Il=null,Dl=0,At=[],Ot=0,ds=null,Fn=1,Un="";function Gr(e,t){to[no++]=Dl,to[no++]=Il,Il=e,Dl=t}function My(e,t,n){At[Ot++]=Fn,At[Ot++]=Un,At[Ot++]=ds,ds=e;var r=Fn;e=Un;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var o=32-tn(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Fn=1<<32-tn(t)+s|n<<s|r,Un=o+e}else Fn=1<<o|n<<s|r,Un=e}function th(e){e.return!==null&&(Gr(e,1),My(e,1,0))}function nh(e){for(;e===Il;)Il=to[--no],to[no]=null,Dl=to[--no],to[no]=null;for(;e===ds;)ds=At[--Ot],At[Ot]=null,Un=At[--Ot],At[Ot]=null,Fn=At[--Ot],At[Ot]=null}var Et=null,St=null,ke=!1,en=null;function Iy(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ym(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,St=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ds!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,St=null,!0):!1;default:return!1}}function Ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Od(e){if(ke){var t=St;if(t){var n=t;if(!ym(e,t)){if(Ad(e))throw Error(M(418));t=Er(n.nextSibling);var r=Et;t&&ym(e,t)?Iy(r,n):(e.flags=e.flags&-4097|2,ke=!1,Et=e)}}else{if(Ad(e))throw Error(M(418));e.flags=e.flags&-4097|2,ke=!1,Et=e}}}function wm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function $i(e){if(e!==Et)return!1;if(!ke)return wm(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Td(e.type,e.memoizedProps)),t&&(t=St)){if(Ad(e))throw Dy(),Error(M(418));for(;t;)Iy(e,t),t=Er(t.nextSibling)}if(wm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=Er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=Et?Er(e.stateNode.nextSibling):null;return!0}function Dy(){for(var e=St;e;)e=Er(e.nextSibling)}function No(){St=Et=null,ke=!1}function rh(e){en===null?en=[e]:en.push(e)}var ZE=Gn.ReactCurrentBatchConfig;function la(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=s.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Fi(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xm(e){var t=e._init;return t(e._payload)}function Ly(e){function t(w,y){if(e){var g=w.deletions;g===null?(w.deletions=[y],w.flags|=16):g.push(y)}}function n(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Tr(w,y),w.index=0,w.sibling=null,w}function o(w,y,g){return w.index=g,e?(g=w.alternate,g!==null?(g=g.index,g<y?(w.flags|=2,y):g):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function i(w,y,g,S){return y===null||y.tag!==6?(y=Ru(g,w.mode,S),y.return=w,y):(y=s(y,g),y.return=w,y)}function l(w,y,g,S){var _=g.type;return _===Ys?d(w,y,g.props.children,S,g.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===lr&&xm(_)===y.type)?(S=s(y,g.props),S.ref=la(w,y,g),S.return=w,S):(S=pl(g.type,g.key,g.props,null,w.mode,S),S.ref=la(w,y,g),S.return=w,S)}function u(w,y,g,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Au(g,w.mode,S),y.return=w,y):(y=s(y,g.children||[]),y.return=w,y)}function d(w,y,g,S,_){return y===null||y.tag!==7?(y=cs(g,w.mode,S,_),y.return=w,y):(y=s(y,g),y.return=w,y)}function f(w,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ru(""+y,w.mode,g),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ti:return g=pl(y.type,y.key,y.props,null,w.mode,g),g.ref=la(w,null,y),g.return=w,g;case Gs:return y=Au(y,w.mode,g),y.return=w,y;case lr:var S=y._init;return f(w,S(y._payload),g)}if(ma(y)||ra(y))return y=cs(y,w.mode,g,null),y.return=w,y;Fi(w,y)}return null}function m(w,y,g,S){var _=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:i(w,y,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ti:return g.key===_?l(w,y,g,S):null;case Gs:return g.key===_?u(w,y,g,S):null;case lr:return _=g._init,m(w,y,_(g._payload),S)}if(ma(g)||ra(g))return _!==null?null:d(w,y,g,S,null);Fi(w,g)}return null}function p(w,y,g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(g)||null,i(y,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ti:return w=w.get(S.key===null?g:S.key)||null,l(y,w,S,_);case Gs:return w=w.get(S.key===null?g:S.key)||null,u(y,w,S,_);case lr:var C=S._init;return p(w,y,g,C(S._payload),_)}if(ma(S)||ra(S))return w=w.get(g)||null,d(y,w,S,_,null);Fi(y,S)}return null}function b(w,y,g,S){for(var _=null,C=null,E=y,j=y=0,N=null;E!==null&&j<g.length;j++){E.index>j?(N=E,E=null):N=E.sibling;var T=m(w,E,g[j],S);if(T===null){E===null&&(E=N);break}e&&E&&T.alternate===null&&t(w,E),y=o(T,y,j),C===null?_=T:C.sibling=T,C=T,E=N}if(j===g.length)return n(w,E),ke&&Gr(w,j),_;if(E===null){for(;j<g.length;j++)E=f(w,g[j],S),E!==null&&(y=o(E,y,j),C===null?_=E:C.sibling=E,C=E);return ke&&Gr(w,j),_}for(E=r(w,E);j<g.length;j++)N=p(E,w,j,g[j],S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?j:N.key),y=o(N,y,j),C===null?_=N:C.sibling=N,C=N);return e&&E.forEach(function(L){return t(w,L)}),ke&&Gr(w,j),_}function v(w,y,g,S){var _=ra(g);if(typeof _!="function")throw Error(M(150));if(g=_.call(g),g==null)throw Error(M(151));for(var C=_=null,E=y,j=y=0,N=null,T=g.next();E!==null&&!T.done;j++,T=g.next()){E.index>j?(N=E,E=null):N=E.sibling;var L=m(w,E,T.value,S);if(L===null){E===null&&(E=N);break}e&&E&&L.alternate===null&&t(w,E),y=o(L,y,j),C===null?_=L:C.sibling=L,C=L,E=N}if(T.done)return n(w,E),ke&&Gr(w,j),_;if(E===null){for(;!T.done;j++,T=g.next())T=f(w,T.value,S),T!==null&&(y=o(T,y,j),C===null?_=T:C.sibling=T,C=T);return ke&&Gr(w,j),_}for(E=r(w,E);!T.done;j++,T=g.next())T=p(E,w,j,T.value,S),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=o(T,y,j),C===null?_=T:C.sibling=T,C=T);return e&&E.forEach(function(A){return t(w,A)}),ke&&Gr(w,j),_}function x(w,y,g,S){if(typeof g=="object"&&g!==null&&g.type===Ys&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ti:e:{for(var _=g.key,C=y;C!==null;){if(C.key===_){if(_=g.type,_===Ys){if(C.tag===7){n(w,C.sibling),y=s(C,g.props.children),y.return=w,w=y;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===lr&&xm(_)===C.type){n(w,C.sibling),y=s(C,g.props),y.ref=la(w,C,g),y.return=w,w=y;break e}n(w,C);break}else t(w,C);C=C.sibling}g.type===Ys?(y=cs(g.props.children,w.mode,S,g.key),y.return=w,w=y):(S=pl(g.type,g.key,g.props,null,w.mode,S),S.ref=la(w,y,g),S.return=w,w=S)}return a(w);case Gs:e:{for(C=g.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(w,y.sibling),y=s(y,g.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else t(w,y);y=y.sibling}y=Au(g,w.mode,S),y.return=w,w=y}return a(w);case lr:return C=g._init,x(w,y,C(g._payload),S)}if(ma(g))return b(w,y,g,S);if(ra(g))return v(w,y,g,S);Fi(w,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,g),y.return=w,w=y):(n(w,y),y=Ru(g,w.mode,S),y.return=w,w=y),a(w)):n(w,y)}return x}var Ro=Ly(!0),$y=Ly(!1),Ll=Ir(null),$l=null,ro=null,sh=null;function oh(){sh=ro=$l=null}function ah(e){var t=Ll.current;Ee(Ll),e._currentValue=t}function Md(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function uo(e,t){$l=e,sh=ro=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(sh!==e)if(e={context:e,memoizedValue:t,next:null},ro===null){if($l===null)throw Error(M(308));ro=e,$l.dependencies={lanes:0,firstContext:e}}else ro=ro.next=e;return t}var es=null;function ih(e){es===null?es=[e]:es.push(e)}function Fy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ih(t)):(n.next=s.next,s.next=n),t.interleaved=n,Hn(e,r)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Hn(e,n)}return s=r.interleaved,s===null?(t.next=t,ih(r)):(t.next=s.next,s.next=t),r.interleaved=t,Hn(e,n)}function ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kf(e,n)}}function bm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fl(e,t,n,r){var s=e.updateQueue;cr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var l=i,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==a&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;a=0,d=u=l=null,i=o;do{var m=i.lane,p=i.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,v=i;switch(m=t,p=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=Pe({},f,m);break e;case 2:cr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=m;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;m=i,i=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);hs|=a,e.lanes=a,e.memoizedState=f}}function _m(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var gi={},Sn=Ir(gi),qa=Ir(gi),Ka=Ir(gi);function ts(e){if(e===gi)throw Error(M(174));return e}function ch(e,t){switch(be(Ka,t),be(qa,e),be(Sn,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pd(t,e)}Ee(Sn),be(Sn,t)}function Ao(){Ee(Sn),Ee(qa),Ee(Ka)}function zy(e){ts(Ka.current);var t=ts(Sn.current),n=pd(t,e.type);t!==n&&(be(qa,e),be(Sn,n))}function uh(e){qa.current===e&&(Ee(Sn),Ee(qa))}var je=Ir(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cu=[];function dh(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var cl=Gn.ReactCurrentDispatcher,ku=Gn.ReactCurrentBatchConfig,fs=0,Te=null,ze=null,Ve=null,zl=!1,ka=!1,Ga=0,eC=0;function et(){throw Error(M(321))}function fh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function hh(e,t,n,r,s,o){if(fs=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?sC:oC,e=n(r,s),ka){o=0;do{if(ka=!1,Ga=0,25<=o)throw Error(M(301));o+=1,Ve=ze=null,t.updateQueue=null,cl.current=aC,e=n(r,s)}while(ka)}if(cl.current=Bl,t=ze!==null&&ze.next!==null,fs=0,Ve=ze=Te=null,zl=!1,t)throw Error(M(300));return e}function ph(){var e=Ga!==0;return Ga=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ut(){if(ze===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ve===null?Te.memoizedState:Ve.next;if(t!==null)Ve=t,ze=e;else{if(e===null)throw Error(M(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Ya(e,t){return typeof t=="function"?t(e):t}function ju(e){var t=Ut(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ze,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=a=null,l=null,u=o;do{var d=u.lane;if((fs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(i=l=f,a=r):l=l.next=f,Te.lanes|=d,hs|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=i,rn(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Te.lanes|=o,hs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tu(e){var t=Ut(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);rn(o,t.memoizedState)||(gt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function By(){}function Wy(e,t){var n=Te,r=Ut(),s=t(),o=!rn(r.memoizedState,s);if(o&&(r.memoizedState=s,gt=!0),r=r.queue,mh(qy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Qa(9,Vy.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(M(349));fs&30||Hy(n,t,s)}return s}function Hy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vy(e,t,n,r){t.value=n,t.getSnapshot=r,Ky(t)&&Gy(e)}function qy(e,t,n){return n(function(){Ky(t)&&Gy(e)})}function Ky(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function Gy(e){var t=Hn(e,1);t!==null&&nn(t,e,1,-1)}function Sm(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=rC.bind(null,Te,e),[t.memoizedState,e]}function Qa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yy(){return Ut().memoizedState}function ul(e,t,n,r){var s=fn();Te.flags|=e,s.memoizedState=Qa(1|t,n,void 0,r===void 0?null:r)}function vc(e,t,n,r){var s=Ut();r=r===void 0?null:r;var o=void 0;if(ze!==null){var a=ze.memoizedState;if(o=a.destroy,r!==null&&fh(r,a.deps)){s.memoizedState=Qa(t,n,o,r);return}}Te.flags|=e,s.memoizedState=Qa(1|t,n,o,r)}function Em(e,t){return ul(8390656,8,e,t)}function mh(e,t){return vc(2048,8,e,t)}function Qy(e,t){return vc(4,2,e,t)}function Xy(e,t){return vc(4,4,e,t)}function Jy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zy(e,t,n){return n=n!=null?n.concat([e]):null,vc(4,4,Jy.bind(null,t,e),n)}function gh(){}function ew(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tw(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nw(e,t,n){return fs&21?(rn(n,t)||(n=iy(),Te.lanes|=n,hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function tC(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=ku.transition;ku.transition={};try{e(!1),t()}finally{ge=n,ku.transition=r}}function rw(){return Ut().memoizedState}function nC(e,t,n){var r=jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sw(e))ow(t,n);else if(n=Fy(e,t,n,r),n!==null){var s=lt();nn(n,e,r,s),aw(n,t,r)}}function rC(e,t,n){var r=jr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sw(e))ow(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(s.hasEagerState=!0,s.eagerState=i,rn(i,a)){var l=t.interleaved;l===null?(s.next=s,ih(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Fy(e,t,s,r),n!==null&&(s=lt(),nn(n,e,r,s),aw(n,t,r))}}function sw(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function ow(e,t){ka=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kf(e,n)}}var Bl={readContext:Ft,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},sC={readContext:Ft,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:Em,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ul(4194308,4,Jy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nC.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Sm,useDebugValue:gh,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Sm(!1),t=e[0];return e=tC.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,s=fn();if(ke){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ke===null)throw Error(M(349));fs&30||Hy(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Em(qy.bind(null,r,o,e),[e]),r.flags|=2048,Qa(9,Vy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=fn(),t=Ke.identifierPrefix;if(ke){var n=Un,r=Fn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ga++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oC={readContext:Ft,useCallback:ew,useContext:Ft,useEffect:mh,useImperativeHandle:Zy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:tw,useReducer:ju,useRef:Yy,useState:function(){return ju(Ya)},useDebugValue:gh,useDeferredValue:function(e){var t=Ut();return nw(t,ze.memoizedState,e)},useTransition:function(){var e=ju(Ya)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:By,useSyncExternalStore:Wy,useId:rw,unstable_isNewReconciler:!1},aC={readContext:Ft,useCallback:ew,useContext:Ft,useEffect:mh,useImperativeHandle:Zy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:tw,useReducer:Tu,useRef:Yy,useState:function(){return Tu(Ya)},useDebugValue:gh,useDeferredValue:function(e){var t=Ut();return ze===null?t.memoizedState=e:nw(t,ze.memoizedState,e)},useTransition:function(){var e=Tu(Ya)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:By,useSyncExternalStore:Wy,useId:rw,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Id(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yc={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),s=jr(e),o=zn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Cr(e,o,s),t!==null&&(nn(t,e,s,r),ll(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),s=jr(e),o=zn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Cr(e,o,s),t!==null&&(nn(t,e,s,r),ll(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=jr(e),s=zn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Cr(e,s,r),t!==null&&(nn(t,e,r,n),ll(t,e,r))}};function Cm(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,o):!0}function iw(e,t,n){var r=!1,s=Rr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ft(o):(s=wt(t)?us:rt.current,r=t.contextTypes,o=(r=r!=null)?Po(e,s):Rr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function km(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yc.enqueueReplaceState(t,t.state,null)}function Dd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},lh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ft(o):(o=wt(t)?us:rt.current,s.context=Po(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Id(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yc.enqueueReplaceState(s,s.state,null),Fl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Oo(e,t){try{var n="",r=t;do n+=MS(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Pu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ld(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iC=typeof WeakMap=="function"?WeakMap:Map;function lw(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kd=r),Ld(e,t)},n}function cw(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ld(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ld(e,t),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function jm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bC.bind(null,e,t,n),t.then(e,e))}function Tm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,Cr(n,t,1))),n.lanes|=1),e)}var lC=Gn.ReactCurrentOwner,gt=!1;function at(e,t,n,r){t.child=e===null?$y(t,null,n,r):Ro(t,e.child,n,r)}function Nm(e,t,n,r,s){n=n.render;var o=t.ref;return uo(t,s),r=hh(e,t,n,r,o,s),n=ph(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(ke&&n&&th(t),t.flags|=1,at(e,t,r,s),t.child)}function Rm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Eh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,uw(e,t,o,r,s)):(e=pl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(a,r)&&e.ref===t.ref)return Vn(e,t,s)}return t.flags|=1,e=Tr(o,r),e.ref=t.ref,e.return=t,t.child=e}function uw(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ba(o,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,Vn(e,t,s)}return $d(e,t,n,r,s)}function dw(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(oo,bt),bt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(oo,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,be(oo,bt),bt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,be(oo,bt),bt|=r;return at(e,t,s,n),t.child}function fw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $d(e,t,n,r,s){var o=wt(n)?us:rt.current;return o=Po(t,o),uo(t,s),n=hh(e,t,n,r,o,s),r=ph(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(ke&&r&&th(t),t.flags|=1,at(e,t,n,s),t.child)}function Am(e,t,n,r,s){if(wt(n)){var o=!0;Ml(t)}else o=!1;if(uo(t,s),t.stateNode===null)dl(e,t),iw(t,n,r),Dd(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=wt(n)?us:rt.current,u=Po(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||l!==u)&&km(t,a,r,u),cr=!1;var m=t.memoizedState;a.state=m,Fl(t,r,a,s),l=t.memoizedState,i!==r||m!==l||yt.current||cr?(typeof d=="function"&&(Id(t,n,d,r),l=t.memoizedState),(i=cr||Cm(t,n,i,r,m,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Uy(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Gt(t.type,i),a.props=u,f=t.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=wt(n)?us:rt.current,l=Po(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||m!==l)&&km(t,a,r,l),cr=!1,m=t.memoizedState,a.state=m,Fl(t,r,a,s);var b=t.memoizedState;i!==f||m!==b||yt.current||cr?(typeof p=="function"&&(Id(t,n,p,r),b=t.memoizedState),(u=cr||Cm(t,n,u,r,m,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Fd(e,t,n,r,o,s)}function Fd(e,t,n,r,s,o){fw(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&vm(t,n,!1),Vn(e,t,o);r=t.stateNode,lC.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,i,o)):at(e,t,i,o),t.memoizedState=r.state,s&&vm(t,n,!0),t.child}function hw(e){var t=e.stateNode;t.pendingContext?gm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gm(e,t.context,!1),ch(e,t.containerInfo)}function Om(e,t,n,r,s){return No(),rh(s),t.flags|=256,at(e,t,n,r),t.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function zd(e){return{baseLanes:e,cachePool:null,transitions:null}}function pw(e,t,n){var r=t.pendingProps,s=je.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(je,s&1),e===null)return Od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=bc(a,r,0,null),e=cs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zd(n),t.memoizedState=Ud,e):vh(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return cC(e,t,a,r,i,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,i=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=Tr(i,o):(o=cs(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?zd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Ud,r}return o=e.child,e=o.sibling,r=Tr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vh(e,t){return t=bc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,n,r){return r!==null&&rh(r),Ro(t,e.child,null,n),e=vh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cC(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Pu(Error(M(422))),Ui(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=bc({mode:"visible",children:r.children},s,0,null),o=cs(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ro(t,e.child,null,a),t.child.memoizedState=zd(a),t.memoizedState=Ud,o);if(!(t.mode&1))return Ui(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(M(419)),r=Pu(o,r,void 0),Ui(e,t,a,r)}if(i=(a&e.childLanes)!==0,gt||i){if(r=Ke,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Hn(e,s),nn(r,e,s,-1))}return Sh(),r=Pu(Error(M(421))),Ui(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_C.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,St=Er(s.nextSibling),Et=t,ke=!0,en=null,e!==null&&(At[Ot++]=Fn,At[Ot++]=Un,At[Ot++]=ds,Fn=e.id,Un=e.overflow,ds=t),t=vh(t,r.children),t.flags|=4096,t)}function Mm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Md(e.return,t,n)}function Nu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function mw(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(at(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mm(e,n,t);else if(e.tag===19)Mm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(je,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ul(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nu(t,!0,n,null,o);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uC(e,t,n){switch(t.tag){case 3:hw(t),No();break;case 5:zy(t);break;case 1:wt(t.type)&&Ml(t);break;case 4:ch(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;be(Ll,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?pw(e,t,n):(be(je,je.current&1),e=Vn(e,t,n),e!==null?e.sibling:null);be(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,dw(e,t,n)}return Vn(e,t,n)}var gw,Bd,vw,yw;gw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};vw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ts(Sn.current);var o=null;switch(n){case"input":s=ud(e,s),r=ud(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=hd(e,s),r=hd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}md(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ia.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==i&&(l!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&i[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",e),o||i===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};yw=function(e,t,n,r){n!==r&&(t.flags|=4)};function ca(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dC(e,t,n){var r=t.pendingProps;switch(nh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return wt(t.type)&&Ol(),tt(t),null;case 3:return r=t.stateNode,Ao(),Ee(yt),Ee(rt),dh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($i(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(Qd(en),en=null))),Bd(e,t),tt(t),null;case 5:uh(t);var s=ts(Ka.current);if(n=t.type,e!==null&&t.stateNode!=null)vw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return tt(t),null}if(e=ts(Sn.current),$i(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[vn]=t,r[Va]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<va.length;s++)Se(va[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Wp(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":Vp(r,o),Se("invalid",r)}md(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&Li(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&Li(r.textContent,i,e),s=["children",""+i]):Ia.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Se("scroll",r)}switch(n){case"input":Pi(r),Hp(r,o,!0);break;case"textarea":Pi(r),qp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Al)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[vn]=t,e[Va]=r,gw(e,t,!1,!1),t.stateNode=e;e:{switch(a=gd(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<va.length;s++)Se(va[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":Wp(e,r),s=ud(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Vp(e,r),s=hd(e,r),Se("invalid",e);break;default:s=r}md(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="style"?Yv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kv(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Da(e,l):typeof l=="number"&&Da(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ia.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Se("scroll",e):l!=null&&zf(e,o,l,a))}switch(n){case"input":Pi(e),Hp(e,r,!1);break;case"textarea":Pi(e),qp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ao(e,!!r.multiple,o,!1):r.defaultValue!=null&&ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)yw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=ts(Ka.current),ts(Sn.current),$i(t)){if(r=t.stateNode,n=t.memoizedProps,r[vn]=t,(o=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:Li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Li(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=t,t.stateNode=r}return tt(t),null;case 13:if(Ee(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&St!==null&&t.mode&1&&!(t.flags&128))Dy(),No(),t.flags|=98560,o=!1;else if(o=$i(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(M(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[vn]=t}else No(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else en!==null&&(Qd(en),en=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Be===0&&(Be=3):Sh())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Ao(),Bd(e,t),e===null&&Wa(t.stateNode.containerInfo),tt(t),null;case 10:return ah(t.type._context),tt(t),null;case 17:return wt(t.type)&&Ol(),tt(t),null;case 19:if(Ee(je),o=t.memoizedState,o===null)return tt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ca(o,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ul(e),a!==null){for(t.flags|=128,ca(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Me()>Mo&&(t.flags|=128,r=!0,ca(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ul(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ca(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ke)return tt(t),null}else 2*Me()-o.renderingStartTime>Mo&&n!==1073741824&&(t.flags|=128,r=!0,ca(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Me(),t.sibling=null,n=je.current,be(je,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return _h(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function fC(e,t){switch(nh(t),t.tag){case 1:return wt(t.type)&&Ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ao(),Ee(yt),Ee(rt),dh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uh(t),null;case 13:if(Ee(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));No()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(je),null;case 4:return Ao(),null;case 10:return ah(t.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var zi=!1,nt=!1,hC=typeof WeakSet=="function"?WeakSet:Set,U=null;function so(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Wd(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Im=!1;function pC(e,t){if(kd=Pl,e=Sy(),eh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,l=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(i=a+s),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(i=a),m===o&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jd={focusedElem:e,selectionRange:n},Pl=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:Gt(t.type,v),x);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(S){Re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return b=Im,Im=!1,b}function ja(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Wd(t,n,o)}s=s.next}while(s!==r)}}function wc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ww(e){var t=e.alternate;t!==null&&(e.alternate=null,ww(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vn],delete t[Va],delete t[Nd],delete t[QE],delete t[XE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xw(e){return e.tag===5||e.tag===3||e.tag===4}function Dm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(Vd(e,t,n),e=e.sibling;e!==null;)Vd(e,t,n),e=e.sibling}function qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}var Ge=null,Jt=!1;function er(e,t,n){for(n=n.child;n!==null;)bw(e,t,n),n=n.sibling}function bw(e,t,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(dc,n)}catch{}switch(n.tag){case 5:nt||so(n,t);case 6:var r=Ge,s=Jt;Ge=null,er(e,t,n),Ge=r,Jt=s,Ge!==null&&(Jt?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Jt?(e=Ge,n=n.stateNode,e.nodeType===8?Su(e.parentNode,n):e.nodeType===1&&Su(e,n),Ua(e)):Su(Ge,n.stateNode));break;case 4:r=Ge,s=Jt,Ge=n.stateNode.containerInfo,Jt=!0,er(e,t,n),Ge=r,Jt=s;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Wd(n,t,a),s=s.next}while(s!==r)}er(e,t,n);break;case 1:if(!nt&&(so(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Re(n,t,i)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,er(e,t,n),nt=r):er(e,t,n);break;default:er(e,t,n)}}function Lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hC),t.forEach(function(r){var s=SC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ge=i.stateNode,Jt=!1;break e;case 3:Ge=i.stateNode.containerInfo,Jt=!0;break e;case 4:Ge=i.stateNode.containerInfo,Jt=!0;break e}i=i.return}if(Ge===null)throw Error(M(160));bw(o,a,s),Ge=null,Jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_w(t,e),t=t.sibling}function _w(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),dn(e),r&4){try{ja(3,e,e.return),wc(3,e)}catch(v){Re(e,e.return,v)}try{ja(5,e,e.return)}catch(v){Re(e,e.return,v)}}break;case 1:Ht(t,e),dn(e),r&512&&n!==null&&so(n,n.return);break;case 5:if(Ht(t,e),dn(e),r&512&&n!==null&&so(n,n.return),e.flags&32){var s=e.stateNode;try{Da(s,"")}catch(v){Re(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Hv(s,o),gd(i,a);var u=gd(i,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Yv(s,f):d==="dangerouslySetInnerHTML"?Kv(s,f):d==="children"?Da(s,f):zf(s,d,f,u)}switch(i){case"input":dd(s,o);break;case"textarea":Vv(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ao(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?ao(s,!!o.multiple,o.defaultValue,!0):ao(s,!!o.multiple,o.multiple?[]:"",!1))}s[Va]=o}catch(v){Re(e,e.return,v)}}break;case 6:if(Ht(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Re(e,e.return,v)}}break;case 3:if(Ht(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ua(t.containerInfo)}catch(v){Re(e,e.return,v)}break;case 4:Ht(t,e),dn(e);break;case 13:Ht(t,e),dn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(xh=Me())),r&4&&Lm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(u=nt)||d,Ht(t,e),nt=u):Ht(t,e),dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(f=U=d;U!==null;){switch(m=U,p=m.child,m.tag){case 0:case 11:case 14:case 15:ja(4,m,m.return);break;case 1:so(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){Re(r,n,v)}}break;case 5:so(m,m.return);break;case 22:if(m.memoizedState!==null){Fm(f);continue}}p!==null?(p.return=m,U=p):Fm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=Gv("display",a))}catch(v){Re(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Re(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(t,e),dn(e),r&4&&Lm(e);break;case 21:break;default:Ht(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xw(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Da(s,""),r.flags&=-33);var o=Dm(e);qd(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Dm(e);Vd(e,i,a);break;default:throw Error(M(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mC(e,t,n){U=e,Sw(e)}function Sw(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||zi;if(!a){var i=s.alternate,l=i!==null&&i.memoizedState!==null||nt;i=zi;var u=nt;if(zi=a,(nt=l)&&!u)for(U=s;U!==null;)a=U,l=a.child,a.tag===22&&a.memoizedState!==null?Um(s):l!==null?(l.return=a,U=l):Um(s);for(;o!==null;)U=o,Sw(o),o=o.sibling;U=s,zi=i,nt=u}$m(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,U=o):$m(e)}}function $m(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||wc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_m(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_m(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ua(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}nt||t.flags&512&&Hd(t)}catch(m){Re(t,t.return,m)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Fm(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Um(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wc(4,t)}catch(l){Re(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Re(t,s,l)}}var o=t.return;try{Hd(t)}catch(l){Re(t,o,l)}break;case 5:var a=t.return;try{Hd(t)}catch(l){Re(t,a,l)}}}catch(l){Re(t,t.return,l)}if(t===e){U=null;break}var i=t.sibling;if(i!==null){i.return=t.return,U=i;break}U=t.return}}var gC=Math.ceil,Wl=Gn.ReactCurrentDispatcher,yh=Gn.ReactCurrentOwner,Dt=Gn.ReactCurrentBatchConfig,ie=0,Ke=null,De=null,Qe=0,bt=0,oo=Ir(0),Be=0,Xa=null,hs=0,xc=0,wh=0,Ta=null,pt=null,xh=0,Mo=1/0,In=null,Hl=!1,Kd=null,kr=null,Bi=!1,wr=null,Vl=0,Pa=0,Gd=null,fl=-1,hl=0;function lt(){return ie&6?Me():fl!==-1?fl:fl=Me()}function jr(e){return e.mode&1?ie&2&&Qe!==0?Qe&-Qe:ZE.transition!==null?(hl===0&&(hl=iy()),hl):(e=ge,e!==0||(e=window.event,e=e===void 0?16:py(e.type)),e):1}function nn(e,t,n,r){if(50<Pa)throw Pa=0,Gd=null,Error(M(185));hi(e,n,r),(!(ie&2)||e!==Ke)&&(e===Ke&&(!(ie&2)&&(xc|=n),Be===4&&dr(e,Qe)),xt(e,r),n===1&&ie===0&&!(t.mode&1)&&(Mo=Me()+500,gc&&Dr()))}function xt(e,t){var n=e.callbackNode;ZS(e,t);var r=Tl(e,e===Ke?Qe:0);if(r===0)n!==null&&Yp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yp(n),t===1)e.tag===0?JE(zm.bind(null,e)):Oy(zm.bind(null,e)),GE(function(){!(ie&6)&&Dr()}),n=null;else{switch(ly(r)){case 1:n=qf;break;case 4:n=oy;break;case 16:n=jl;break;case 536870912:n=ay;break;default:n=jl}n=Rw(n,Ew.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ew(e,t){if(fl=-1,hl=0,ie&6)throw Error(M(327));var n=e.callbackNode;if(fo()&&e.callbackNode!==n)return null;var r=Tl(e,e===Ke?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ql(e,r);else{t=r;var s=ie;ie|=2;var o=kw();(Ke!==e||Qe!==t)&&(In=null,Mo=Me()+500,ls(e,t));do try{wC();break}catch(i){Cw(e,i)}while(!0);oh(),Wl.current=o,ie=s,De!==null?t=0:(Ke=null,Qe=0,t=Be)}if(t!==0){if(t===2&&(s=bd(e),s!==0&&(r=s,t=Yd(e,s))),t===1)throw n=Xa,ls(e,0),dr(e,r),xt(e,Me()),n;if(t===6)dr(e,r);else{if(s=e.current.alternate,!(r&30)&&!vC(s)&&(t=ql(e,r),t===2&&(o=bd(e),o!==0&&(r=o,t=Yd(e,o))),t===1))throw n=Xa,ls(e,0),dr(e,r),xt(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Yr(e,pt,In);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=xh+500-Me(),10<t)){if(Tl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pd(Yr.bind(null,e,pt,In),t);break}Yr(e,pt,In);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-tn(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gC(r/1960))-r,10<r){e.timeoutHandle=Pd(Yr.bind(null,e,pt,In),r);break}Yr(e,pt,In);break;case 5:Yr(e,pt,In);break;default:throw Error(M(329))}}}return xt(e,Me()),e.callbackNode===n?Ew.bind(null,e):null}function Yd(e,t){var n=Ta;return e.current.memoizedState.isDehydrated&&(ls(e,t).flags|=256),e=ql(e,t),e!==2&&(t=pt,pt=n,t!==null&&Qd(t)),e}function Qd(e){pt===null?pt=e:pt.push.apply(pt,e)}function vC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!rn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~wh,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function zm(e){if(ie&6)throw Error(M(327));fo();var t=Tl(e,0);if(!(t&1))return xt(e,Me()),null;var n=ql(e,t);if(e.tag!==0&&n===2){var r=bd(e);r!==0&&(t=r,n=Yd(e,r))}if(n===1)throw n=Xa,ls(e,0),dr(e,t),xt(e,Me()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yr(e,pt,In),xt(e,Me()),null}function bh(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Mo=Me()+500,gc&&Dr())}}function ps(e){wr!==null&&wr.tag===0&&!(ie&6)&&fo();var t=ie;ie|=1;var n=Dt.transition,r=ge;try{if(Dt.transition=null,ge=1,e)return e()}finally{ge=r,Dt.transition=n,ie=t,!(ie&6)&&Dr()}}function _h(){bt=oo.current,Ee(oo)}function ls(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KE(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(nh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ol();break;case 3:Ao(),Ee(yt),Ee(rt),dh();break;case 5:uh(r);break;case 4:Ao();break;case 13:Ee(je);break;case 19:Ee(je);break;case 10:ah(r.type._context);break;case 22:case 23:_h()}n=n.return}if(Ke=e,De=e=Tr(e.current,null),Qe=bt=t,Be=0,Xa=null,wh=xc=hs=0,pt=Ta=null,es!==null){for(t=0;t<es.length;t++)if(n=es[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}es=null}return e}function Cw(e,t){do{var n=De;try{if(oh(),cl.current=Bl,zl){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zl=!1}if(fs=0,Ve=ze=Te=null,ka=!1,Ga=0,yh.current=null,n===null||n.return===null){Be=1,Xa=t,De=null;break}e:{var o=e,a=n.return,i=n,l=t;if(t=Qe,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Tm(a);if(p!==null){p.flags&=-257,Pm(p,a,i,o,t),p.mode&1&&jm(o,u,t),t=p,l=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(l),t.updateQueue=v}else b.add(l);break e}else{if(!(t&1)){jm(o,u,t),Sh();break e}l=Error(M(426))}}else if(ke&&i.mode&1){var x=Tm(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Pm(x,a,i,o,t),rh(Oo(l,i));break e}}o=l=Oo(l,i),Be!==4&&(Be=2),Ta===null?Ta=[o]:Ta.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=lw(o,l,t);bm(o,w);break e;case 1:i=l;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(kr===null||!kr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=cw(o,i,t);bm(o,S);break e}}o=o.return}while(o!==null)}Tw(n)}catch(_){t=_,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function kw(){var e=Wl.current;return Wl.current=Bl,e===null?Bl:e}function Sh(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(hs&268435455)&&!(xc&268435455)||dr(Ke,Qe)}function ql(e,t){var n=ie;ie|=2;var r=kw();(Ke!==e||Qe!==t)&&(In=null,ls(e,t));do try{yC();break}catch(s){Cw(e,s)}while(!0);if(oh(),ie=n,Wl.current=r,De!==null)throw Error(M(261));return Ke=null,Qe=0,Be}function yC(){for(;De!==null;)jw(De)}function wC(){for(;De!==null&&!HS();)jw(De)}function jw(e){var t=Nw(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Tw(e):De=t,yh.current=null}function Tw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fC(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,De=null;return}}else if(n=dC(n,t,bt),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Be===0&&(Be=5)}function Yr(e,t,n){var r=ge,s=Dt.transition;try{Dt.transition=null,ge=1,xC(e,t,n,r)}finally{Dt.transition=s,ge=r}return null}function xC(e,t,n,r){do fo();while(wr!==null);if(ie&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(eE(e,o),e===Ke&&(De=Ke=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Rw(jl,function(){return fo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var a=ge;ge=1;var i=ie;ie|=4,yh.current=null,pC(e,n),_w(n,e),UE(jd),Pl=!!kd,jd=kd=null,e.current=n,mC(n),VS(),ie=i,ge=a,Dt.transition=o}else e.current=n;if(Bi&&(Bi=!1,wr=e,Vl=s),o=e.pendingLanes,o===0&&(kr=null),GS(n.stateNode),xt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hl)throw Hl=!1,e=Kd,Kd=null,e;return Vl&1&&e.tag!==0&&fo(),o=e.pendingLanes,o&1?e===Gd?Pa++:(Pa=0,Gd=e):Pa=0,Dr(),null}function fo(){if(wr!==null){var e=ly(Vl),t=Dt.transition,n=ge;try{if(Dt.transition=null,ge=16>e?16:e,wr===null)var r=!1;else{if(e=wr,wr=null,Vl=0,ie&6)throw Error(M(331));var s=ie;for(ie|=4,U=e.current;U!==null;){var o=U,a=o.child;if(U.flags&16){var i=o.deletions;if(i!==null){for(var l=0;l<i.length;l++){var u=i[l];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:ja(8,d,o)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var m=d.sibling,p=d.return;if(ww(d),d===u){U=null;break}if(m!==null){m.return=p,U=m;break}U=p}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}U=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,U=a;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ja(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,U=w;break e}U=o.return}}var y=e.current;for(U=y;U!==null;){a=U;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,U=g;else e:for(a=y;U!==null;){if(i=U,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:wc(9,i)}}catch(_){Re(i,i.return,_)}if(i===a){U=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,U=S;break e}U=i.return}}if(ie=s,Dr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(dc,e)}catch{}r=!0}return r}finally{ge=n,Dt.transition=t}}return!1}function Bm(e,t,n){t=Oo(n,t),t=lw(e,t,1),e=Cr(e,t,1),t=lt(),e!==null&&(hi(e,1,t),xt(e,t))}function Re(e,t,n){if(e.tag===3)Bm(e,e,n);else for(;t!==null;){if(t.tag===3){Bm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){e=Oo(n,e),e=cw(t,e,1),t=Cr(t,e,1),e=lt(),t!==null&&(hi(t,1,e),xt(t,e));break}}t=t.return}}function bC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Qe&n)===n&&(Be===4||Be===3&&(Qe&130023424)===Qe&&500>Me()-xh?ls(e,0):wh|=n),xt(e,t)}function Pw(e,t){t===0&&(e.mode&1?(t=Ai,Ai<<=1,!(Ai&130023424)&&(Ai=4194304)):t=1);var n=lt();e=Hn(e,t),e!==null&&(hi(e,t,n),xt(e,n))}function _C(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pw(e,n)}function SC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Pw(e,n)}var Nw;Nw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,uC(e,t,n);gt=!!(e.flags&131072)}else gt=!1,ke&&t.flags&1048576&&My(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dl(e,t),e=t.pendingProps;var s=Po(t,rt.current);uo(t,n),s=hh(null,t,r,e,s,n);var o=ph();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(o=!0,Ml(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lh(t),s.updater=yc,t.stateNode=s,s._reactInternals=t,Dd(t,r,e,n),t=Fd(null,t,r,!0,o,n)):(t.tag=0,ke&&o&&th(t),at(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=CC(r),e=Gt(r,e),s){case 0:t=$d(null,t,r,e,n);break e;case 1:t=Am(null,t,r,e,n);break e;case 11:t=Nm(null,t,r,e,n);break e;case 14:t=Rm(null,t,r,Gt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gt(r,s),$d(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gt(r,s),Am(e,t,r,s,n);case 3:e:{if(hw(t),e===null)throw Error(M(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Uy(e,t),Fl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Oo(Error(M(423)),t),t=Om(e,t,r,n,s);break e}else if(r!==s){s=Oo(Error(M(424)),t),t=Om(e,t,r,n,s);break e}else for(St=Er(t.stateNode.containerInfo.firstChild),Et=t,ke=!0,en=null,n=$y(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===s){t=Vn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return zy(t),e===null&&Od(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Td(r,s)?a=null:o!==null&&Td(r,o)&&(t.flags|=32),fw(e,t),at(e,t,a,n),t.child;case 6:return e===null&&Od(t),null;case 13:return pw(e,t,n);case 4:return ch(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ro(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gt(r,s),Nm(e,t,r,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,be(Ll,r._currentValue),r._currentValue=a,o!==null)if(rn(o.value,a)){if(o.children===s.children&&!yt.current){t=Vn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var l=i.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=zn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Md(o.return,n,t),i.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(M(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Md(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,uo(t,n),s=Ft(s),r=r(s),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,s=Gt(r,t.pendingProps),s=Gt(r.type,s),Rm(e,t,r,s,n);case 15:return uw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gt(r,s),dl(e,t),t.tag=1,wt(r)?(e=!0,Ml(t)):e=!1,uo(t,n),iw(t,r,s),Dd(t,r,s,n),Fd(null,t,r,!0,e,n);case 19:return mw(e,t,n);case 22:return dw(e,t,n)}throw Error(M(156,t.tag))};function Rw(e,t){return sy(e,t)}function EC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new EC(e,t,n,r)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CC(e){if(typeof e=="function")return Eh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wf)return 11;if(e===Hf)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pl(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Eh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ys:return cs(n.children,s,o,t);case Bf:a=8,s|=8;break;case ad:return e=It(12,n,t,s|2),e.elementType=ad,e.lanes=o,e;case id:return e=It(13,n,t,s),e.elementType=id,e.lanes=o,e;case ld:return e=It(19,n,t,s),e.elementType=ld,e.lanes=o,e;case zv:return bc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fv:a=10;break e;case Uv:a=9;break e;case Wf:a=11;break e;case Hf:a=14;break e;case lr:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=It(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function cs(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function bc(e,t,n,r){return e=It(22,e,r,t),e.elementType=zv,e.lanes=n,e.stateNode={isHidden:!1},e}function Ru(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Au(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fu(0),this.expirationTimes=fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ch(e,t,n,r,s,o,a,i,l){return e=new kC(e,t,n,i,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=It(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(o),e}function jC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Aw(e){if(!e)return Rr;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(wt(n))return Ay(e,n,t)}return t}function Ow(e,t,n,r,s,o,a,i,l){return e=Ch(n,r,!0,e,s,o,a,i,l),e.context=Aw(null),n=e.current,r=lt(),s=jr(n),o=zn(r,s),o.callback=t??null,Cr(n,o,s),e.current.lanes=s,hi(e,s,r),xt(e,r),e}function _c(e,t,n,r){var s=t.current,o=lt(),a=jr(s);return n=Aw(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cr(s,t,a),e!==null&&(nn(e,s,a,o),ll(e,s,a)),a}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kh(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function TC(){return null}var Mw=typeof reportError=="function"?reportError:function(e){console.error(e)};function jh(e){this._internalRoot=e}Sc.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));_c(e,t,null,null)};Sc.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ps(function(){_c(null,e,null,null)}),t[Wn]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&hy(e)}};function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function PC(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Kl(a);o.call(u)}}var a=Ow(t,r,e,0,null,!1,!1,"",Hm);return e._reactRootContainer=a,e[Wn]=a.current,Wa(e.nodeType===8?e.parentNode:e),ps(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=Kl(l);i.call(u)}}var l=Ch(e,0,!1,null,null,!1,!1,"",Hm);return e._reactRootContainer=l,e[Wn]=l.current,Wa(e.nodeType===8?e.parentNode:e),ps(function(){_c(t,l,n,r)}),l}function Cc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var i=s;s=function(){var l=Kl(a);i.call(l)}}_c(t,a,e,s)}else a=PC(n,t,e,s,r);return Kl(a)}cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ga(t.pendingLanes);n!==0&&(Kf(t,n|1),xt(t,Me()),!(ie&6)&&(Mo=Me()+500,Dr()))}break;case 13:ps(function(){var r=Hn(e,1);if(r!==null){var s=lt();nn(r,e,1,s)}}),kh(e,1)}};Gf=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=lt();nn(t,e,134217728,n)}kh(e,134217728)}};uy=function(e){if(e.tag===13){var t=jr(e),n=Hn(e,t);if(n!==null){var r=lt();nn(n,e,t,r)}kh(e,t)}};dy=function(){return ge};fy=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};yd=function(e,t,n){switch(t){case"input":if(dd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=mc(r);if(!s)throw Error(M(90));Wv(r),dd(r,s)}}}break;case"textarea":Vv(e,n);break;case"select":t=n.value,t!=null&&ao(e,!!n.multiple,t,!1)}};Jv=bh;Zv=ps;var NC={usingClientEntryPoint:!1,Events:[mi,Zs,mc,Qv,Xv,bh]},ua={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RC={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ny(e),e===null?null:e.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{dc=Wi.inject(RC),_n=Wi}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(t))throw Error(M(200));return jC(e,t,null,n)};jt.createRoot=function(e,t){if(!Th(e))throw Error(M(299));var n=!1,r="",s=Mw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ch(e,1,!1,null,null,n,!1,r,s),e[Wn]=t.current,Wa(e.nodeType===8?e.parentNode:e),new jh(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=ny(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return ps(e)};jt.hydrate=function(e,t,n){if(!Ec(t))throw Error(M(200));return Cc(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!Th(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Mw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Ow(t,null,e,1,n??null,s,!1,o,a),e[Wn]=t.current,Wa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sc(t)};jt.render=function(e,t,n){if(!Ec(t))throw Error(M(200));return Cc(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!Ec(e))throw Error(M(40));return e._reactRootContainer?(ps(function(){Cc(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};jt.unstable_batchedUpdates=bh;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ec(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Cc(e,t,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function Iw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iw)}catch(e){console.error(e)}}Iw(),Iv.exports=jt;var Vo=Iv.exports;const Dw=Sv(Vo);var Vm=Vo;sd.createRoot=Vm.createRoot,sd.hydrateRoot=Vm.hydrateRoot;var kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jc=typeof window>"u"||"Deno"in globalThis;function Yt(){}function AC(e,t){return typeof e=="function"?e(t):e}function OC(e){return typeof e=="number"&&e>=0&&e!==1/0}function MC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xd(e,t){return typeof e=="function"?e(t):e}function IC(e,t){return typeof e=="function"?e(t):e}function qm(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:i}=e;if(a){if(r){if(t.queryHash!==Ph(a,t.options))return!1}else if(!Za(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||s&&s!==t.state.fetchStatus||o&&!o(t))}function Km(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ja(t.options.mutationKey)!==Ja(o))return!1}else if(!Za(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ph(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ja)(e)}function Ja(e){return JSON.stringify(e,(t,n)=>Jd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Za(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Za(e[n],t[n])):!1}function Lw(e,t){if(e===t)return e;const n=Gm(e)&&Gm(t);if(n||Jd(e)&&Jd(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),a=o.length,i=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:o[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(i[f]=void 0,u++):(i[f]=Lw(e[f],t[f]),i[f]===e[f]&&e[f]!==void 0&&u++)}return s===a&&u===s?e:i}return t}function Gm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jd(e){if(!Ym(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ym(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ym(e){return Object.prototype.toString.call(e)==="[object Object]"}function DC(e){return new Promise(t=>{setTimeout(t,e)})}function LC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Lw(e,t):t}function $C(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function FC(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Nh=Symbol();function $w(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var rs,hr,wo,mv,UC=(mv=class extends kc{constructor(){super();de(this,rs);de(this,hr);de(this,wo);X(this,wo,t=>{if(!jc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,hr)||this.setEventListener(R(this,wo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,hr))==null||t.call(this),X(this,hr,void 0))}setEventListener(t){var n;X(this,wo,t),(n=R(this,hr))==null||n.call(this),X(this,hr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,rs)!==t&&(X(this,rs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,rs)=="boolean"?R(this,rs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},rs=new WeakMap,hr=new WeakMap,wo=new WeakMap,mv),Fw=new UC,xo,pr,bo,gv,zC=(gv=class extends kc{constructor(){super();de(this,xo,!0);de(this,pr);de(this,bo);X(this,bo,t=>{if(!jc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,pr)||this.setEventListener(R(this,bo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,pr))==null||t.call(this),X(this,pr,void 0))}setEventListener(t){var n;X(this,bo,t),(n=R(this,pr))==null||n.call(this),X(this,pr,t(this.setOnline.bind(this)))}setOnline(t){R(this,xo)!==t&&(X(this,xo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,xo)}},xo=new WeakMap,pr=new WeakMap,bo=new WeakMap,gv),Gl=new zC;function BC(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function WC(e){return Math.min(1e3*2**e,3e4)}function Uw(e){return(e??"online")==="online"?Gl.isOnline():!0}var zw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bw(e){let t=!1,n=0,r;const s=BC(),o=()=>s.status!=="pending",a=v=>{var x;o()||(m(new zw(v)),(x=e.abort)==null||x.call(e))},i=()=>{t=!0},l=()=>{t=!1},u=()=>Fw.isFocused()&&(e.networkMode==="always"||Gl.isOnline())&&e.canRun(),d=()=>Uw(e.networkMode)&&e.canRun(),f=v=>{o()||(r==null||r(),s.resolve(v))},m=v=>{o()||(r==null||r(),s.reject(v))},p=()=>new Promise(v=>{var x;r=w=>{(o()||u())&&v(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;r=void 0,o()||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(o())return;let v;const x=n===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var C;if(o())return;const y=e.retry??(jc?0:3),g=e.retryDelay??WC,S=typeof g=="function"?g(n,w):g,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(t||!_){m(w);return}n++,(C=e.onFail)==null||C.call(e,n,w),DC(S).then(()=>u()?void 0:p()).then(()=>{t?m(w):b()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:i,continueRetry:l,canStart:d,start:()=>(d()?b():p().then(b),s)}}var HC=e=>setTimeout(e,0);function VC(){let e=[],t=0,n=i=>{i()},r=i=>{i()},s=HC;const o=i=>{t?e.push(i):s(()=>{n(i)})},a=()=>{const i=e;e=[],i.length&&s(()=>{r(()=>{i.forEach(l=>{n(l)})})})};return{batch:i=>{let l;t++;try{l=i()}finally{t--,t||a()}return l},batchCalls:i=>(...l)=>{o(()=>{i(...l)})},schedule:o,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{s=i}}}var it=VC(),ss,vv,Ww=(vv=class{constructor(){de(this,ss)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OC(this.gcTime)&&X(this,ss,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jc?1/0:5*60*1e3))}clearGcTimeout(){R(this,ss)&&(clearTimeout(R(this,ss)),X(this,ss,void 0))}},ss=new WeakMap,vv),_o,So,Rt,os,He,ui,as,Qt,An,yv,qC=(yv=class extends Ww{constructor(t){super();de(this,Qt);de(this,_o);de(this,So);de(this,Rt);de(this,os);de(this,He);de(this,ui);de(this,as);X(this,as,!1),X(this,ui,t.defaultOptions),this.setOptions(t.options),this.observers=[],X(this,os,t.client),X(this,Rt,R(this,os).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,X(this,_o,GC(this.options)),this.state=t.state??R(this,_o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,He))==null?void 0:t.promise}setOptions(t){this.options={...R(this,ui),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Rt).remove(this)}setData(t,n){const r=LC(this.state.data,t,this.options);return Ze(this,Qt,An).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ze(this,Qt,An).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=R(this,He))==null?void 0:r.promise;return(s=R(this,He))==null||s.cancel(t),n?n.then(Yt).catch(Yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,_o))}isActive(){return this.observers.some(t=>IC(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!MC(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,He))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,He))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Rt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,He)&&(R(this,as)?R(this,He).cancel({revert:!0}):R(this,He).cancelRetry()),this.scheduleGc()),R(this,Rt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Qt,An).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,f,m,p,b,v,x,w,y,g;if(this.state.fetchStatus!=="idle"&&((l=R(this,He))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,He))return R(this,He).continueRetry(),R(this,He).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(_=>_.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(X(this,as,!0),r.signal)})},o=()=>{const S=$w(this.options,n),C=(()=>{const E={client:R(this,os),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return X(this,as,!1),this.options.persister?this.options.persister(S,C,this):S(C)},i=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,os),state:this.state,fetchFn:o};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(i,this),X(this,So,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&Ze(this,Qt,An).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta}),X(this,He,Bw({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onFail:(S,_)=>{Ze(this,Qt,An).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{Ze(this,Qt,An).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Qt,An).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}));try{const S=await R(this,He).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(p=(m=R(this,Rt).config).onSuccess)==null||p.call(m,S,this),(v=(b=R(this,Rt).config).onSettled)==null||v.call(b,S,this.state.error,this),S}catch(S){if(S instanceof zw){if(S.silent)return R(this,He).promise;if(S.revert)return this.setState({...R(this,So),fetchStatus:"idle"}),this.state.data}throw Ze(this,Qt,An).call(this,{type:"error",error:S}),(w=(x=R(this,Rt).config).onError)==null||w.call(x,S,this),(g=(y=R(this,Rt).config).onSettled)==null||g.call(y,this.state.data,S,this),S}finally{this.scheduleGc()}}},_o=new WeakMap,So=new WeakMap,Rt=new WeakMap,os=new WeakMap,He=new WeakMap,ui=new WeakMap,as=new WeakMap,Qt=new WeakSet,An=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...KC(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return X(this,So,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),it.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Rt).notify({query:this,type:"updated",action:t})})},yv);function KC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pn,wv,YC=(wv=class extends kc{constructor(t={}){super();de(this,pn);this.config=t,X(this,pn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Ph(s,n);let a=this.get(o);return a||(a=new qC({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){R(this,pn).has(t.queryHash)||(R(this,pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,pn).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,pn).get(t)}getAll(){return[...R(this,pn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>qm(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>qm(t,r)):n}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pn=new WeakMap,wv),mn,ot,is,gn,or,xv,QC=(xv=class extends Ww{constructor(t){super();de(this,gn);de(this,mn);de(this,ot);de(this,is);this.mutationId=t.mutationId,X(this,ot,t.mutationCache),X(this,mn,[]),this.state=t.state||XC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,mn).includes(t)||(R(this,mn).push(t),this.clearGcTimeout(),R(this,ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){X(this,mn,R(this,mn).filter(n=>n!==t)),this.scheduleGc(),R(this,ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,mn).length||(this.state.status==="pending"?this.scheduleGc():R(this,ot).remove(this))}continue(){var t;return((t=R(this,is))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,i,l,u,d,f,m,p,b,v,x,w,y,g,S,_,C,E,j;const n=()=>{Ze(this,gn,or).call(this,{type:"continue"})};X(this,is,Bw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,T)=>{Ze(this,gn,or).call(this,{type:"failed",failureCount:N,error:T})},onPause:()=>{Ze(this,gn,or).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,ot).canRun(this)}));const r=this.state.status==="pending",s=!R(this,is).canStart();try{if(r)n();else{Ze(this,gn,or).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=R(this,ot).config).onMutate)==null?void 0:a.call(o,t,this));const T=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));T!==this.state.context&&Ze(this,gn,or).call(this,{type:"pending",context:T,variables:t,isPaused:s})}const N=await R(this,is).start();return await((d=(u=R(this,ot).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,N,t,this.state.context)),await((b=(p=R(this,ot).config).onSettled)==null?void 0:b.call(p,N,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,N,null,t,this.state.context)),Ze(this,gn,or).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(w=R(this,ot).config).onError)==null?void 0:y.call(w,N,t,this.state.context,this)),await((S=(g=this.options).onError)==null?void 0:S.call(g,N,t,this.state.context)),await((C=(_=R(this,ot).config).onSettled)==null?void 0:C.call(_,void 0,N,this.state.variables,this.state.context,this)),await((j=(E=this.options).onSettled)==null?void 0:j.call(E,void 0,N,t,this.state.context)),N}finally{Ze(this,gn,or).call(this,{type:"error",error:N})}}finally{R(this,ot).runNext(this)}}},mn=new WeakMap,ot=new WeakMap,is=new WeakMap,gn=new WeakSet,or=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),it.batch(()=>{R(this,mn).forEach(r=>{r.onMutationUpdate(t)}),R(this,ot).notify({mutation:this,type:"updated",action:t})})},xv);function XC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,Xt,di,bv,JC=(bv=class extends kc{constructor(t={}){super();de(this,$n);de(this,Xt);de(this,di);this.config=t,X(this,$n,new Set),X(this,Xt,new Map),X(this,di,0)}build(t,n,r){const s=new QC({mutationCache:this,mutationId:++ki(this,di)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){R(this,$n).add(t);const n=Hi(t);if(typeof n=="string"){const r=R(this,Xt).get(n);r?r.push(t):R(this,Xt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,$n).delete(t)){const n=Hi(t);if(typeof n=="string"){const r=R(this,Xt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&R(this,Xt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Hi(t);if(typeof n=="string"){const r=R(this,Xt).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Hi(t);if(typeof n=="string"){const s=(r=R(this,Xt).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){it.batch(()=>{R(this,$n).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,$n).clear(),R(this,Xt).clear()})}getAll(){return Array.from(R(this,$n))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Km(n,r))}findAll(t={}){return this.getAll().filter(n=>Km(t,n))}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return it.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yt))))}},$n=new WeakMap,Xt=new WeakMap,di=new WeakMap,bv);function Hi(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Qm(e){return{onFetch:(t,n)=>{var d,f,m,p,b;const r=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],a=((b=t.state.data)==null?void 0:b.pageParams)||[];let i={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const x=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=$w(t.options,t.fetchOptions),y=async(g,S,_)=>{if(v)return Promise.reject();if(S==null&&g.pages.length)return Promise.resolve(g);const E=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};return x(L),L})(),j=await w(E),{maxPages:N}=t.options,T=_?FC:$C;return{pages:T(g.pages,j,N),pageParams:T(g.pageParams,S,N)}};if(s&&o.length){const g=s==="backward",S=g?ZC:Xm,_={pages:o,pageParams:a},C=S(r,_);i=await y(_,C,g)}else{const g=e??o.length;do{const S=l===0?a[0]??r.initialPageParam:Xm(r,i);if(l>0&&S==null)break;i=await y(i,S),l++}while(l<g)}return i};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Xm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function ZC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ne,mr,gr,Eo,Co,vr,ko,jo,_v,ek=(_v=class{constructor(e={}){de(this,Ne);de(this,mr);de(this,gr);de(this,Eo);de(this,Co);de(this,vr);de(this,ko);de(this,jo);X(this,Ne,e.queryCache||new YC),X(this,mr,e.mutationCache||new JC),X(this,gr,e.defaultOptions||{}),X(this,Eo,new Map),X(this,Co,new Map),X(this,vr,0)}mount(){ki(this,vr)._++,R(this,vr)===1&&(X(this,ko,Fw.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ne).onFocus())})),X(this,jo,Gl.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ne).onOnline())})))}unmount(){var e,t;ki(this,vr)._--,R(this,vr)===0&&((e=R(this,ko))==null||e.call(this),X(this,ko,void 0),(t=R(this,jo))==null||t.call(this),X(this,jo,void 0))}isFetching(e){return R(this,Ne).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,mr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ne).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=R(this,Ne).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Xd(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return R(this,Ne).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=R(this,Ne).get(r.queryHash),o=s==null?void 0:s.state.data,a=AC(t,o);if(a!==void 0)return R(this,Ne).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return it.batch(()=>R(this,Ne).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ne).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,Ne);it.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,Ne);return it.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=it.batch(()=>R(this,Ne).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Yt).catch(Yt)}invalidateQueries(e,t={}){return it.batch(()=>(R(this,Ne).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=it.batch(()=>R(this,Ne).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Yt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Yt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,Ne).build(this,t);return n.isStaleByTime(Xd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yt).catch(Yt)}fetchInfiniteQuery(e){return e.behavior=Qm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yt).catch(Yt)}ensureInfiniteQueryData(e){return e.behavior=Qm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gl.isOnline()?R(this,mr).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Ne)}getMutationCache(){return R(this,mr)}getDefaultOptions(){return R(this,gr)}setDefaultOptions(e){X(this,gr,e)}setQueryDefaults(e,t){R(this,Eo).set(Ja(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Eo).values()],n={};return t.forEach(r=>{Za(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){R(this,Co).set(Ja(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Co).values()],n={};return t.forEach(r=>{Za(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,gr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ph(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,gr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Ne).clear(),R(this,mr).clear()}},Ne=new WeakMap,mr=new WeakMap,gr=new WeakMap,Eo=new WeakMap,Co=new WeakMap,vr=new WeakMap,ko=new WeakMap,jo=new WeakMap,_v),tk=h.createContext(void 0),nk=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(tk.Provider,{value:e,children:t}));const rk="modulepreload",sk=function(e){return"/"+e},Jm={},vi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=sk(l),l in Jm)return;Jm[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rk,u||(f.as="script"),f.crossOrigin="",f.href=l,i&&f.setAttribute("nonce",i),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return s.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};var ok=function(){return null};const Yl=["light","dark"],Rh="(prefers-color-scheme: dark)",ak=typeof window>"u",Ah=h.createContext(void 0),ik={setTheme:e=>{},themes:[]},lk=()=>{var e;return(e=h.useContext(Ah))!==null&&e!==void 0?e:ik},Hw=e=>h.useContext(Ah)?D.createElement(h.Fragment,null,e.children):D.createElement(uk,e),ck=["light","dark"],uk=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=ck,defaultTheme:a=n?"system":"light",attribute:i="data-theme",value:l,children:u,nonce:d})=>{const[f,m]=h.useState(()=>Zm(s,a)),[p,b]=h.useState(()=>Zm(s)),v=l?Object.values(l):o,x=h.useCallback(S=>{let _=S;if(!_)return;S==="system"&&n&&(_=eg());const C=l?l[_]:_,E=t?fk():null,j=document.documentElement;if(i==="class"?(j.classList.remove(...v),C&&j.classList.add(C)):C?j.setAttribute(i,C):j.removeAttribute(i),r){const N=Yl.includes(a)?a:null,T=Yl.includes(_)?_:N;j.style.colorScheme=T}E==null||E()},[]),w=h.useCallback(S=>{m(S);try{localStorage.setItem(s,S)}catch{}},[e]),y=h.useCallback(S=>{const _=eg(S);b(_),f==="system"&&n&&!e&&x("system")},[f,e]);h.useEffect(()=>{const S=window.matchMedia(Rh);return S.addListener(y),y(S),()=>S.removeListener(y)},[y]),h.useEffect(()=>{const S=_=>{_.key===s&&w(_.newValue||a)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[w]),h.useEffect(()=>{x(e??f)},[e,f]);const g=h.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:n?[...o,"system"]:o,systemTheme:n?p:void 0}),[f,w,e,p,n,o]);return D.createElement(Ah.Provider,{value:g},D.createElement(dk,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:a,attribute:i,value:l,children:u,attrs:v,nonce:d}),u)},dk=h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:a,attrs:i,nonce:l})=>{const u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${i.map(b=>`'${b}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Yl.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,v=!1,x=!0)=>{const w=a?a[b]:b,y=v?b+"|| ''":`'${w}'`;let g="";return s&&x&&!v&&Yl.includes(b)&&(g+=`d.style.colorScheme = '${b}';`),n==="class"?g+=v||w?`c.add(${y})`:"null":w&&(g+=`d[s](n,${y})`),g},p=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Rh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return D.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})},()=>!0),Zm=(e,t)=>{if(ak)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},fk=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},eg=e=>(e||(e=window.matchMedia(Rh)),e.matches?"dark":"light");var hk=e=>{switch(e){case"success":return gk;case"info":return yk;case"warning":return vk;case"error":return wk;default:return null}},pk=Array(12).fill(0),mk=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},pk.map((n,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),gk=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vk=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yk=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wk=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xk=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bk=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Zd=1,_k=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zd++,o=this.toasts.find(i=>i.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...e,id:s,title:n}),{...i,...e,id:s,dismissible:a,title:n}):i):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,a=r.then(async l=>{if(o=["resolve",l],D.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(Ek(l)&&!l.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),i=()=>new Promise((l,u)=>a.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Zd++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ht=new _k,Sk=(e,t)=>{let n=(t==null?void 0:t.id)||Zd++;return ht.addToast({title:e,...t,id:n}),n},Ek=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ck=Sk,kk=()=>ht.toasts,jk=()=>ht.getActiveToasts(),ne=Object.assign(Ck,{success:ht.success,info:ht.info,warning:ht.warning,error:ht.error,custom:ht.custom,message:ht.message,promise:ht.promise,dismiss:ht.dismiss,loading:ht.loading},{getHistory:kk,getToasts:jk});function Tk(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Tk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vi(e){return e.label!==void 0}var Pk=3,Nk="32px",Rk="16px",tg=4e3,Ak=356,Ok=14,Mk=20,Ik=200;function Vt(...e){return e.filter(Boolean).join(" ")}function Dk(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Lk=e=>{var t,n,r,s,o,a,i,l,u,d,f;let{invert:m,toast:p,unstyled:b,interacting:v,setHeights:x,visibleToasts:w,heights:y,index:g,toasts:S,expanded:_,removeToast:C,defaultRichColors:E,closeButton:j,style:N,cancelButtonStyle:T,actionButtonStyle:L,className:A="",descriptionClassName:I="",duration:H,position:q,gap:F,loadingIcon:V,expandByDefault:P,classNames:k,icons:O,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:W}=e,[te,Y]=D.useState(null),[ve,ye]=D.useState(null),[$,le]=D.useState(!1),[ce,oe]=D.useState(!1),[ae,ue]=D.useState(!1),[Je,Pt]=D.useState(!1),[Br,Qn]=D.useState(!1),[Wr,ta]=D.useState(0),[Ns,Pp]=D.useState(0),na=D.useRef(p.duration||H||tg),Np=D.useRef(null),Hr=D.useRef(null),G1=g===0,Y1=g+1<=w,Nt=p.type,Rs=p.dismissible!==!1,Q1=p.className||"",X1=p.descriptionClassName||"",Ci=D.useMemo(()=>y.findIndex(Q=>Q.toastId===p.id)||0,[y,p.id]),J1=D.useMemo(()=>{var Q;return(Q=p.closeButton)!=null?Q:j},[p.closeButton,j]),Rp=D.useMemo(()=>p.duration||H||tg,[p.duration,H]),su=D.useRef(0),As=D.useRef(0),Ap=D.useRef(0),Os=D.useRef(null),[Z1,eS]=q.split("-"),Op=D.useMemo(()=>y.reduce((Q,we,Ce)=>Ce>=Ci?Q:Q+we.height,0),[y,Ci]),Mp=bk(),tS=p.invert||m,ou=Nt==="loading";As.current=D.useMemo(()=>Ci*F+Op,[Ci,Op]),D.useEffect(()=>{na.current=Rp},[Rp]),D.useEffect(()=>{le(!0)},[]),D.useEffect(()=>{let Q=Hr.current;if(Q){let we=Q.getBoundingClientRect().height;return Pp(we),x(Ce=>[{toastId:p.id,height:we,position:p.position},...Ce]),()=>x(Ce=>Ce.filter(zt=>zt.toastId!==p.id))}},[x,p.id]),D.useLayoutEffect(()=>{if(!$)return;let Q=Hr.current,we=Q.style.height;Q.style.height="auto";let Ce=Q.getBoundingClientRect().height;Q.style.height=we,Pp(Ce),x(zt=>zt.find(Bt=>Bt.toastId===p.id)?zt.map(Bt=>Bt.toastId===p.id?{...Bt,height:Ce}:Bt):[{toastId:p.id,height:Ce,position:p.position},...zt])},[$,p.title,p.description,x,p.id]);let Xn=D.useCallback(()=>{oe(!0),ta(As.current),x(Q=>Q.filter(we=>we.toastId!==p.id)),setTimeout(()=>{C(p)},Ik)},[p,C,x,As]);D.useEffect(()=>{if(p.promise&&Nt==="loading"||p.duration===1/0||p.type==="loading")return;let Q;return _||v||W&&Mp?(()=>{if(Ap.current<su.current){let we=new Date().getTime()-su.current;na.current=na.current-we}Ap.current=new Date().getTime()})():na.current!==1/0&&(su.current=new Date().getTime(),Q=setTimeout(()=>{var we;(we=p.onAutoClose)==null||we.call(p,p),Xn()},na.current)),()=>clearTimeout(Q)},[_,v,p,Nt,W,Mp,Xn]),D.useEffect(()=>{p.delete&&Xn()},[Xn,p.delete]);function nS(){var Q,we,Ce;return O!=null&&O.loading?D.createElement("div",{className:Vt(k==null?void 0:k.loader,(Q=p==null?void 0:p.classNames)==null?void 0:Q.loader,"sonner-loader"),"data-visible":Nt==="loading"},O.loading):V?D.createElement("div",{className:Vt(k==null?void 0:k.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Nt==="loading"},V):D.createElement(mk,{className:Vt(k==null?void 0:k.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader),visible:Nt==="loading"})}return D.createElement("li",{tabIndex:0,ref:Hr,className:Vt(A,Q1,k==null?void 0:k.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[Nt],(n=p==null?void 0:p.classNames)==null?void 0:n[Nt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:E,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":$,"data-promise":!!p.promise,"data-swiped":Br,"data-removed":ce,"data-visible":Y1,"data-y-position":Z1,"data-x-position":eS,"data-index":g,"data-front":G1,"data-swiping":ae,"data-dismissible":Rs,"data-type":Nt,"data-invert":tS,"data-swipe-out":Je,"data-swipe-direction":ve,"data-expanded":!!(_||P&&$),style:{"--index":g,"--toasts-before":g,"--z-index":S.length-g,"--offset":`${ce?Wr:As.current}px`,"--initial-height":P?"auto":`${Ns}px`,...N,...p.style},onDragEnd:()=>{ue(!1),Y(null),Os.current=null},onPointerDown:Q=>{ou||!Rs||(Np.current=new Date,ta(As.current),Q.target.setPointerCapture(Q.pointerId),Q.target.tagName!=="BUTTON"&&(ue(!0),Os.current={x:Q.clientX,y:Q.clientY}))},onPointerUp:()=>{var Q,we,Ce,zt;if(Je||!Rs)return;Os.current=null;let Bt=Number(((Q=Hr.current)==null?void 0:Q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Jn=Number(((we=Hr.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vr=new Date().getTime()-((Ce=Np.current)==null?void 0:Ce.getTime()),Wt=te==="x"?Bt:Jn,Zn=Math.abs(Wt)/Vr;if(Math.abs(Wt)>=Mk||Zn>.11){ta(As.current),(zt=p.onDismiss)==null||zt.call(p,p),ye(te==="x"?Bt>0?"right":"left":Jn>0?"down":"up"),Xn(),Pt(!0),Qn(!1);return}ue(!1),Y(null)},onPointerMove:Q=>{var we,Ce,zt,Bt;if(!Os.current||!Rs||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let Jn=Q.clientY-Os.current.y,Vr=Q.clientX-Os.current.x,Wt=(Ce=e.swipeDirections)!=null?Ce:Dk(q);!te&&(Math.abs(Vr)>1||Math.abs(Jn)>1)&&Y(Math.abs(Vr)>Math.abs(Jn)?"x":"y");let Zn={x:0,y:0};te==="y"?(Wt.includes("top")||Wt.includes("bottom"))&&(Wt.includes("top")&&Jn<0||Wt.includes("bottom")&&Jn>0)&&(Zn.y=Jn):te==="x"&&(Wt.includes("left")||Wt.includes("right"))&&(Wt.includes("left")&&Vr<0||Wt.includes("right")&&Vr>0)&&(Zn.x=Vr),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&Qn(!0),(zt=Hr.current)==null||zt.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(Bt=Hr.current)==null||Bt.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},J1&&!p.jsx?D.createElement("button",{"aria-label":B,"data-disabled":ou,"data-close-button":!0,onClick:ou||!Rs?()=>{}:()=>{var Q;Xn(),(Q=p.onDismiss)==null||Q.call(p,p)},className:Vt(k==null?void 0:k.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=O==null?void 0:O.close)!=null?o:xk):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:D.createElement(D.Fragment,null,Nt||p.icon||p.promise?D.createElement("div",{"data-icon":"",className:Vt(k==null?void 0:k.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||nS():null,p.type!=="loading"?p.icon||(O==null?void 0:O[Nt])||hk(Nt):null):null,D.createElement("div",{"data-content":"",className:Vt(k==null?void 0:k.content,(i=p==null?void 0:p.classNames)==null?void 0:i.content)},D.createElement("div",{"data-title":"",className:Vt(k==null?void 0:k.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?D.createElement("div",{"data-description":"",className:Vt(I,X1,k==null?void 0:k.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Vi(p.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:Q=>{var we,Ce;Vi(p.cancel)&&Rs&&((Ce=(we=p.cancel).onClick)==null||Ce.call(we,Q),Xn())},className:Vt(k==null?void 0:k.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Vi(p.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:Q=>{var we,Ce;Vi(p.action)&&((Ce=(we=p.action).onClick)==null||Ce.call(we,Q),!Q.defaultPrevented&&Xn())},className:Vt(k==null?void 0:k.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ng(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $k(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,a=o?"--mobile-offset":"--offset",i=o?Rk:Nk;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=i:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(i)}),n}var Fk=h.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:a,className:i,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:b=Pk,toastOptions:v,dir:x=ng(),gap:w=Ok,loadingIcon:y,icons:g,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[C,E]=D.useState([]),j=D.useMemo(()=>Array.from(new Set([r].concat(C.filter(W=>W.position).map(W=>W.position)))),[C,r]),[N,T]=D.useState([]),[L,A]=D.useState(!1),[I,H]=D.useState(!1),[q,F]=D.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=D.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=D.useRef(null),O=D.useRef(!1),B=D.useCallback(W=>{E(te=>{var Y;return(Y=te.find(ve=>ve.id===W.id))!=null&&Y.delete||ht.dismiss(W.id),te.filter(({id:ve})=>ve!==W.id)})},[]);return D.useEffect(()=>ht.subscribe(W=>{if(W.dismiss){E(te=>te.map(Y=>Y.id===W.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Dw.flushSync(()=>{E(te=>{let Y=te.findIndex(ve=>ve.id===W.id);return Y!==-1?[...te.slice(0,Y),{...te[Y],...W},...te.slice(Y+1)]:[W,...te]})})})}),[]),D.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:te})=>{F(te?"dark":"light")})}catch{W.addListener(({matches:Y})=>{try{F(Y?"dark":"light")}catch(ve){console.error(ve)}})}},[d]),D.useEffect(()=>{C.length<=1&&A(!1)},[C]),D.useEffect(()=>{let W=te=>{var Y,ve;s.every(ye=>te[ye]||te.code===ye)&&(A(!0),(Y=V.current)==null||Y.focus()),te.code==="Escape"&&(document.activeElement===V.current||(ve=V.current)!=null&&ve.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),D.useEffect(()=>{if(V.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,O.current=!1)}},[V.current]),D.createElement("section",{ref:t,"aria-label":`${S} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((W,te)=>{var Y;let[ve,ye]=W.split("-");return C.length?D.createElement("ol",{key:W,dir:x==="auto"?ng():x,tabIndex:-1,ref:V,className:i,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":ve,"data-lifted":L&&C.length>1&&!o,"data-x-position":ye,style:{"--front-toast-height":`${((Y=N[0])==null?void 0:Y.height)||0}px`,"--width":`${Ak}px`,"--gap":`${w}px`,...p,...$k(l,u)},onBlur:$=>{O.current&&!$.currentTarget.contains($.relatedTarget)&&(O.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||O.current||(O.current=!0,k.current=$.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onDragEnd:()=>A(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},C.filter($=>!$.position&&te===0||$.position===W).map(($,le)=>{var ce,oe;return D.createElement(Lk,{key:$.id,icons:g,index:le,toast:$,defaultRichColors:f,duration:(ce=v==null?void 0:v.duration)!=null?ce:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:b,closeButton:(oe=v==null?void 0:v.closeButton)!=null?oe:a,interacting:I,position:W,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:B,toasts:C.filter(ae=>ae.position==$.position),heights:N.filter(ae=>ae.position==$.position),setHeights:T,expandByDefault:o,gap:w,loadingIcon:y,expanded:L,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});function z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function rg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tc(...e){return t=>{let n=!1;const r=e.map(s=>{const o=rg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():rg(e[s],null)}}}}function he(...e){return h.useCallback(Tc(...e),e)}function Uk(e,t){const n=h.createContext(t),r=o=>{const{children:a,...i}=o,l=h.useMemo(()=>i,Object.values(i));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function s(o){const a=h.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function ln(e,t=[]){let n=[];function r(o,a){const i=h.createContext(a),l=n.length;n=[...n,a];const u=f=>{var w;const{scope:m,children:p,...b}=f,v=((w=m==null?void 0:m[e])==null?void 0:w[l])||i,x=h.useMemo(()=>b,Object.values(b));return c.jsx(v.Provider,{value:x,children:p})};u.displayName=o+"Provider";function d(f,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[l])||i,b=h.useContext(p);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>h.createContext(a));return function(i){const l=(i==null?void 0:i[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return s.scopeName=e,[r,zk(s,...t)]}function zk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((i,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...i,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ms(e){const t=Wk(e),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,i=h.Children.toArray(o),l=i.find(Hk);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Bk=ms("Slot");function Wk(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=qk(s),i=Vk(o,s.props);return s.type!==h.Fragment&&(i.ref=r?Tc(r,a):a),h.cloneElement(s,i)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vw=Symbol("radix.slottable");function qw(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Vw,t}function Hk(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vw}function Vk(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...i)=>{const l=o(...i);return s(...i),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function qk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J=Kk.reduce((e,t)=>{const n=ms(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:a,...i}=s,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kw(e,t){e&&Vo.flushSync(()=>e.dispatchEvent(t))}function sn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Gk(e,t=globalThis==null?void 0:globalThis.document){const n=sn(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Yk="DismissableLayer",ef="dismissableLayer.update",Qk="dismissableLayer.pointerDownOutside",Xk="dismissableLayer.focusOutside",sg,Gw=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:i,...l}=e,u=h.useContext(Gw),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=he(t,E=>f(E)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(x),y=d?v.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,_=ej(E=>{const j=E.target,N=[...u.branches].some(T=>T.contains(j));!S||N||(s==null||s(E),a==null||a(E),E.defaultPrevented||i==null||i())},m),C=tj(E=>{const j=E.target;[...u.branches].some(T=>T.contains(j))||(o==null||o(E),a==null||a(E),E.defaultPrevented||i==null||i())},m);return Gk(E=>{y===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&i&&(E.preventDefault(),i()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),og(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=sg)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),og())},[d,u]),h.useEffect(()=>{const E=()=>p({});return document.addEventListener(ef,E),()=>document.removeEventListener(ef,E)},[]),c.jsx(J.div,{...l,ref:b,style:{pointerEvents:g?S?"auto":"none":void 0,...e.style},onFocusCapture:z(e.onFocusCapture,C.onFocusCapture),onBlurCapture:z(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:z(e.onPointerDownCapture,_.onPointerDownCapture)})});yi.displayName=Yk;var Jk="DismissableLayerBranch",Zk=h.forwardRef((e,t)=>{const n=h.useContext(Gw),r=h.useRef(null),s=he(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(J.div,{...e,ref:s})});Zk.displayName=Jk;function ej(e,t=globalThis==null?void 0:globalThis.document){const n=sn(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let l=function(){Yw(Qk,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function tj(e,t=globalThis==null?void 0:globalThis.document){const n=sn(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&Yw(Xk,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function og(){const e=new CustomEvent(ef);document.dispatchEvent(e)}function Yw(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Kw(s,o):s.dispatchEvent(o)}var We=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},nj=$f[" useId ".trim().toString()]||(()=>{}),rj=0;function En(e){const[t,n]=h.useState(nj());return We(()=>{n(r=>r??String(rj++))},[e]),t?`radix-${t}`:""}const sj=["top","right","bottom","left"],Ar=Math.min,_t=Math.max,Ql=Math.round,qi=Math.floor,Cn=e=>({x:e,y:e}),oj={left:"right",right:"left",bottom:"top",top:"bottom"},aj={start:"end",end:"start"};function tf(e,t,n){return _t(e,Ar(t,n))}function qn(e,t){return typeof e=="function"?e(t):e}function Kn(e){return e.split("-")[0]}function qo(e){return e.split("-")[1]}function Oh(e){return e==="x"?"y":"x"}function Mh(e){return e==="y"?"height":"width"}const ij=new Set(["top","bottom"]);function bn(e){return ij.has(Kn(e))?"y":"x"}function Ih(e){return Oh(bn(e))}function lj(e,t,n){n===void 0&&(n=!1);const r=qo(e),s=Ih(e),o=Mh(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Xl(a)),[a,Xl(a)]}function cj(e){const t=Xl(e);return[nf(e),t,nf(t)]}function nf(e){return e.replace(/start|end/g,t=>aj[t])}const ag=["left","right"],ig=["right","left"],uj=["top","bottom"],dj=["bottom","top"];function fj(e,t,n){switch(e){case"top":case"bottom":return n?t?ig:ag:t?ag:ig;case"left":case"right":return t?uj:dj;default:return[]}}function hj(e,t,n,r){const s=qo(e);let o=fj(Kn(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(nf)))),o}function Xl(e){return e.replace(/left|right|bottom|top/g,t=>oj[t])}function pj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qw(e){return typeof e!="number"?pj(e):{top:e,right:e,bottom:e,left:e}}function Jl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function lg(e,t,n){let{reference:r,floating:s}=e;const o=bn(t),a=Ih(t),i=Mh(a),l=Kn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[i]/2-s[i]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(qo(t)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const mj=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,i=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=lg(u,r,l),m=r,p={},b=0;for(let v=0;v<i.length;v++){const{name:x,fn:w}=i[v],{x:y,y:g,data:S,reset:_}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=g??f,p={...p,[x]:{...p[x],...S}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=lg(u,m,l)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function ei(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:i,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=qn(t,e),b=Qw(p),x=i[m?f==="floating"?"reference":"floating":f],w=Jl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},_=Jl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:g,strategy:l}):y);return{top:(w.top-_.top+b.top)/S.y,bottom:(_.bottom-w.bottom+b.bottom)/S.y,left:(w.left-_.left+b.left)/S.x,right:(_.right-w.right+b.right)/S.x}}const gj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:i,middlewareData:l}=t,{element:u,padding:d=0}=qn(e,t)||{};if(u==null)return{};const f=Qw(d),m={x:n,y:r},p=Ih(s),b=Mh(p),v=await a.getDimensions(u),x=p==="y",w=x?"top":"left",y=x?"bottom":"right",g=x?"clientHeight":"clientWidth",S=o.reference[b]+o.reference[p]-m[p]-o.floating[b],_=m[p]-o.reference[p],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=C?C[g]:0;(!E||!await(a.isElement==null?void 0:a.isElement(C)))&&(E=i.floating[g]||o.floating[b]);const j=S/2-_/2,N=E/2-v[b]/2-1,T=Ar(f[w],N),L=Ar(f[y],N),A=T,I=E-v[b]-L,H=E/2-v[b]/2+j,q=tf(A,H,I),F=!l.arrow&&qo(s)!=null&&H!==q&&o.reference[b]/2-(H<A?T:L)-v[b]/2<0,V=F?H<A?H-A:H-I:0;return{[p]:m[p]+V,data:{[p]:q,centerOffset:H-q-V,...F&&{alignmentOffset:V}},reset:F}}}),vj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:i,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...x}=qn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Kn(s),y=bn(i),g=Kn(i)===i,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=m||(g||!v?[Xl(i)]:cj(i)),C=b!=="none";!m&&C&&_.push(...hj(i,v,b,S));const E=[i,..._],j=await ei(t,x),N=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(j[w]),f){const H=lj(s,a,S);N.push(j[H[0]],j[H[1]])}if(T=[...T,{placement:s,overflows:N}],!N.every(H=>H<=0)){var L,A;const H=(((L=o.flip)==null?void 0:L.index)||0)+1,q=E[H];if(q&&(!(f==="alignment"?y!==bn(q):!1)||T.every(P=>bn(P.placement)===y?P.overflows[0]>0:!0)))return{data:{index:H,overflows:T},reset:{placement:q}};let F=(A=T.filter(V=>V.overflows[0]<=0).sort((V,P)=>V.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!F)switch(p){case"bestFit":{var I;const V=(I=T.filter(P=>{if(C){const k=bn(P.placement);return k===y||k==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(k=>k>0).reduce((k,O)=>k+O,0)]).sort((P,k)=>P[1]-k[1])[0])==null?void 0:I[0];V&&(F=V);break}case"initialPlacement":F=i;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function cg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ug(e){return sj.some(t=>e[t]>=0)}const yj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=qn(e,t);switch(r){case"referenceHidden":{const o=await ei(t,{...s,elementContext:"reference"}),a=cg(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ug(a)}}}case"escaped":{const o=await ei(t,{...s,altBoundary:!0}),a=cg(o,n.floating);return{data:{escapedOffsets:a,escaped:ug(a)}}}default:return{}}}}},Xw=new Set(["left","top"]);async function wj(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Kn(n),i=qo(n),l=bn(n)==="y",u=Xw.has(a)?-1:1,d=o&&l?-1:1,f=qn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof b=="number"&&(p=i==="end"?b*-1:b),l?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const xj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:i}=t,l=await wj(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:a}}}}},bj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:x=>{let{x:w,y}=x;return{x:w,y}}},...l}=qn(e,t),u={x:n,y:r},d=await ei(t,l),f=bn(Kn(s)),m=Oh(f);let p=u[m],b=u[f];if(o){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=p+d[x],g=p-d[w];p=tf(y,p,g)}if(a){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=b+d[x],g=b-d[w];b=tf(y,b,g)}const v=i.fn({...t,[m]:p,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:o,[f]:a}}}}}},_j=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:i=0,mainAxis:l=!0,crossAxis:u=!0}=qn(e,t),d={x:n,y:r},f=bn(s),m=Oh(f);let p=d[m],b=d[f];const v=qn(i,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const g=m==="y"?"height":"width",S=o.reference[m]-o.floating[g]+x.mainAxis,_=o.reference[m]+o.reference[g]-x.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var w,y;const g=m==="y"?"width":"height",S=Xw.has(Kn(s)),_=o.reference[f]-o.floating[g]+(S&&((w=a.offset)==null?void 0:w[f])||0)+(S?0:x.crossAxis),C=o.reference[f]+o.reference[g]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);b<_?b=_:b>C&&(b=C)}return{[m]:p,[f]:b}}}},Sj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:i}=t,{apply:l=()=>{},...u}=qn(e,t),d=await ei(t,u),f=Kn(s),m=qo(s),p=bn(s)==="y",{width:b,height:v}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=m===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(w=f,x=m==="end"?"top":"bottom");const y=v-d.top-d.bottom,g=b-d.left-d.right,S=Ar(v-d[x],y),_=Ar(b-d[w],g),C=!t.middlewareData.shift;let E=S,j=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=y),C&&!m){const T=_t(d.left,0),L=_t(d.right,0),A=_t(d.top,0),I=_t(d.bottom,0);p?j=b-2*(T!==0||L!==0?T+L:_t(d.left,d.right)):E=v-2*(A!==0||I!==0?A+I:_t(d.top,d.bottom))}await l({...t,availableWidth:j,availableHeight:E});const N=await a.getDimensions(i.floating);return b!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function Pc(){return typeof window<"u"}function Ko(e){return Jw(e)?(e.nodeName||"").toLowerCase():"#document"}function Ct(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jn(e){var t;return(t=(Jw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Jw(e){return Pc()?e instanceof Node||e instanceof Ct(e).Node:!1}function on(e){return Pc()?e instanceof Element||e instanceof Ct(e).Element:!1}function kn(e){return Pc()?e instanceof HTMLElement||e instanceof Ct(e).HTMLElement:!1}function dg(e){return!Pc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ct(e).ShadowRoot}const Ej=new Set(["inline","contents"]);function wi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=an(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ej.has(s)}const Cj=new Set(["table","td","th"]);function kj(e){return Cj.has(Ko(e))}const jj=[":popover-open",":modal"];function Nc(e){return jj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Tj=["transform","translate","scale","rotate","perspective"],Pj=["transform","translate","scale","rotate","perspective","filter"],Nj=["paint","layout","strict","content"];function Dh(e){const t=Lh(),n=on(e)?an(e):e;return Tj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pj.some(r=>(n.willChange||"").includes(r))||Nj.some(r=>(n.contain||"").includes(r))}function Rj(e){let t=Or(e);for(;kn(t)&&!Io(t);){if(Dh(t))return t;if(Nc(t))return null;t=Or(t)}return null}function Lh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Aj=new Set(["html","body","#document"]);function Io(e){return Aj.has(Ko(e))}function an(e){return Ct(e).getComputedStyle(e)}function Rc(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Or(e){if(Ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dg(e)&&e.host||jn(e);return dg(t)?t.host:t}function Zw(e){const t=Or(e);return Io(t)?e.ownerDocument?e.ownerDocument.body:e.body:kn(t)&&wi(t)?t:Zw(t)}function ti(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Zw(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Ct(s);if(o){const i=rf(a);return t.concat(a,a.visualViewport||[],wi(s)?s:[],i&&n?ti(i):[])}return t.concat(s,ti(s,[],n))}function rf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e0(e){const t=an(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=kn(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,i=Ql(n)!==o||Ql(r)!==a;return i&&(n=o,r=a),{width:n,height:r,$:i}}function $h(e){return on(e)?e:e.contextElement}function ho(e){const t=$h(e);if(!kn(t))return Cn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=e0(t);let a=(o?Ql(n.width):n.width)/r,i=(o?Ql(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const Oj=Cn(0);function t0(e){const t=Ct(e);return!Lh()||!t.visualViewport?Oj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ct(e)?!1:t}function gs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=$h(e);let a=Cn(1);t&&(r?on(r)&&(a=ho(r)):a=ho(e));const i=Mj(o,n,r)?t0(o):Cn(0);let l=(s.left+i.x)/a.x,u=(s.top+i.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const m=Ct(o),p=r&&on(r)?Ct(r):r;let b=m,v=rf(b);for(;v&&r&&p!==b;){const x=ho(v),w=v.getBoundingClientRect(),y=an(v),g=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*x.x,S=w.top+(v.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=g,u+=S,b=Ct(v),v=rf(b)}}return Jl({width:d,height:f,x:l,y:u})}function Fh(e,t){const n=Rc(e).scrollLeft;return t?t.left+n:gs(jn(e)).left+n}function n0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Fh(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function Ij(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=jn(r),i=t?Nc(t.floating):!1;if(r===a||i&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Cn(1);const d=Cn(0),f=kn(r);if((f||!f&&!o)&&((Ko(r)!=="body"||wi(a))&&(l=Rc(r)),kn(r))){const p=gs(r);u=ho(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=a&&!f&&!o?n0(a,l,!0):Cn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function Dj(e){return Array.from(e.getClientRects())}function Lj(e){const t=jn(e),n=Rc(e),r=e.ownerDocument.body,s=_t(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=_t(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Fh(e);const i=-n.scrollTop;return an(r).direction==="rtl"&&(a+=_t(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:i}}function $j(e,t){const n=Ct(e),r=jn(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,i=0,l=0;if(s){o=s.width,a=s.height;const u=Lh();(!u||u&&t==="fixed")&&(i=s.offsetLeft,l=s.offsetTop)}return{width:o,height:a,x:i,y:l}}const Fj=new Set(["absolute","fixed"]);function Uj(e,t){const n=gs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=kn(e)?ho(e):Cn(1),a=e.clientWidth*o.x,i=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:a,height:i,x:l,y:u}}function fg(e,t,n){let r;if(t==="viewport")r=$j(e,n);else if(t==="document")r=Lj(jn(e));else if(on(t))r=Uj(t,n);else{const s=t0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Jl(r)}function r0(e,t){const n=Or(e);return n===t||!on(n)||Io(n)?!1:an(n).position==="fixed"||r0(n,t)}function zj(e,t){const n=t.get(e);if(n)return n;let r=ti(e,[],!1).filter(i=>on(i)&&Ko(i)!=="body"),s=null;const o=an(e).position==="fixed";let a=o?Or(e):e;for(;on(a)&&!Io(a);){const i=an(a),l=Dh(a);!l&&i.position==="fixed"&&(s=null),(o?!l&&!s:!l&&i.position==="static"&&!!s&&Fj.has(s.position)||wi(a)&&!l&&r0(e,a))?r=r.filter(d=>d!==a):s=i,a=Or(a)}return t.set(e,r),r}function Bj(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Nc(t)?[]:zj(t,this._c):[].concat(n),r],i=a[0],l=a.reduce((u,d)=>{const f=fg(t,d,s);return u.top=_t(f.top,u.top),u.right=Ar(f.right,u.right),u.bottom=Ar(f.bottom,u.bottom),u.left=_t(f.left,u.left),u},fg(t,i,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Wj(e){const{width:t,height:n}=e0(e);return{width:t,height:n}}function Hj(e,t,n){const r=kn(t),s=jn(t),o=n==="fixed",a=gs(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=Cn(0);function u(){l.x=Fh(s)}if(r||!r&&!o)if((Ko(t)!=="body"||wi(s))&&(i=Rc(t)),r){const p=gs(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?n0(s,i):Cn(0),f=a.left+i.scrollLeft-l.x-d.x,m=a.top+i.scrollTop-l.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function Ou(e){return an(e).position==="static"}function hg(e,t){if(!kn(e)||an(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jn(e)===n&&(n=n.ownerDocument.body),n}function s0(e,t){const n=Ct(e);if(Nc(e))return n;if(!kn(e)){let s=Or(e);for(;s&&!Io(s);){if(on(s)&&!Ou(s))return s;s=Or(s)}return n}let r=hg(e,t);for(;r&&kj(r)&&Ou(r);)r=hg(r,t);return r&&Io(r)&&Ou(r)&&!Dh(r)?n:r||Rj(e)||n}const Vj=async function(e){const t=this.getOffsetParent||s0,n=this.getDimensions,r=await n(e.floating);return{reference:Hj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qj(e){return an(e).direction==="rtl"}const Kj={convertOffsetParentRelativeRectToViewportRelativeRect:Ij,getDocumentElement:jn,getClippingRect:Bj,getOffsetParent:s0,getElementRects:Vj,getClientRects:Dj,getDimensions:Wj,getScale:ho,isElement:on,isRTL:qj};function o0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Gj(e,t){let n=null,r;const s=jn(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(i||t(),!m||!p)return;const b=qi(f),v=qi(s.clientWidth-(d+m)),x=qi(s.clientHeight-(f+p)),w=qi(d),g={rootMargin:-b+"px "+-v+"px "+-x+"px "+-w+"px",threshold:_t(0,Ar(1,l))||1};let S=!0;function _(C){const E=C[0].intersectionRatio;if(E!==l){if(!S)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!o0(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(_,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(e)}return a(!0),o}function Yj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=$h(e),d=s||o?[...u?ti(u):[],...ti(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=u&&i?Gj(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let b,v=l?gs(e):null;l&&x();function x(){const w=gs(e);v&&!o0(v,w)&&n(),v=w,b=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(b)}}const Qj=xj,Xj=bj,Jj=vj,Zj=Sj,eT=yj,pg=gj,tT=_j,nT=(e,t,n)=>{const r=new Map,s={platform:Kj,...n},o={...s.platform,_c:r};return mj(e,t,{...s,platform:o})};var rT=typeof document<"u",sT=function(){},ml=rT?h.useLayoutEffect:sT;function Zl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Zl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Zl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function a0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mg(e,t){const n=a0(e);return Math.round(t*n)/n}function Mu(e){const t=h.useRef(e);return ml(()=>{t.current=e}),t}function oT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:l,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);Zl(m,r)||p(r);const[b,v]=h.useState(null),[x,w]=h.useState(null),y=h.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),g=h.useCallback(P=>{P!==E.current&&(E.current=P,w(P))},[]),S=o||b,_=a||x,C=h.useRef(null),E=h.useRef(null),j=h.useRef(d),N=l!=null,T=Mu(l),L=Mu(s),A=Mu(u),I=h.useCallback(()=>{if(!C.current||!E.current)return;const P={placement:t,strategy:n,middleware:m};L.current&&(P.platform=L.current),nT(C.current,E.current,P).then(k=>{const O={...k,isPositioned:A.current!==!1};H.current&&!Zl(j.current,O)&&(j.current=O,Vo.flushSync(()=>{f(O)}))})},[m,t,n,L,A]);ml(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const H=h.useRef(!1);ml(()=>(H.current=!0,()=>{H.current=!1}),[]),ml(()=>{if(S&&(C.current=S),_&&(E.current=_),S&&_){if(T.current)return T.current(S,_,I);I()}},[S,_,I,T,N]);const q=h.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:g}),[y,g]),F=h.useMemo(()=>({reference:S,floating:_}),[S,_]),V=h.useMemo(()=>{const P={position:n,left:0,top:0};if(!F.floating)return P;const k=mg(F.floating,d.x),O=mg(F.floating,d.y);return i?{...P,transform:"translate("+k+"px, "+O+"px)",...a0(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:O}},[n,i,F.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:I,refs:q,elements:F,floatingStyles:V}),[d,I,q,F,V])}const aT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pg({element:r.current,padding:s}).fn(n):{}:r?pg({element:r,padding:s}).fn(n):{}}}},iT=(e,t)=>({...Qj(e),options:[e,t]}),lT=(e,t)=>({...Xj(e),options:[e,t]}),cT=(e,t)=>({...tT(e),options:[e,t]}),uT=(e,t)=>({...Jj(e),options:[e,t]}),dT=(e,t)=>({...Zj(e),options:[e,t]}),fT=(e,t)=>({...eT(e),options:[e,t]}),hT=(e,t)=>({...aT(e),options:[e,t]});var pT="Arrow",i0=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(J.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});i0.displayName=pT;var mT=i0;function gT(e){const[t,n]=h.useState(void 0);return We(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,i;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,i=u.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Uh="Popper",[l0,Go]=ln(Uh),[vT,c0]=l0(Uh),u0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return c.jsx(vT,{scope:t,anchor:r,onAnchorChange:s,children:n})};u0.displayName=Uh;var d0="PopperAnchor",f0=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=c0(d0,n),a=h.useRef(null),i=he(t,a),l=h.useRef(null);return h.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||a.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(J.div,{...s,ref:i})});f0.displayName=d0;var zh="PopperContent",[yT,wT]=l0(zh),h0=h.forwardRef((e,t)=>{var $,le,ce,oe,ae,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...v}=e,x=c0(zh,n),[w,y]=h.useState(null),g=he(t,Je=>y(Je)),[S,_]=h.useState(null),C=gT(S),E=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,N=r+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],A=L.length>0,I={padding:T,boundary:L.filter(bT),altBoundary:A},{refs:H,floatingStyles:q,placement:F,isPositioned:V,middlewareData:P}=oT({strategy:"fixed",placement:N,whileElementsMounted:(...Je)=>Yj(...Je,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[iT({mainAxis:s+j,alignmentAxis:a}),l&&lT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?cT():void 0,...I}),l&&uT({...I}),dT({...I,apply:({elements:Je,rects:Pt,availableWidth:Br,availableHeight:Qn})=>{const{width:Wr,height:ta}=Pt.reference,Ns=Je.floating.style;Ns.setProperty("--radix-popper-available-width",`${Br}px`),Ns.setProperty("--radix-popper-available-height",`${Qn}px`),Ns.setProperty("--radix-popper-anchor-width",`${Wr}px`),Ns.setProperty("--radix-popper-anchor-height",`${ta}px`)}}),S&&hT({element:S,padding:i}),_T({arrowWidth:E,arrowHeight:j}),m&&fT({strategy:"referenceHidden",...I})]}),[k,O]=g0(F),B=sn(b);We(()=>{V&&(B==null||B())},[V,B]);const W=($=P.arrow)==null?void 0:$.x,te=(le=P.arrow)==null?void 0:le.y,Y=((ce=P.arrow)==null?void 0:ce.centerOffset)!==0,[ve,ye]=h.useState();return We(()=>{w&&ye(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:V?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(oe=P.transformOrigin)==null?void 0:oe.x,(ae=P.transformOrigin)==null?void 0:ae.y].join(" "),...((ue=P.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(yT,{scope:n,placedSide:k,onArrowChange:_,arrowX:W,arrowY:te,shouldHideArrow:Y,children:c.jsx(J.div,{"data-side":k,"data-align":O,...v,ref:g,style:{...v.style,animation:V?void 0:"none"}})})})});h0.displayName=zh;var p0="PopperArrow",xT={top:"bottom",right:"left",bottom:"top",left:"right"},m0=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=wT(p0,r),a=xT[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(mT,{...s,ref:n,style:{...s.style,display:"block"}})})});m0.displayName=p0;function bT(e){return e!==null}var _T=e=>({name:"transformOrigin",options:e,fn(t){var x,w,y;const{placement:n,rects:r,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,i=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[u,d]=g0(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+i/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let b="",v="";return u==="bottom"?(b=a?f:`${m}px`,v=`${-l}px`):u==="top"?(b=a?f:`${m}px`,v=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,v=a?f:`${p}px`):u==="left"&&(b=`${r.floating.width+l}px`,v=a?f:`${p}px`),{data:{x:b,y:v}}}});function g0(e){const[t,n="center"]=e.split("-");return[t,n]}var v0=u0,Bh=f0,Wh=h0,Hh=m0,ST="Portal",Ac=h.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[s,o]=h.useState(!1);We(()=>o(!0),[]);const a=n||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?Dw.createPortal(c.jsx(J.div,{...r,ref:t}),a):null});Ac.displayName=ST;function ET(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Tn=e=>{const{present:t,children:n}=e,r=CT(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=he(r.ref,kT(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};Tn.displayName="Presence";function CT(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),a=e?"mounted":"unmounted",[i,l]=ET(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Ki(r.current);o.current=i==="mounted"?u:"none"},[i]),We(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=Ki(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),We(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=Ki(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&v&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=p=>{p.target===t&&(o.current=Ki(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ki(e){return(e==null?void 0:e.animationName)||"none"}function kT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jT=$f[" useInsertionEffect ".trim().toString()]||We;function Do({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=TT({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=h.useCallback(d=>{var f;if(i){const m=PT(d)?d(e):d;m!==e&&((f=a.current)==null||f.call(a,m))}else o(d)},[i,e,o,a]);return[l,u]}function TT({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return jT(()=>{o.current=t},[t]),h.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function PT(e){return typeof e=="function"}var y0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NT="VisuallyHidden",w0=h.forwardRef((e,t)=>c.jsx(J.span,{...e,ref:t,style:{...y0,...e.style}}));w0.displayName=NT;var RT=w0,[Oc,b$]=ln("Tooltip",[Go]),Vh=Go(),x0="TooltipProvider",AT=700,gg="tooltip.open",[OT,b0]=Oc(x0),_0=e=>{const{__scopeTooltip:t,delayDuration:n=AT,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,a=h.useRef(!0),i=h.useRef(!1),l=h.useRef(0);return h.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(OT,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:h.useCallback(u=>{i.current=u},[]),disableHoverableContent:s,children:o})};_0.displayName=x0;var S0="Tooltip",[_$,Mc]=Oc(S0),sf="TooltipTrigger",MT=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Mc(sf,n),o=b0(sf,n),a=Vh(n),i=h.useRef(null),l=he(t,i,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Bh,{asChild:!0,...a,children:c.jsx(J.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:z(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:z(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:z(e.onBlur,s.onClose),onClick:z(e.onClick,s.onClose)})})});MT.displayName=sf;var IT="TooltipPortal",[S$,DT]=Oc(IT,{forceMount:void 0}),Lo="TooltipContent",E0=h.forwardRef((e,t)=>{const n=DT(Lo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,a=Mc(Lo,e.__scopeTooltip);return c.jsx(Tn,{present:r||a.open,children:a.disableHoverableContent?c.jsx(C0,{side:s,...o,ref:t}):c.jsx(LT,{side:s,...o,ref:t})})}),LT=h.forwardRef((e,t)=>{const n=Mc(Lo,e.__scopeTooltip),r=b0(Lo,e.__scopeTooltip),s=h.useRef(null),o=he(t,s),[a,i]=h.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{i(null),f(!1)},[f]),p=h.useCallback((b,v)=>{const x=b.currentTarget,w={x:b.clientX,y:b.clientY},y=BT(w,x.getBoundingClientRect()),g=WT(w,y),S=HT(v.getBoundingClientRect()),_=qT([...g,...S]);i(_),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(l&&d){const b=x=>p(x,d),v=x=>p(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",v)}}},[l,d,p,m]),h.useEffect(()=>{if(a){const b=v=>{const x=v.target,w={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),g=!VT(w,a);y?m():g&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,a,u,m]),c.jsx(C0,{...e,ref:o})}),[$T,FT]=Oc(S0,{isInside:!1}),UT=qw("TooltipContent"),C0=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...i}=e,l=Mc(Lo,n),u=Vh(n),{onClose:d}=l;return h.useEffect(()=>(document.addEventListener(gg,d),()=>document.removeEventListener(gg,d)),[d]),h.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(yi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(Wh,{"data-state":l.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(UT,{children:r}),c.jsx($T,{scope:n,isInside:!0,children:c.jsx(RT,{id:l.contentId,role:"tooltip",children:s||r})})]})})});E0.displayName=Lo;var k0="TooltipArrow",zT=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Vh(n);return FT(k0,n).isInside?null:c.jsx(Hh,{...s,...r,ref:t})});zT.displayName=k0;function BT(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function WT(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function HT(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function VT(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],l=t[a],u=i.x,d=i.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function qT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),KT(t)}function KT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var GT=_0,j0=E0;function T0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=T0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function P0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=T0(e))&&(r&&(r+=" "),r+=t);return r}const qh="-",YT=e=>{const t=XT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const i=a.split(qh);return i[0]===""&&i.length!==1&&i.shift(),N0(i,t)||QT(a)},getConflictingClassGroupIds:(a,i)=>{const l=n[a]||[];return i&&r[a]?[...l,...r[a]]:l}}},N0=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?N0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(qh);return(a=t.validators.find(({validator:i})=>i(o)))==null?void 0:a.classGroupId},vg=/^\[(.+)\]$/,QT=e=>{if(vg.test(e)){const t=vg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},XT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ZT(Object.entries(e.classGroups),n).forEach(([o,a])=>{of(a,r,o,t)}),r},of=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:yg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(JT(s)){of(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{of(a,yg(t,o),n,r)})})},yg=(e,t)=>{let n=e;return t.split(qh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JT=e=>e.isThemeGetter,ZT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,i])=>[t+a,i])):o);return[n,s]}):e,eP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},R0="!",tP=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,a=i=>{const l=[];let u=0,d=0,f;for(let x=0;x<i.length;x++){let w=i[x];if(u===0){if(w===s&&(r||i.slice(x,x+o)===t)){l.push(i.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const m=l.length===0?i:i.substring(d),p=m.startsWith(R0),b=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}};return n?i=>n({className:i,parseClassName:a}):a},nP=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},rP=e=>({cache:eP(e.cacheSize),parseClassName:tP(e),...YT(e)}),sP=/\s+/,oP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(sP);let i="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let b=!!p,v=r(b?m.substring(0,p):m);if(!v){if(!b){i=u+(i.length>0?" "+i:i);continue}if(v=r(m),!v){i=u+(i.length>0?" "+i:i);continue}b=!1}const x=nP(d).join(":"),w=f?x+R0:x,y=w+v;if(o.includes(y))continue;o.push(y);const g=s(v,b);for(let S=0;S<g.length;++S){const _=g[S];o.push(w+_)}i=u+(i.length>0?" "+i:i)}return i};function aP(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=A0(t))&&(r&&(r+=" "),r+=n);return r}const A0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=A0(e[r]))&&(n&&(n+=" "),n+=t);return n};function iP(e,...t){let n,r,s,o=a;function a(l){const u=t.reduce((d,f)=>f(d),e());return n=rP(u),r=n.cache.get,s=n.cache.set,o=i,i(l)}function i(l){const u=r(l);if(u)return u;const d=oP(l,n);return s(l,d),d}return function(){return o(aP.apply(null,arguments))}}const _e=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},O0=/^\[(?:([a-z-]+):)?(.+)\]$/i,lP=/^\d+\/\d+$/,cP=new Set(["px","full","screen"]),uP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=e=>po(e)||cP.has(e)||lP.test(e),tr=e=>Yo(e,"length",_P),po=e=>!!e&&!Number.isNaN(Number(e)),Iu=e=>Yo(e,"number",po),da=e=>!!e&&Number.isInteger(Number(e)),mP=e=>e.endsWith("%")&&po(e.slice(0,-1)),ee=e=>O0.test(e),nr=e=>uP.test(e),gP=new Set(["length","size","percentage"]),vP=e=>Yo(e,gP,M0),yP=e=>Yo(e,"position",M0),wP=new Set(["image","url"]),xP=e=>Yo(e,wP,EP),bP=e=>Yo(e,"",SP),fa=()=>!0,Yo=(e,t,n)=>{const r=O0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},_P=e=>dP.test(e)&&!fP.test(e),M0=()=>!1,SP=e=>hP.test(e),EP=e=>pP.test(e),CP=()=>{const e=_e("colors"),t=_e("spacing"),n=_e("blur"),r=_e("brightness"),s=_e("borderColor"),o=_e("borderRadius"),a=_e("borderSpacing"),i=_e("borderWidth"),l=_e("contrast"),u=_e("grayscale"),d=_e("hueRotate"),f=_e("invert"),m=_e("gap"),p=_e("gradientColorStops"),b=_e("gradientColorStopPositions"),v=_e("inset"),x=_e("margin"),w=_e("opacity"),y=_e("padding"),g=_e("saturate"),S=_e("scale"),_=_e("sepia"),C=_e("skew"),E=_e("space"),j=_e("translate"),N=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ee,t],A=()=>[ee,t],I=()=>["",Nn,tr],H=()=>["auto",po,ee],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",ee],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[po,ee];return{cacheSize:500,separator:":",theme:{colors:[fa],spacing:[Nn,tr],blur:["none","",nr,ee],brightness:B(),borderColor:[e],borderRadius:["none","","full",nr,ee],borderSpacing:A(),borderWidth:I(),contrast:B(),grayscale:k(),hueRotate:B(),invert:k(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[mP,tr],inset:L(),margin:L(),opacity:B(),padding:A(),saturate:B(),scale:B(),sepia:k(),skew:B(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[nr]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ee]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",da,ee]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",da,ee]}],"grid-cols":[{"grid-cols":[fa]}],"col-start-end":[{col:["auto",{span:["full",da,ee]},ee]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[fa]}],"row-start-end":[{row:["auto",{span:[da,ee]},ee]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[nr]},nr]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nr,tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iu]}],"font-family":[{font:[fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",po,Iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,tr]}],"underline-offset":[{"underline-offset":["auto",Nn,ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),yP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Nn,ee]}],"outline-w":[{outline:[Nn,tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Nn,tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nr,bP]}],"shadow-color":[{shadow:[fa]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nr,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[da,ee]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nn,tr,Iu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kP=iP(CP);function K(...e){return kP(P0(e))}const jP=GT,TP=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(j0,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));TP.displayName=j0.displayName;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(this,arguments)}var xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xr||(xr={}));const wg="popstate";function PP(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:i}=r.location;return af("",{pathname:o,search:a,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ec(s)}return RP(t,n,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NP(){return Math.random().toString(36).substr(2,8)}function xg(e,t){return{usr:e.state,key:e.key,idx:t}}function af(e,t,n,r){return n===void 0&&(n=null),ni({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qo(t):t,{state:n,key:t&&t.key||r||NP()})}function ec(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function RP(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,i=xr.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(ni({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){i=xr.Pop;let x=d(),w=x==null?null:x-u;u=x,l&&l({action:i,location:v.location,delta:w})}function m(x,w){i=xr.Push;let y=af(v.location,x,w);u=d()+1;let g=xg(y,u),S=v.createHref(y);try{a.pushState(g,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&l&&l({action:i,location:v.location,delta:1})}function p(x,w){i=xr.Replace;let y=af(v.location,x,w);u=d();let g=xg(y,u),S=v.createHref(y);a.replaceState(g,"",S),o&&l&&l({action:i,location:v.location,delta:0})}function b(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:ec(x);return y=y.replace(/ $/,"%20"),Ie(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return i},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(wg,f),l=x,()=>{s.removeEventListener(wg,f),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let w=b(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(x){return a.go(x)}};return v}var bg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bg||(bg={}));function AP(e,t,n){return n===void 0&&(n="/"),OP(e,t,n)}function OP(e,t,n,r){let s=typeof t=="string"?Qo(t):t,o=Kh(s.pathname||"/",n);if(o==null)return null;let a=D0(e);MP(a);let i=null;for(let l=0;i==null&&l<a.length;++l){let u=qP(o);i=WP(a[l],u)}return i}function D0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Pr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),D0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:zP(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))s(o,a);else for(let l of L0(o.path))s(o,a,l)}),t}function L0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=L0(r.join("/")),i=[];return i.push(...a.map(l=>l===""?o:[o,l].join("/"))),s&&i.push(...a),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function MP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IP=/^:[\w-]+$/,DP=3,LP=2,$P=1,FP=10,UP=-2,_g=e=>e==="*";function zP(e,t){let n=e.split("/"),r=n.length;return n.some(_g)&&(r+=UP),t&&(r+=LP),n.filter(s=>!_g(s)).reduce((s,o)=>s+(IP.test(o)?DP:o===""?$P:FP),r)}function BP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function WP(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let i=0;i<r.length;++i){let l=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=HP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Pr([o,f.pathname]),pathnameBase:QP(Pr([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Pr([o,f.pathnameBase]))}return a}function HP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=VP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=i[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=i[f];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function VP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),I0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,l)=>(r.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function qP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return I0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function KP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Qo(e):e;return{pathname:n?n.startsWith("/")?n:GP(n,t):t,search:XP(r),hash:JP(s)}}function GP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Du(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gh(e,t){let n=YP(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Qo(e):(s=ni({},e),Ie(!s.pathname||!s.pathname.includes("?"),Du("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),Du("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),Du("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}i=f>=0?t[f]:"/"}let l=KP(s,i),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Pr=e=>e.join("/").replace(/\/\/+/g,"/"),QP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $0=["post","put","patch","delete"];new Set($0);const eN=["get",...$0];new Set(eN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri.apply(this,arguments)}const Qh=h.createContext(null),tN=h.createContext(null),Lr=h.createContext(null),Ic=h.createContext(null),$r=h.createContext({outlet:null,matches:[],isDataRoute:!1}),F0=h.createContext(null);function nN(e,t){let{relative:n}=t===void 0?{}:t;Xo()||Ie(!1);let{basename:r,navigator:s}=h.useContext(Lr),{hash:o,pathname:a,search:i}=B0(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Pr([r,a])),s.createHref({pathname:l,search:i,hash:o})}function Xo(){return h.useContext(Ic)!=null}function ks(){return Xo()||Ie(!1),h.useContext(Ic).location}function U0(e){h.useContext(Lr).static||h.useLayoutEffect(e)}function z0(){let{isDataRoute:e}=h.useContext($r);return e?mN():rN()}function rN(){Xo()||Ie(!1);let e=h.useContext(Qh),{basename:t,future:n,navigator:r}=h.useContext(Lr),{matches:s}=h.useContext($r),{pathname:o}=ks(),a=JSON.stringify(Gh(s,n.v7_relativeSplatPath)),i=h.useRef(!1);return U0(()=>{i.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=Yh(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}function B0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(Lr),{matches:s}=h.useContext($r),{pathname:o}=ks(),a=JSON.stringify(Gh(s,r.v7_relativeSplatPath));return h.useMemo(()=>Yh(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function sN(e,t){return oN(e,t)}function oN(e,t,n,r){Xo()||Ie(!1);let{navigator:s}=h.useContext(Lr),{matches:o}=h.useContext($r),a=o[o.length-1],i=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ks(),d;if(t){var f;let x=typeof t=="string"?Qo(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Ie(!1),d=x}else d=u;let m=d.pathname||"/",p=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=AP(e,{pathname:p}),v=uN(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:Pr([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Pr([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&v?h.createElement(Ic.Provider,{value:{location:ri({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xr.Pop}},v):v}function aN(){let e=pN(),t=ZP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const iN=h.createElement(aN,null);class lN extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement($r.Provider,{value:this.props.routeContext},h.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cN(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(Qh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement($r.Provider,{value:t},r)}function uN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);d>=0||Ie(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let p,b=!1,v=null,x=null;n&&(p=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||iN,l&&(u<0&&m===0?(gN("route-fallback"),b=!0,x=null):u===m&&(b=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),y=()=>{let g;return p?g=v:b?g=x:f.route.Component?g=h.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,h.createElement(cN,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(lN,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var W0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W0||{}),H0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(H0||{});function dN(e){let t=h.useContext(Qh);return t||Ie(!1),t}function fN(e){let t=h.useContext(tN);return t||Ie(!1),t}function hN(e){let t=h.useContext($r);return t||Ie(!1),t}function V0(e){let t=hN(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function pN(){var e;let t=h.useContext(F0),n=fN(),r=V0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mN(){let{router:e}=dN(W0.UseNavigateStable),t=V0(H0.UseNavigateStable),n=h.useRef(!1);return U0(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ri({fromRouteId:t},o)))},[e,t])}const Sg={};function gN(e,t,n){Sg[e]||(Sg[e]=!0)}function vN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function q0(e){let{to:t,replace:n,state:r,relative:s}=e;Xo()||Ie(!1);let{future:o,static:a}=h.useContext(Lr),{matches:i}=h.useContext($r),{pathname:l}=ks(),u=z0(),d=Yh(t,Gh(i,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function On(e){Ie(!1)}function yN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=xr.Pop,navigator:o,static:a=!1,future:i}=e;Xo()&&Ie(!1);let l=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:l,navigator:o,static:a,future:ri({v7_relativeSplatPath:!1},i)}),[l,i,o,a]);typeof r=="string"&&(r=Qo(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:b="default"}=r,v=h.useMemo(()=>{let x=Kh(d,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:b},navigationType:s}},[l,d,f,m,p,b,s]);return v==null?null:h.createElement(Lr.Provider,{value:u},h.createElement(Ic.Provider,{children:n,value:v}))}function wN(e){let{children:t,location:n}=e;return sN(lf(t),n)}new Promise(()=>{});function lf(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,lf(r.props.children,o));return}r.type!==On&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lf(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function xN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function bN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _N(e,t){return e.button===0&&(!t||t==="_self")&&!bN(e)}const SN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EN="6";try{window.__reactRouterVersion=EN}catch{}const CN="startTransition",Eg=$f[CN];function kN(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=PP({window:s,v5Compat:!0}));let a=o.current,[i,l]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Eg?Eg(()=>l(f)):l(f)},[l,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>vN(r),[r]),h.createElement(yN,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}const jN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lu=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:i,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,m=xN(t,SN),{basename:p}=h.useContext(Lr),b,v=!1;if(typeof u=="string"&&TN.test(u)&&(b=u,jN))try{let g=new URL(window.location.href),S=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=Kh(S.pathname,p);S.origin===g.origin&&_!=null?u=_+S.search+S.hash:v=!0}catch{}let x=nN(u,{relative:s}),w=PN(u,{replace:a,state:i,target:l,preventScrollReset:d,relative:s,viewTransition:f});function y(g){r&&r(g),g.defaultPrevented||w(g)}return h.createElement("a",cf({},m,{href:b||x,onClick:v||o?r:y,ref:n,target:l}))});var Cg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cg||(Cg={}));var kg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kg||(kg={}));function PN(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:i}=t===void 0?{}:t,l=z0(),u=ks(),d=B0(e,{relative:a});return h.useCallback(f=>{if(_N(f,n)){f.preventDefault();let m=r!==void 0?r:ec(u)===ec(d);l(e,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:i})}},[u,l,d,r,s,n,e,o,a,i])}const NN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Xh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class RN extends Xh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jg extends Xh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tg extends Xh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uf||(uf={}));var AN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};class ON{constructor(t,{headers:n={},customFetch:r,region:s=uf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=NN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return AN(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let i={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(i["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(i["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(i["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),s),body:d}).catch(v=>{throw new RN(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new jg(f);if(!f.ok)throw new Tg(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield f.json():p==="application/octet-stream"?b=yield f.blob():p==="text/event-stream"?b=f:p==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Tg||s instanceof jg?s.context:void 0}}})}}var mt={},Jh={},Dc={},xi={},Lc={},$c={},MN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$o=MN();const IN=$o.fetch,K0=$o.fetch.bind($o),G0=$o.Headers,DN=$o.Request,LN=$o.Response,Jo=Object.freeze(Object.defineProperty({__proto__:null,Headers:G0,Request:DN,Response:LN,default:K0,fetch:IN},Symbol.toStringTag,{value:"Module"})),$N=aS(Jo);var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});let FN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fc.default=FN;var Y0=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const UN=Y0($N),zN=Y0(Fc);let BN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,i,l;let u=null,d=null,f=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(i=o.headers.get("content-range"))===null||i===void 0?void 0:i.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,p="OK")}catch{o.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new zN.default(u)}return{error:u,data:d,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,i,l;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(i=o==null?void 0:o.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};$c.default=BN;var WN=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});const HN=WN($c);let VN=class extends HN.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var i;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(i=this.headers.Accept)!==null&&i!==void 0?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lc.default=VN;var qN=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const KN=qN(Lc);let GN=class extends KN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};xi.default=GN;var YN=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const ha=YN(xi);let QN=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(i=>/\s/.test(i)&&!o?"":(i==='"'&&(o=!o),i)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new ha.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(a.length>0){const i=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new ha.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const a="POST",i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),o||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ha.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ha.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ha.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Dc.default=QN;var Uc={},zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.version=void 0;zc.version="0.0.0-automated";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.DEFAULT_HEADERS=void 0;const XN=zc;Uc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${XN.version}`};var Q0=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jh,"__esModule",{value:!0});const JN=Q0(Dc),ZN=Q0(xi),eR=Uc;let tR=class X0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},eR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new JN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new X0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let a;const i=new URL(`${this.url}/rpc/${t}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{i.searchParams.append(d,f)})):(a="POST",l=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new ZN.default({method:a,url:i,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jh.default=tR;var Zo=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0});mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const J0=Zo(Jh);mt.PostgrestClient=J0.default;const Z0=Zo(Dc);mt.PostgrestQueryBuilder=Z0.default;const ex=Zo(xi);mt.PostgrestFilterBuilder=ex.default;const tx=Zo(Lc);mt.PostgrestTransformBuilder=tx.default;const nx=Zo($c);mt.PostgrestBuilder=nx.default;const rx=Zo(Fc);mt.PostgrestError=rx.default;var nR=mt.default={PostgrestClient:J0.default,PostgrestQueryBuilder:Z0.default,PostgrestFilterBuilder:ex.default,PostgrestTransformBuilder:tx.default,PostgrestBuilder:nx.default,PostgrestError:rx.default};const{PostgrestClient:rR,PostgrestQueryBuilder:P$,PostgrestFilterBuilder:N$,PostgrestTransformBuilder:R$,PostgrestBuilder:A$,PostgrestError:O$}=nR;class sR{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const oR="2.15.1",aR=`realtime-js/${oR}`,iR="1.0.0",df=1e4,lR=1e3,cR=100;var Na;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Na||(Na={}));var Fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fe||(Fe={}));var Zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zt||(Zt={}));var ff;(function(e){e.websocket="websocket"})(ff||(ff={}));var Jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jr||(Jr={}));class uR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const i=r.decode(t.slice(a,a+s));a=a+s;const l=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:i,event:l,payload:u}}}class sx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const Pg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=dR(a,e,t,s),o),{})},dR=(e,t,n,r)=>{const s=t.find(i=>i.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?ox(o,a):hf(a)},ox=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mR(t,n)}switch(e){case xe.bool:return fR(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return hR(t);case xe.json:case xe.jsonb:return pR(t);case xe.timestamp:return gR(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,fR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(i=>ox(t,i))}return e},gR=e=>typeof e=="string"?e.replace(" ","T"):e,ax=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class $u{constructor(t,n,r={},s=df){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ng;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ng||(Ng={}));class Ra{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ra.syncState(this.state,s,o,a),this.pendingDiffs.forEach(l=>{this.state=Ra.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ra.syncDiff(this.state,s,o,a),i())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),i={},l={};return this.map(o,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const m=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),b=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>m.indexOf(x.presence_ref)<0);b.length>0&&(i[u]=b),v.length>0&&(l[u]=v)}else i[u]=d}),this.syncDiff(o,{joins:i,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(i,l)=>{var u;const d=(u=t[i])!==null&&u!==void 0?u:[];if(t[i]=this.cloneDeep(l),d.length>0){const f=t[i].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[i].unshift(...m)}r(i,d,l)}),this.map(a,(i,l)=>{let u=t[i];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[i]=u,s(i,u,l),u.length===0&&delete t[i]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rg||(Rg={}));var Aa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Aa||(Aa={}));var Dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class Zh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ra(this),this.broadcastEndpointURL=ax(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:o,presence:a,private:i}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Aa.PRESENCE]&&this.bindings[Aa.PRESENCE].length>0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Dn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Dn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,x=[];for(let w=0;w<v;w++){const y=b[w],{filter:{event:g,schema:S,table:_,filter:C}}=y,E=m&&m[w];if(E&&E.event===g&&E.schema===S&&E.table===_&&E.filter===C)x.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=Fe.errored,t==null||t(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Dn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Fe.errored,t==null||t(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Fe.joined&&t===Aa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,i,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(i=(a=this.params)===null||a===void 0?void 0:a.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $u(this,Zt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $u(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:i,error:l,leave:u,join:d}=Zt;if(r&&[i,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,v,x;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(m,r)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var b,v,x,w,y,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,_=(b=p.filter)===null||b===void 0?void 0:b.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:v,table:x,commit_timestamp:w,type:y,errors:g}=b;m=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(b))}p.callback(m,r)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Zh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zt.close,{},t)}_onError(t){this._on(Zt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Pg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Pg(t.columns,t.old_record)),n}}const Ag=()=>{},Gi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vR=[1e3,2e3,5e3,1e4],yR=1e4,wR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xR{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=df,this.transport=null,this.heartbeatIntervalMs=Gi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ag,this.ref=0,this.reconnectTimer=null,this.logger=Ag,this.conn=null,this.sendBuffer=[],this.serializer=new uR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>vi(async()=>{const{default:i}=await Promise.resolve().then(()=>Jo);return{default:i}},void 0).then(({default:i})=>i(...a)).catch(i=>{throw new Error(`Failed to load @supabase/node-fetch: ${i.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ff.websocket}`,this.httpEndpoint=ax(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iR}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Na.connecting:return Jr.Connecting;case Na.open:return Jr.Open;case Na.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Zh(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,i=>{var l;(l=this.conn)===null||l===void 0||l.send(i)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,i=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${s} ${i}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([wR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:aR};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Zt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,i,l,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:df,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Gi.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(i=t==null?void 0:t.reconnectAfterMs)!==null&&i!==void 0?i:d=>vR[d-1]||yR,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ep extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bR extends ep{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pf extends ep{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var _R=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const ix=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},SR=()=>_R(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vi(()=>Promise.resolve().then(()=>Jo),void 0)).Response:Response}),mf=e=>{if(Array.isArray(e))return e.map(n=>mf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=mf(r)}),t},ER=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var js=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const Fu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CR=(e,t,n)=>js(void 0,void 0,void 0,function*(){const r=yield SR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new bR(Fu(s),o,a))}).catch(s=>{t(new pf(Fu(s),s))}):t(new pf(Fu(e),e))}),kR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(ER(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function bi(e,t,n,r,s,o){return js(this,void 0,void 0,function*(){return new Promise((a,i)=>{e(n,kR(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>CR(l,i,r))})})}function tc(e,t,n,r){return js(this,void 0,void 0,function*(){return bi(e,"GET",t,n,r)})}function hn(e,t,n,r,s){return js(this,void 0,void 0,function*(){return bi(e,"POST",t,r,s,n)})}function gf(e,t,n,r,s){return js(this,void 0,void 0,function*(){return bi(e,"PUT",t,r,s,n)})}function jR(e,t,n,r){return js(this,void 0,void 0,function*(){return bi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lx(e,t,n,r,s){return js(this,void 0,void 0,function*(){return bi(e,"DELETE",t,r,s,n)})}var st=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const TR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Og={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PR{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ix(s)}uploadOrUpdate(t,n,r,s){return st(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Og),s);let i=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,l&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(i=Object.assign(Object.assign({},i),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?gf:hn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:i},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ue(o))return{data:null,error:o};throw o}})}upload(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return st(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Og.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield gf(this.fetch,i.toString(),l,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(Ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return st(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield hn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),i=a.searchParams.get("token");if(!i)throw new ep("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:i},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}update(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}copy(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield hn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return st(this,void 0,void 0,function*(){try{const s=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}download(t,n){return st(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const i=this._getFinalPath(t);return{data:yield(yield tc(this.fetch,`${this.url}/${s}/${i}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}info(t){return st(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield tc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mf(r),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}exists(t){return st(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ue(r)&&r instanceof pf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const i=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}list(t,n,r){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},TR),n),{prefix:t||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}listV2(t,n){return st(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const NR="2.11.0",RR={"X-Client-Info":`storage-js/${NR}`};var Is=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};class AR{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},RR),n),this.fetch=ix(r)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}getBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Is(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}}class OR extends AR{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new PR(this.url,this.headers,t,this.fetch)}}const MR="2.55.0";let ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";const IR={"X-Client-Info":`supabase-js-${ya}/${MR}`},DR={headers:IR},LR={schema:"public"},$R={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FR={};var UR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const zR=e=>{let t;return e?t=e:typeof fetch>"u"?t=K0:t=fetch,(...n)=>t(...n)},BR=()=>typeof Headers>"u"?G0:Headers,WR=(e,t,n)=>{const r=zR(n),s=BR();return(o,a)=>UR(void 0,void 0,void 0,function*(){var i;const l=(i=yield t())!==null&&i!==void 0?i:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};var HR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};function VR(e){return e.endsWith("/")?e:e+"/"}function qR(e,t){var n,r;const{db:s,auth:o,realtime:a,global:i}=e,{db:l,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),i),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=i==null?void 0:i.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>HR(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const cx="2.71.1",qs=30*1e3,vf=3,Uu=vf*qs,KR="http://localhost:9999",GR="supabase.auth.token",YR={"X-Client-Info":`gotrue-js/${cx}`},yf="X-Supabase-Api-Version",ux={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XR=10*60*1e3;class tp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JR extends tp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ZR(e){return Z(e)&&e.name==="AuthApiError"}class dx extends tp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fr extends tp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ar extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eA(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Yi extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qi extends Fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xi extends Fr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tA(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mg extends Fr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wf extends Fr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zu(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class Ig extends Fr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xf extends Fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dg=` 	
\r=`.split(""),nA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dg.length;t+=1)e[Dg[t].charCodeAt(0)]=-2;for(let t=0;t<nc.length;t+=1)e[nc[t].charCodeAt(0)]=t;return e})();function Lg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(nc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(nc[r]),t.queuedBits-=6}}function fx(e,t,n){const r=nA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $g(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{oA(a,r,n)};for(let a=0;a<e.length;a+=1)fx(e.charCodeAt(a),s,o);return t.join("")}function rA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}rA(r,t)}}function oA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function aA(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function iA(e){const t=[];return sA(e,n=>t.push(n)),new Uint8Array(t)}function lA(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Lg(s,n,r)),Lg(null,n,r),t.join("")}function cA(e){return Math.round(Date.now()/1e3)+e}function uA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",qr={tested:!1,writable:!1},hx=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qr.tested)return qr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qr.tested=!0,qr.writable=!0}catch{qr.tested=!0,qr.writable=!1}return qr.writable};function dA(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const px=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},fA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ks=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Kr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},rr=async(e,t)=>{await e.removeItem(t)};class Bc{constructor(){this.promise=new Bc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bc.promiseConstructor=Promise;function Bu(e){const t=e.split(".");if(t.length!==3)throw new xf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!QR.test(t[r]))throw new xf("JWT not in base64url format");return{header:JSON.parse($g(t[0])),payload:JSON.parse($g(t[1])),signature:aA(t[2]),raw:{header:t[0],payload:t[1]}}}async function hA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pA(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function mA(e){return("0"+e.toString(16)).substr(-2)}function gA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,mA).join("")}async function vA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function yA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await vA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(e,t,n=!1){const r=gA();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ks(e,`${t}-code-verifier`,s);const o=await yA(r);return[o,r===o?"plain":"s256"]}const wA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xA(e){const t=e.headers.get(yf);if(!t||!t.match(wA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _A(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(e){if(!SA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fg(e){return JSON.parse(JSON.stringify(e))}var EA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CA=[502,503,504];async function Ug(e){var t;if(!fA(e))throw new wf(Qr(e),0);if(CA.includes(e.status))throw new wf(Qr(e),e.status);let n;try{n=await e.json()}catch(o){throw new dx(Qr(o),o)}let r;const s=xA(e);if(s&&s.getTime()>=ux["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ig(Qr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Ig(Qr(n),e.status,n.weak_password.reasons);throw new JR(Qr(n),e.status||500,r)}const kA=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function re(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[yf]||(o[yf]=ux["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const i=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await jA(e,t,n+i,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jA(e,t,n,r,s,o){const a=kA(t,r,s,o);let i;try{i=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new wf(Qr(l),0)}if(i.ok||await Ug(i),r!=null&&r.noResolveJson)return i;try{return await i.json()}catch(l){await Ug(l)}}function Mn(e){var t;let n=null;RA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=cA(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zg(e){const t=Mn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TA(e){return{data:e,error:null}}function PA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=EA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},a);return{data:{properties:i,user:l},error:null}}function NA(e){return e}function RA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hu=["global","local","others"];var AA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class OA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=px(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Hu[0]){if(Hu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=AA(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,i,l;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:NA});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ls(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ls(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ls(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ls(t.userId);try{const{data:n,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ls(t.userId),Ls(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function Bg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function MA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $s={debug:!!(globalThis&&hx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IA extends mx{}async function DA(e,t,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($s.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}MA();const LA={url:KR,storageKey:GR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wg(e,t,n){return await n()}const Fs={};class si{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=si.nextInstanceID,si.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},LA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new OA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=px(s.fetch),this.lock=s.lock||Wg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DA:this.lock=Wg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Fs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Fs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=dA(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),tA(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new dx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mn}),{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Ds(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:Mn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Mn})}else throw new Qi("You must provide either an email or phone number and a password");const{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:i}=t;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:zg})}else if("phone"in t){const{phone:o,password:a,options:i}=t;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:zg})}else throw new Qi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,i,l,u,d,f,m,p;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:x,wallet:w,statement:y,options:g}=t;let S;if(qt())if(typeof w=="object")S=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:x,error:w}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:lA(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Mn});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Yi}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(Z(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await Kr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Mn});if(await rr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(Z(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,i=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mn}),{data:l,error:u}=i;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Yi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:i,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ds(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:i,options:l}=t,{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qi("You must provide either an email or phone number.")}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:i}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Mn});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ds(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:TA})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ar;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:i}=await re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:i}}throw new Qi("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Kr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Uu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Kr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Wu()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fr}):await this._useSession(async n=>{var r,s,o;const{data:a,error:i}=n;if(i)throw i;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:fr})})}catch(n){if(Z(n))return eA(n)&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ar;const a=s.session;let i=null,l=null;this.flowType==="pkce"&&t.email!=null&&([i,l]=await Ds(this.storage,this.storageKey));const{data:u,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:l}),jwt:a.access_token,xform:fr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ar;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Bu(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!i)return{data:{user:null,session:null},error:null};o=i}else{const{data:i,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:i}=n;if(i)throw i;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ar;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!qt())throw new Xi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mg("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:i,expires_at:l,token_type:u}=t;if(!o||!i||!a||!u)throw new Xi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(i);let m=d+f;l&&(m=parseInt(l));const p=m-d;p*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:v,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(Z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Kr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:i}=await this.admin.signOut(a,t);if(i&&!(ZR(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return t!=="others"&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=uA(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ds(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,i,l,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pA(async s=>(s>0&&await hA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&zu(o)&&Date.now()+a-r<qs})}catch(r){if(this._debug(n,"error",r),Z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Kr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Kr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ks(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Wu()}else if(s&&!s.user&&!s.user){const a=await Kr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await rr(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,s)):s.user=Wu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Uu;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Uu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),zu(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:i}=await this._getUser(s.access_token);!i&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new ar;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const i={session:o.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(o){if(this._debug(s,"error",o),Z(o)){const a={session:null,error:o};return zu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let i=0;i<o.length;i+=1)console.error(o[i]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Fg(s);await Ks(this.storage,this.storageKey,o)}else{const s=Fg(n);await Ks(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await rr(this.storage,this.storageKey),await rr(this.storage,this.storageKey+"-code-verifier"),await rr(this.storage,this.storageKey+"-user"),this.userStorage&&await rr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qs}ms, refresh threshold is ${vf} ticks`),s<=vf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ds(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(i.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:i}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Bu(s.access_token);let i=null;a.aal&&(i=a.aal);let l=i;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+XR>s)return r;const{data:o,error:a}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(i=>i.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};r=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:i,payload:l}}=Bu(r);n!=null&&n.allowExpired||bA(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const d=_A(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,iA(`${i}.${l}`)))throw new xf("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}si.nextInstanceID=0;const $A=si;class FA extends $A{constructor(t){super(t)}}var UA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};class zA{constructor(t,n,r){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const i=VR(t),l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:LR,realtime:FR,auth:Object.assign(Object.assign({},$R),{storageKey:u}),global:DR},f=qR(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=WR(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new rR(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new OR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ON(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return UA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:a,lock:i,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FA({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:i,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BA=(e,t,n)=>new zA(e,t,n);function WA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HA="https://avkpygwhymnxotwqzknz.supabase.co",VA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2a3B5Z3doeW1ueG90d3F6a256Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMjEyMDcsImV4cCI6MjA2ODg5NzIwN30.p97K1S3WYNAeYb-ExRpRp3J_pqFegFJ11VOe5th_xHk";let gx,vx;gx=HA,vx=VA;const G=BA(gx,vx,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10},heartbeatIntervalMs:3e4,reconnectAfterMs:e=>Math.min(1e3*Math.pow(2,e),3e4),timeout:6e4}}),yx=h.createContext(void 0);function qA({children:e}){const[t,n]=h.useState(null),[r,s]=h.useState(null),[o,a]=h.useState(null),[i,l]=h.useState(!0);h.useEffect(()=>{const{data:{subscription:m}}=G.auth.onAuthStateChange(async(p,b)=>{var v;console.log("🔄 Auth state changed:",p,(v=b==null?void 0:b.user)==null?void 0:v.email),s(b),n((b==null?void 0:b.user)??null),b!=null&&b.user&&(p==="SIGNED_IN"||p==="TOKEN_REFRESHED")?setTimeout(async()=>{console.log("🔍 Buscando perfil para usuario:",b.user.email);const{data:x,error:w}=await G.from("profiles").select("*").eq("email",b.user.email||"").single();let y=x;if(w)console.error("❌ Error buscando perfil por email:",w),console.log("⚠️ No se encontró perfil para:",b.user.email);else if(y){if(console.log("✅ Perfil encontrado por email:",y),y.status==="pending"){console.log(`🔄 Activando agente pendiente: ${b.user.email}`);const{data:g,error:S}=await G.from("profiles").update({status:"active"}).eq("email",b.user.email||"").select().single();S?console.error("❌ Error activando perfil:",S):(console.log(`✅ Agente activado exitosamente: ${b.user.email}`),y=g)}y.status!=="active"&&(console.log("⚠️ Perfil no está activo:",y.status),y=null)}console.log("🏁 Perfil final cargado en Auth:",y),a(y)},100):(console.log("👤 Usuario no autenticado o evento no relevante"),a(null)),l(!1)});return G.auth.getSession().then(({data:{session:p}})=>{s(p),n((p==null?void 0:p.user)??null),p!=null&&p.user,l(!1)}),()=>m.unsubscribe()},[]);const u=async m=>{const p=`${window.location.origin}/`,{error:b}=await G.auth.signInWithOtp({email:m,options:{emailRedirectTo:p}});return b?{error:b}:{error:null,message:"Se ha enviado un enlace mágico a tu correo electrónico. Revisa tu bandeja de entrada."}},d=async(m,p,b)=>{try{const v=`${window.location.origin}/`,{error:x}=await G.auth.signUp({email:m,password:p,options:{emailRedirectTo:v,data:{name:b}}});return{error:x}}catch(v){return{error:v}}},f=async()=>{await G.auth.signOut()};return c.jsx(yx.Provider,{value:{user:t,session:r,profile:o,loading:i,signInWithMagicLink:u,signUp:d,signOut:f},children:e})}function cn(){const e=h.useContext(yx);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(e,t)=>{const n=h.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:i="",children:l,...u},d)=>h.createElement("svg",{ref:d,...KA,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${GA(e)}`,i].join(" "),...u},[...t.map(([f,m])=>h.createElement(f,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=pe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=pe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=pe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qg=P0,Wc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return qg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=Vg(d)||Vg(f);return s[u][m]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[v,x]=b;return Array.isArray(x)?x.includes({...o,...i}[v]):{...o,...i}[v]===x})?[...u,f,m]:u},[]);return qg(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},rp=Wc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?Bk:"button";return c.jsx(a,{className:K(rp({variant:t,size:n,className:e})),ref:o,...s})});fe.displayName="Button";var jx={exports:{}},Tx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=h;function p2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m2=typeof Object.is=="function"?Object.is:p2,g2=Fo.useState,v2=Fo.useEffect,y2=Fo.useLayoutEffect,w2=Fo.useDebugValue;function x2(e,t){var n=t(),r=g2({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return y2(function(){s.value=n,s.getSnapshot=t,Vu(s)&&o({inst:s})},[e,n,t]),v2(function(){return Vu(s)&&o({inst:s}),e(function(){Vu(s)&&o({inst:s})})},[e]),w2(n),n}function Vu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!m2(e,n)}catch{return!0}}function b2(e,t){return t()}var _2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b2:x2;Tx.useSyncExternalStore=Fo.useSyncExternalStore!==void 0?Fo.useSyncExternalStore:_2;jx.exports=Tx;var S2=jx.exports;function E2(){return S2.useSyncExternalStore(C2,()=>!0,()=>!1)}function C2(){return()=>{}}var sp="Avatar",[k2,M$]=ln(sp),[j2,Px]=k2(sp),Nx=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return c.jsx(j2,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(J.span,{...r,ref:t})})});Nx.displayName=sp;var Rx="AvatarImage",Ax=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,a=Px(Rx,n),i=T2(r,o),l=sn(u=>{s(u),a.onImageLoadingStatusChange(u)});return We(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?c.jsx(J.img,{...o,ref:t,src:r}):null});Ax.displayName=Rx;var Ox="AvatarFallback",Mx=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=Px(Ox,n),[a,i]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?c.jsx(J.span,{...s,ref:t}):null});Mx.displayName=Ox;function Kg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T2(e,{referrerPolicy:t,crossOrigin:n}){const r=E2(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,i]=h.useState(()=>Kg(o,e));return We(()=>{i(Kg(o,e))},[o,e]),We(()=>{const l=f=>()=>{i(f)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),a}var Ix=Nx,Dx=Ax,Lx=Mx;const oi=h.forwardRef(({className:e,...t},n)=>c.jsx(Ix,{ref:n,className:K("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));oi.displayName=Ix.displayName;const op=h.forwardRef(({className:e,...t},n)=>c.jsx(Dx,{ref:n,className:K("aspect-square h-full w-full",e),...t}));op.displayName=Dx.displayName;const ai=h.forwardRef(({className:e,...t},n)=>c.jsx(Lx,{ref:n,className:K("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ai.displayName=Lx.displayName;function ap(e){const t=e+"CollectionProvider",[n,r]=ln(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:w}=v,y=D.useRef(null),g=D.useRef(new Map).current;return c.jsx(s,{scope:x,itemMap:g,collectionRef:y,children:w})};a.displayName=t;const i=e+"CollectionSlot",l=ms(i),u=D.forwardRef((v,x)=>{const{scope:w,children:y}=v,g=o(i,w),S=he(x,g.collectionRef);return c.jsx(l,{ref:S,children:y})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=ms(d),p=D.forwardRef((v,x)=>{const{scope:w,children:y,...g}=v,S=D.useRef(null),_=he(x,S),C=o(d,w);return D.useEffect(()=>(C.itemMap.set(S,{ref:S,...g}),()=>void C.itemMap.delete(S))),c.jsx(m,{[f]:"",ref:_,children:y})});p.displayName=d;function b(v){const x=o(e+"CollectionConsumer",v);return D.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((C,E)=>g.indexOf(C.ref.current)-g.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},b,r]}var P2=h.createContext(void 0);function Hc(e){const t=h.useContext(P2);return e||t||"ltr"}var qu=0;function ip(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gg()),document.body.insertAdjacentElement("beforeend",e[1]??Gg()),qu++,()=>{qu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qu--}},[])}function Gg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ku="focusScope.autoFocusOnMount",Gu="focusScope.autoFocusOnUnmount",Yg={bubbles:!1,cancelable:!0},N2="FocusScope",Vc=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[i,l]=h.useState(null),u=sn(s),d=sn(o),f=h.useRef(null),m=he(t,v=>l(v)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(g){if(p.paused||!i)return;const S=g.target;i.contains(S)?f.current=S:ir(f.current,{select:!0})},x=function(g){if(p.paused||!i)return;const S=g.relatedTarget;S!==null&&(i.contains(S)||ir(f.current,{select:!0}))},w=function(g){if(document.activeElement===document.body)for(const _ of g)_.removedNodes.length>0&&ir(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const y=new MutationObserver(w);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),y.disconnect()}}},[r,i,p.paused]),h.useEffect(()=>{if(i){Xg.add(p);const v=document.activeElement;if(!i.contains(v)){const w=new CustomEvent(Ku,Yg);i.addEventListener(Ku,u),i.dispatchEvent(w),w.defaultPrevented||(R2(D2($x(i)),{select:!0}),document.activeElement===v&&ir(i))}return()=>{i.removeEventListener(Ku,u),setTimeout(()=>{const w=new CustomEvent(Gu,Yg);i.addEventListener(Gu,d),i.dispatchEvent(w),w.defaultPrevented||ir(v??document.body,{select:!0}),i.removeEventListener(Gu,d),Xg.remove(p)},0)}}},[i,u,d,p]);const b=h.useCallback(v=>{if(!n&&!r||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(x&&w){const y=v.currentTarget,[g,S]=A2(y);g&&S?!v.shiftKey&&w===S?(v.preventDefault(),n&&ir(g,{select:!0})):v.shiftKey&&w===g&&(v.preventDefault(),n&&ir(S,{select:!0})):w===y&&v.preventDefault()}},[n,r,p.paused]);return c.jsx(J.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});Vc.displayName=N2;function R2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ir(r,{select:t}),document.activeElement!==n)return}function A2(e){const t=$x(e),n=Qg(t,e),r=Qg(t.reverse(),e);return[n,r]}function $x(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qg(e,t){for(const n of e)if(!O2(n,{upTo:t}))return n}function O2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function M2(e){return e instanceof HTMLInputElement&&"select"in e}function ir(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&M2(e)&&t&&e.select()}}var Xg=I2();function I2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jg(e,t),e.unshift(t)},remove(t){var n;e=Jg(e,t),(n=e[0])==null||n.resume()}}}function Jg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function D2(e){return e.filter(t=>t.tagName!=="A")}var Yu="rovingFocusGroup.onEntryFocus",L2={bubbles:!1,cancelable:!0},_i="RovingFocusGroup",[bf,Fx,$2]=ap(_i),[F2,qc]=ln(_i,[$2]),[U2,z2]=F2(_i),Ux=h.forwardRef((e,t)=>c.jsx(bf.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(bf.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(B2,{...e,ref:t})})}));Ux.displayName=_i;var B2=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=he(t,m),b=Hc(o),[v,x]=Do({prop:a,defaultProp:i??null,onChange:l,caller:_i}),[w,y]=h.useState(!1),g=sn(u),S=Fx(n),_=h.useRef(!1),[C,E]=h.useState(0);return h.useEffect(()=>{const j=m.current;if(j)return j.addEventListener(Yu,g),()=>j.removeEventListener(Yu,g)},[g]),c.jsx(U2,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:v,onItemFocus:h.useCallback(j=>x(j),[x]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(j=>j+1),[]),onFocusableItemRemove:h.useCallback(()=>E(j=>j-1),[]),children:c.jsx(J.div,{tabIndex:w||C===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:z(e.onMouseDown,()=>{_.current=!0}),onFocus:z(e.onFocus,j=>{const N=!_.current;if(j.target===j.currentTarget&&N&&!w){const T=new CustomEvent(Yu,L2);if(j.currentTarget.dispatchEvent(T),!T.defaultPrevented){const L=S().filter(F=>F.focusable),A=L.find(F=>F.active),I=L.find(F=>F.id===v),q=[A,I,...L].filter(Boolean).map(F=>F.ref.current);Wx(q,d)}}_.current=!1}),onBlur:z(e.onBlur,()=>y(!1))})})}),zx="RovingFocusGroupItem",Bx=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...i}=e,l=En(),u=o||l,d=z2(zx,n),f=d.currentTabStopId===u,m=Fx(n),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:v}=d;return h.useEffect(()=>{if(r)return p(),()=>b()},[r,p,b]),c.jsx(bf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(J.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:z(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:z(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=V2(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let g=m().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")g.reverse();else if(w==="prev"||w==="next"){w==="prev"&&g.reverse();const S=g.indexOf(x.currentTarget);g=d.loop?q2(g,S+1):g.slice(S+1)}setTimeout(()=>Wx(g))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});Bx.displayName=zx;var W2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function V2(e,t,n){const r=H2(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return W2[r]}function Wx(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function q2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Hx=Ux,Vx=Bx,K2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Us=new WeakMap,Ji=new WeakMap,Zi={},Qu=0,qx=function(e){return e&&(e.host||qx(e.parentNode))},G2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=qx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Y2=function(e,t,n,r){var s=G2(t,Array.isArray(e)?e:[e]);Zi[n]||(Zi[n]=new WeakMap);var o=Zi[n],a=[],i=new Set,l=new Set(s),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(i.has(m))d(m);else try{var p=m.getAttribute(r),b=p!==null&&p!=="false",v=(Us.get(m)||0)+1,x=(o.get(m)||0)+1;Us.set(m,v),o.set(m,x),a.push(m),v===1&&b&&Ji.set(m,!0),x===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),i.clear(),Qu++,function(){a.forEach(function(f){var m=Us.get(f)-1,p=o.get(f)-1;Us.set(f,m),o.set(f,p),m||(Ji.has(f)||f.removeAttribute(r),Ji.delete(f)),p||f.removeAttribute(n)}),Qu--,Qu||(Us=new WeakMap,Us=new WeakMap,Ji=new WeakMap,Zi={})}},lp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=K2(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Y2(r,s,n,"aria-hidden")):function(){return null}},yn=function(){return yn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},yn.apply(this,arguments)};function Kx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Q2(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var gl="right-scroll-bar-position",vl="width-before-scroll-bar",X2="with-scroll-bars-hidden",J2="--removed-body-scroll-bar-size";function Xu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Z2(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var eO=typeof window<"u"?h.useLayoutEffect:h.useEffect,Zg=new WeakMap;function tO(e,t){var n=Z2(null,function(r){return e.forEach(function(s){return Xu(s,r)})});return eO(function(){var r=Zg.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(i){o.has(i)||Xu(i,null)}),o.forEach(function(i){s.has(i)||Xu(i,a)})}Zg.set(n,e)},[e]),n}function nO(e){return e}function rO(e,t){t===void 0&&(t=nO);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function sO(e){e===void 0&&(e={});var t=rO(null);return t.options=yn({async:!0,ssr:!1},e),t}var Gx=function(e){var t=e.sideCar,n=Kx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,yn({},n))};Gx.isSideCarExport=!0;function oO(e,t){return e.useMedium(t),Gx}var Yx=sO(),Ju=function(){},Kc=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Ju,onWheelCapture:Ju,onTouchMoveCapture:Ju}),s=r[0],o=r[1],a=e.forwardProps,i=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,b=e.noIsolation,v=e.inert,x=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,g=e.gapMode,S=Kx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,C=tO([n,t]),E=yn(yn({},S),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:Yx,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:v,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:g}),a?h.cloneElement(h.Children.only(i),yn(yn({},E),{ref:C})):h.createElement(y,yn({},E,{className:l,ref:C}),i))});Kc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kc.classNames={fullWidth:vl,zeroRight:gl};var aO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aO();return t&&e.setAttribute("nonce",t),e}function lO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iO())&&(lO(t,n),cO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dO=function(){var e=uO();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qx=function(){var e=dO(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},fO={left:0,top:0,right:0,gap:0},Zu=function(e){return parseInt(e||"",10)||0},hO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Zu(n),Zu(r),Zu(s)]},pO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fO;var t=hO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mO=Qx(),mo="data-scroll-locked",gO=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(X2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gl,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(vl,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vl," .").concat(vl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mo,`] {
    `).concat(J2,": ").concat(i,`px;
  }
`)},ev=function(){var e=parseInt(document.body.getAttribute(mo)||"0",10);return isFinite(e)?e:0},vO=function(){h.useEffect(function(){return document.body.setAttribute(mo,(ev()+1).toString()),function(){var e=ev()-1;e<=0?document.body.removeAttribute(mo):document.body.setAttribute(mo,e.toString())}},[])},yO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;vO();var o=h.useMemo(function(){return pO(s)},[s]);return h.createElement(mO,{styles:gO(o,!t,s,n?"":"!important")})},_f=!1;if(typeof window<"u")try{var el=Object.defineProperty({},"passive",{get:function(){return _f=!0,!0}});window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{_f=!1}var zs=_f?{passive:!1}:!1,wO=function(e){return e.tagName==="TEXTAREA"},Xx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wO(e)&&n[t]==="visible")},xO=function(e){return Xx(e,"overflowY")},bO=function(e){return Xx(e,"overflowX")},tv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Jx(e,r);if(s){var o=Zx(e,r),a=o[1],i=o[2];if(a>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_O=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},SO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Jx=function(e,t){return e==="v"?xO(t):bO(t)},Zx=function(e,t){return e==="v"?_O(t):SO(t)},EO=function(e,t){return e==="h"&&t==="rtl"?-1:1},CO=function(e,t,n,r,s){var o=EO(e,window.getComputedStyle(t).direction),a=o*r,i=n.target,l=t.contains(i),u=!1,d=a>0,f=0,m=0;do{if(!i)break;var p=Zx(e,i),b=p[0],v=p[1],x=p[2],w=v-x-o*b;(b||w)&&Jx(e,i)&&(f+=w,m+=b);var y=i.parentNode;i=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},tl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nv=function(e){return[e.deltaX,e.deltaY]},rv=function(e){return e&&"current"in e?e.current:e},kO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TO=0,Bs=[];function PO(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(TO++)[0],o=h.useState(Qx)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Q2([e.lockRef.current],(e.shards||[]).map(rv),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=h.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=tl(v),y=n.current,g="deltaX"in v?v.deltaX:y[0]-w[0],S="deltaY"in v?v.deltaY:y[1]-w[1],_,C=v.target,E=Math.abs(g)>Math.abs(S)?"h":"v";if("touches"in v&&E==="h"&&C.type==="range")return!1;var j=tv(E,C);if(!j)return!0;if(j?_=E:(_=E==="v"?"h":"v",j=tv(E,C)),!j)return!1;if(!r.current&&"changedTouches"in v&&(g||S)&&(r.current=_),!_)return!0;var N=r.current||_;return CO(N,x,v,N==="h"?g:S)},[]),l=h.useCallback(function(v){var x=v;if(!(!Bs.length||Bs[Bs.length-1]!==o)){var w="deltaY"in x?nv(x):tl(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&kO(_.delta,w)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var g=(a.current.shards||[]).map(rv).filter(Boolean).filter(function(_){return _.contains(x.target)}),S=g.length>0?i(x,g[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(v,x,w,y){var g={name:v,delta:x,target:w,should:y,shadowParent:NO(w)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(S){return S!==g})},1)},[]),d=h.useCallback(function(v){n.current=tl(v),r.current=void 0},[]),f=h.useCallback(function(v){u(v.type,nv(v),v.target,i(v,e.lockRef.current))},[]),m=h.useCallback(function(v){u(v.type,tl(v),v.target,i(v,e.lockRef.current))},[]);h.useEffect(function(){return Bs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,zs),document.addEventListener("touchmove",l,zs),document.addEventListener("touchstart",d,zs),function(){Bs=Bs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,zs),document.removeEventListener("touchmove",l,zs),document.removeEventListener("touchstart",d,zs)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:jO(s)}):null,p?h.createElement(yO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function NO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RO=oO(Yx,PO);var Gc=h.forwardRef(function(e,t){return h.createElement(Kc,yn({},e,{ref:t,sideCar:RO}))});Gc.classNames=Kc.classNames;var Sf=["Enter"," "],AO=["ArrowDown","PageUp","Home"],eb=["ArrowUp","PageDown","End"],OO=[...AO,...eb],MO={ltr:[...Sf,"ArrowRight"],rtl:[...Sf,"ArrowLeft"]},IO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Si="Menu",[ii,DO,LO]=ap(Si),[Ts,tb]=ln(Si,[LO,Go,qc]),Yc=Go(),nb=qc(),[$O,Ps]=Ts(Si),[FO,Ei]=Ts(Si),rb=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=e,i=Yc(t),[l,u]=h.useState(null),d=h.useRef(!1),f=sn(o),m=Hc(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),c.jsx(v0,{...i,children:c.jsx($O,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(FO,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};rb.displayName=Si;var UO="MenuAnchor",cp=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Yc(n);return c.jsx(Bh,{...s,...r,ref:t})});cp.displayName=UO;var up="MenuPortal",[zO,sb]=Ts(up,{forceMount:void 0}),ob=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Ps(up,t);return c.jsx(zO,{scope:t,forceMount:n,children:c.jsx(Tn,{present:n||o.open,children:c.jsx(Ac,{asChild:!0,container:s,children:r})})})};ob.displayName=up;var Lt="MenuContent",[BO,dp]=Ts(Lt),ab=h.forwardRef((e,t)=>{const n=sb(Lt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ps(Lt,e.__scopeMenu),a=Ei(Lt,e.__scopeMenu);return c.jsx(ii.Provider,{scope:e.__scopeMenu,children:c.jsx(Tn,{present:r||o.open,children:c.jsx(ii.Slot,{scope:e.__scopeMenu,children:a.modal?c.jsx(WO,{...s,ref:t}):c.jsx(HO,{...s,ref:t})})})})}),WO=h.forwardRef((e,t)=>{const n=Ps(Lt,e.__scopeMenu),r=h.useRef(null),s=he(t,r);return h.useEffect(()=>{const o=r.current;if(o)return lp(o)},[]),c.jsx(fp,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HO=h.forwardRef((e,t)=>{const n=Ps(Lt,e.__scopeMenu);return c.jsx(fp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),VO=ms("MenuContent.ScrollLock"),fp=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:b,...v}=e,x=Ps(Lt,n),w=Ei(Lt,n),y=Yc(n),g=nb(n),S=DO(n),[_,C]=h.useState(null),E=h.useRef(null),j=he(t,E,x.onContentChange),N=h.useRef(0),T=h.useRef(""),L=h.useRef(0),A=h.useRef(null),I=h.useRef("right"),H=h.useRef(0),q=b?Gc:h.Fragment,F=b?{as:VO,allowPinchZoom:!0}:void 0,V=k=>{var $,le;const O=T.current+k,B=S().filter(ce=>!ce.disabled),W=document.activeElement,te=($=B.find(ce=>ce.ref.current===W))==null?void 0:$.textValue,Y=B.map(ce=>ce.textValue),ve=rM(Y,O,te),ye=(le=B.find(ce=>ce.textValue===ve))==null?void 0:le.ref.current;(function ce(oe){T.current=oe,window.clearTimeout(N.current),oe!==""&&(N.current=window.setTimeout(()=>ce(""),1e3))})(O),ye&&setTimeout(()=>ye.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),ip();const P=h.useCallback(k=>{var B,W;return I.current===((B=A.current)==null?void 0:B.side)&&oM(k,(W=A.current)==null?void 0:W.area)},[]);return c.jsx(BO,{scope:n,searchRef:T,onItemEnter:h.useCallback(k=>{P(k)&&k.preventDefault()},[P]),onItemLeave:h.useCallback(k=>{var O;P(k)||((O=E.current)==null||O.focus(),C(null))},[P]),onTriggerLeave:h.useCallback(k=>{P(k)&&k.preventDefault()},[P]),pointerGraceTimerRef:L,onPointerGraceIntentChange:h.useCallback(k=>{A.current=k},[]),children:c.jsx(q,{...F,children:c.jsx(Vc,{asChild:!0,trapped:s,onMountAutoFocus:z(o,k=>{var O;k.preventDefault(),(O=E.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(yi,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:c.jsx(Hx,{asChild:!0,...g,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:z(l,k=>{w.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Wh,{role:"menu","aria-orientation":"vertical","data-state":_b(x.open),"data-radix-menu-content":"",dir:w.dir,...y,...v,ref:j,style:{outline:"none",...v.style},onKeyDown:z(v.onKeyDown,k=>{const B=k.target.closest("[data-radix-menu-content]")===k.currentTarget,W=k.ctrlKey||k.altKey||k.metaKey,te=k.key.length===1;B&&(k.key==="Tab"&&k.preventDefault(),!W&&te&&V(k.key));const Y=E.current;if(k.target!==Y||!OO.includes(k.key))return;k.preventDefault();const ye=S().filter($=>!$.disabled).map($=>$.ref.current);eb.includes(k.key)&&ye.reverse(),tM(ye)}),onBlur:z(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(N.current),T.current="")}),onPointerMove:z(e.onPointerMove,li(k=>{const O=k.target,B=H.current!==k.clientX;if(k.currentTarget.contains(O)&&B){const W=k.clientX>H.current?"right":"left";I.current=W,H.current=k.clientX}}))})})})})})})});ab.displayName=Lt;var qO="MenuGroup",hp=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(J.div,{role:"group",...r,ref:t})});hp.displayName=qO;var KO="MenuLabel",ib=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(J.div,{...r,ref:t})});ib.displayName=KO;var rc="MenuItem",sv="menu.itemSelect",Qc=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),a=Ei(rc,e.__scopeMenu),i=dp(rc,e.__scopeMenu),l=he(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const m=new CustomEvent(sv,{bubbles:!0,cancelable:!0});f.addEventListener(sv,p=>r==null?void 0:r(p),{once:!0}),Kw(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return c.jsx(lb,{...s,ref:l,disabled:n,onClick:z(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:z(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:z(e.onKeyDown,f=>{const m=i.searchRef.current!=="";n||m&&f.key===" "||Sf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qc.displayName=rc;var lb=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,a=dp(rc,n),i=nb(n),l=h.useRef(null),u=he(t,l),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const b=l.current;b&&p((b.textContent??"").trim())},[o.children]),c.jsx(ii.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:c.jsx(Vx,{asChild:!0,...i,focusable:!r,children:c.jsx(J.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:z(e.onPointerMove,li(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:z(e.onPointerLeave,li(b=>a.onItemLeave(b))),onFocus:z(e.onFocus,()=>f(!0)),onBlur:z(e.onBlur,()=>f(!1))})})})}),GO="MenuCheckboxItem",cb=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return c.jsx(pb,{scope:e.__scopeMenu,checked:n,children:c.jsx(Qc,{role:"menuitemcheckbox","aria-checked":sc(n)?"mixed":n,...s,ref:t,"data-state":mp(n),onSelect:z(s.onSelect,()=>r==null?void 0:r(sc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cb.displayName=GO;var ub="MenuRadioGroup",[YO,QO]=Ts(ub,{value:void 0,onValueChange:()=>{}}),db=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=sn(r);return c.jsx(YO,{scope:e.__scopeMenu,value:n,onValueChange:o,children:c.jsx(hp,{...s,ref:t})})});db.displayName=ub;var fb="MenuRadioItem",hb=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=QO(fb,e.__scopeMenu),o=n===s.value;return c.jsx(pb,{scope:e.__scopeMenu,checked:o,children:c.jsx(Qc,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":mp(o),onSelect:z(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});hb.displayName=fb;var pp="MenuItemIndicator",[pb,XO]=Ts(pp,{checked:!1}),mb=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=XO(pp,n);return c.jsx(Tn,{present:r||sc(o.checked)||o.checked===!0,children:c.jsx(J.span,{...s,ref:t,"data-state":mp(o.checked)})})});mb.displayName=pp;var JO="MenuSeparator",gb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(J.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});gb.displayName=JO;var ZO="MenuArrow",vb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Yc(n);return c.jsx(Hh,{...s,...r,ref:t})});vb.displayName=ZO;var eM="MenuSub",[I$,yb]=Ts(eM),wa="MenuSubTrigger",wb=h.forwardRef((e,t)=>{const n=Ps(wa,e.__scopeMenu),r=Ei(wa,e.__scopeMenu),s=yb(wa,e.__scopeMenu),o=dp(wa,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),l(null)}},[i,l]),c.jsx(cp,{asChild:!0,...u,children:c.jsx(lb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_b(n.open),...e,ref:Tc(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:z(e.onPointerMove,li(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:z(e.onPointerLeave,li(f=>{var p,b;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(b=n.content)==null?void 0:b.dataset.side,x=v==="right",w=x?-5:5,y=m[x?"left":"right"],g=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:m.top},{x:g,y:m.top},{x:g,y:m.bottom},{x:y,y:m.bottom}],side:v}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:z(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||MO[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});wb.displayName=wa;var xb="MenuSubContent",bb=h.forwardRef((e,t)=>{const n=sb(Lt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ps(Lt,e.__scopeMenu),a=Ei(Lt,e.__scopeMenu),i=yb(xb,e.__scopeMenu),l=h.useRef(null),u=he(t,l);return c.jsx(ii.Provider,{scope:e.__scopeMenu,children:c.jsx(Tn,{present:r||o.open,children:c.jsx(ii.Slot,{scope:e.__scopeMenu,children:c.jsx(fp,{id:i.contentId,"aria-labelledby":i.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:z(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:z(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:z(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=IO[a.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=i.trigger)==null||p.focus(),d.preventDefault())})})})})})});bb.displayName=xb;function _b(e){return e?"open":"closed"}function sc(e){return e==="indeterminate"}function mp(e){return sc(e)?"indeterminate":e?"checked":"unchecked"}function tM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function nM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function rM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=nM(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function sM(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],l=t[a],u=i.x,d=i.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function oM(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return sM(n,t)}function li(e){return t=>t.pointerType==="mouse"?e(t):void 0}var aM=rb,iM=cp,lM=ob,cM=ab,uM=hp,dM=ib,fM=Qc,hM=cb,pM=db,mM=hb,gM=mb,vM=gb,yM=vb,wM=wb,xM=bb,Xc="DropdownMenu",[bM,D$]=ln(Xc,[tb]),dt=tb(),[_M,Sb]=bM(Xc),Eb=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=dt(t),u=h.useRef(null),[d,f]=Do({prop:s,defaultProp:o??!1,onChange:a,caller:Xc});return c.jsx(_M,{scope:t,triggerId:En(),triggerRef:u,contentId:En(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:i,children:c.jsx(aM,{...l,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};Eb.displayName=Xc;var Cb="DropdownMenuTrigger",kb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=Sb(Cb,n),a=dt(n);return c.jsx(iM,{asChild:!0,...a,children:c.jsx(J.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Tc(t,o.triggerRef),onPointerDown:z(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:z(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});kb.displayName=Cb;var SM="DropdownMenuPortal",jb=e=>{const{__scopeDropdownMenu:t,...n}=e,r=dt(t);return c.jsx(lM,{...r,...n})};jb.displayName=SM;var Tb="DropdownMenuContent",Pb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Sb(Tb,n),o=dt(n),a=h.useRef(!1);return c.jsx(cM,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:z(e.onCloseAutoFocus,i=>{var l;a.current||(l=s.triggerRef.current)==null||l.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:z(e.onInteractOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pb.displayName=Tb;var EM="DropdownMenuGroup",CM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(uM,{...s,...r,ref:t})});CM.displayName=EM;var kM="DropdownMenuLabel",Nb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(dM,{...s,...r,ref:t})});Nb.displayName=kM;var jM="DropdownMenuItem",Rb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(fM,{...s,...r,ref:t})});Rb.displayName=jM;var TM="DropdownMenuCheckboxItem",Ab=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(hM,{...s,...r,ref:t})});Ab.displayName=TM;var PM="DropdownMenuRadioGroup",NM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(pM,{...s,...r,ref:t})});NM.displayName=PM;var RM="DropdownMenuRadioItem",Ob=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(mM,{...s,...r,ref:t})});Ob.displayName=RM;var AM="DropdownMenuItemIndicator",Mb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(gM,{...s,...r,ref:t})});Mb.displayName=AM;var OM="DropdownMenuSeparator",Ib=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(vM,{...s,...r,ref:t})});Ib.displayName=OM;var MM="DropdownMenuArrow",IM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(yM,{...s,...r,ref:t})});IM.displayName=MM;var DM="DropdownMenuSubTrigger",Db=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(wM,{...s,...r,ref:t})});Db.displayName=DM;var LM="DropdownMenuSubContent",Lb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dt(n);return c.jsx(xM,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Lb.displayName=LM;var $M=Eb,FM=kb,UM=jb,$b=Pb,Fb=Nb,Ub=Rb,zb=Ab,Bb=Ob,Wb=Mb,Hb=Ib,Vb=Db,qb=Lb;const Kb=$M,Gb=FM,zM=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>c.jsxs(Vb,{ref:s,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(QA,{className:"ml-auto h-4 w-4"})]}));zM.displayName=Vb.displayName;const BM=h.forwardRef(({className:e,...t},n)=>c.jsx(qb,{ref:n,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=open]:slide-in-from-left-2 data-[state=open]:slide-in-from-top-[2%] data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[1%]",e),...t}));BM.displayName=qb.displayName;const gp=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(UM,{children:c.jsx($b,{ref:r,sideOffset:t,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=open]:slide-in-from-top-2 data-[state=closed]:slide-out-to-top-2",e),...n})}));gp.displayName=$b.displayName;const go=h.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(Ub,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));go.displayName=Ub.displayName;const WM=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>c.jsxs(zb,{ref:s,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Wb,{children:c.jsx(bx,{className:"h-4 w-4"})})}),t]}));WM.displayName=zb.displayName;const HM=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(Bb,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Wb,{children:c.jsx(JA,{className:"h-2 w-2 fill-current"})})}),t]}));HM.displayName=Bb.displayName;const VM=h.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(Fb,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));VM.displayName=Fb.displayName;const Ef=h.forwardRef(({className:e,...t},n)=>c.jsx(Hb,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));Ef.displayName=Hb.displayName;function vp(){const{setTheme:e}=lk();return c.jsxs(Kb,{children:[c.jsx(Gb,{asChild:!0,children:c.jsxs(fe,{variant:"outline",size:"icon",children:[c.jsx(d2,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),c.jsx(r2,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),c.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),c.jsxs(gp,{align:"end",children:[c.jsx(go,{onClick:()=>e("light"),children:"Light"}),c.jsx(go,{onClick:()=>e("dark"),children:"Dark"}),c.jsx(go,{onClick:()=>e("system"),children:"System"})]})]})}const qM=[{name:"Dashboard",href:"/dashboard",icon:vs},{name:"Agentes",href:"/agents",icon:np},{name:"Métricas",href:"/metrics",icon:wx},{name:"Debug",href:"/debug",icon:YA},{name:"Configuración",href:"/settings",icon:Ex}];function KM({isOpen:e,onToggle:t}){const n=ks(),{user:r,profile:s,signOut:o}=cn(),[a,i]=h.useState(!1);h.useEffect(()=>{const d=()=>{i(window.innerWidth<1024)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const l=async()=>{try{await o()}catch(d){console.error("Error signing out:",d)}},u=()=>{var d;return c.jsxs("div",{className:"flex h-full flex-col bg-background border-r",children:[c.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[c.jsxs(Lu,{to:"/dashboard",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"TB"})}),c.jsx("span",{className:"font-semibold text-lg",children:"TrueBlue"})]}),a&&c.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>t(),children:c.jsx(kx,{className:"h-5 w-5"})})]}),c.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:qM.map(f=>{const m=n.pathname===f.href;return c.jsxs(Lu,{to:f.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                ${m?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}
              `,onClick:()=>{a&&t()},children:[c.jsx(f.icon,{className:"mr-3 h-5 w-5"}),f.name]},f.name)})}),c.jsxs("div",{className:"border-t p-4 space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(vp,{})}),r&&s&&c.jsxs(Kb,{children:[c.jsx(Gb,{asChild:!0,children:c.jsxs(fe,{variant:"ghost",className:"w-full justify-start p-2 h-auto",children:[c.jsxs(oi,{className:"h-8 w-8 mr-3",children:[c.jsx(op,{src:void 0,alt:s.name}),c.jsx(ai,{children:((d=s.name)==null?void 0:d.charAt(0).toUpperCase())||"U"})]}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"text-sm font-medium",children:s.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]})}),c.jsxs(gp,{align:"end",className:"w-56",children:[c.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:c.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[c.jsx("p",{className:"font-medium",children:s.name}),c.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:s.email})]})}),c.jsx(Ef,{}),c.jsx(go,{asChild:!0,children:c.jsxs(Lu,{to:"/settings",className:"cursor-pointer",children:[c.jsx(Ex,{className:"mr-2 h-4 w-4"}),"Configuración"]})}),c.jsx(Ef,{}),c.jsxs(go,{onClick:l,className:"cursor-pointer",children:[c.jsx(e2,{className:"mr-2 h-4 w-4"}),"Cerrar sesión"]})]})]})]})]})};return a?c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>t()}),c.jsx("div",{className:`
          fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out lg:hidden
          ${e?"translate-x-0":"-translate-x-full"}
        `,children:c.jsx(u,{})})]}):c.jsx("div",{className:`
      hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 transition-all duration-300 ease-in-out
      ${e?"lg:w-64":"lg:w-16"}
    `,children:c.jsx(u,{})})}class GM{constructor(){Dp(this,"webhookUrl","https://aztec.app.n8n.cloud/webhook/webhook_tb_local")}async sendMessageToWebhook(t){try{console.log("🚀 Enviando mensaje a n8n webhook:",{url:this.webhookUrl,payload:{...t,message:t.message.substring(0,100)+(t.message.length>100?"...":"")}});const n=await fetch(this.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("📡 Respuesta del servidor n8n:",{status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries())}),!n.ok){const s=await n.text();throw console.error("❌ Error HTTP del webhook n8n:",{status:n.status,statusText:n.statusText,errorText:s}),new Error(`HTTP error! status: ${n.status} - ${s}`)}const r=await n.json();return console.log("✅ Respuesta exitosa del webhook n8n:",r),{success:!0,data:r,message:"Mensaje enviado exitosamente a n8n"}}catch(n){return console.error("❌ Error enviando mensaje a n8n:",{error:n instanceof Error?n.message:"Error desconocido",stack:n instanceof Error?n.stack:void 0,payload:{...t,message:t.message.substring(0,100)+(t.message.length>100?"...":"")}}),{success:!1,error:n instanceof Error?n.message:"Error desconocido",message:"Error al enviar mensaje a n8n"}}}detectChannel(t){return t.channel&&t.channel!=="web"?t.channel:t.phone_number?t.phone_number.includes("@c.us")?"whatsapp":"sms":t.username&&t.username.startsWith("@")?"telegram":"web"}prepareWebhookPayload(t,n,r,s,o){const a=this.detectChannel(n),i=n.user_id,l=s;return console.log("🔍 Preparando payload para n8n:",{conversationId:t,messageContent:r.substring(0,100)+(r.length>100?"...":""),channel:a,senderId:l,chatId:i,conversationData:n}),{conversationId:t,message:r,channel:a,senderId:l,chatId:i}}}const Cf=new GM,nl={success:(...e)=>{},error:(...e)=>{},info:(...e)=>{}};function YM({onMessageInsert:e,onMessageUpdate:t,onMessageDelete:n,onConversationInsert:r,onConversationUpdate:s,onConversationDelete:o,userId:a}){const i=h.useCallback(()=>{console.log("🔄 [REALTIME] Configurando suscripciones de tiempo real..."),console.log("🔄 [REALTIME] Callbacks disponibles:",{onMessageInsert:!!e,onConversationInsert:!!r,onConversationUpdate:!!s,userId:a}),console.log("🔍 [REALTIME] Entorno:","production"),console.log("🔍 [REALTIME] Supabase URL:","https://avkpygwhymnxotwqzknz.supabase.co".substring(0,30)+"...");let l=null,u=null;try{console.log("📡 [REALTIME] Creando canal de mensajes..."),l=G.channel("messages-changes",{config:{broadcast:{self:!0}}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"tb_messages"},v=>{console.log("✅ [REALTIME] Nuevo mensaje recibido en tiempo real:",v.new);const x=v.new;e?(console.log("📨 [REALTIME] Ejecutando callback onMessageInsert..."),e(x)):console.log("⚠️ [REALTIME] Callback onMessageInsert no disponible"),(x.sender_role!=="agent"||x.responded_by_agent_id!==a)&&nl.success("Nuevo mensaje recibido",{description:`${x.sender_role==="user"?"Cliente":"IA"}: ${x.content.substring(0,50)}...`,duration:3e3})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"tb_messages"},v=>{console.log("🔄 [REALTIME] Mensaje actualizado en tiempo real:",v.new);const x=v.new;t?(console.log("📝 [REALTIME] Ejecutando callback onMessageUpdate..."),t(x)):console.log("⚠️ [REALTIME] Callback onMessageUpdate no disponible")}).on("postgres_changes",{event:"DELETE",schema:"public",table:"tb_messages"},v=>{console.log("🗑️ [REALTIME] Mensaje eliminado en tiempo real:",v.old);const x=v.old;n?(console.log("🗑️ [REALTIME] Ejecutando callback onMessageDelete..."),n(x.id)):console.log("⚠️ [REALTIME] Callback onMessageDelete no disponible")}),console.log("📡 [REALTIME] Creando canal de conversaciones..."),u=G.channel("conversations-changes",{config:{broadcast:{self:!0}}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"tb_conversations"},v=>{console.log("✅ [REALTIME] Nueva conversación recibida en tiempo real:",v.new);const x=v.new;r?(console.log("🆕 [REALTIME] Ejecutando callback onConversationInsert..."),r(x)):console.log("⚠️ [REALTIME] Callback onConversationInsert no disponible"),nl.success("Nueva conversación",{description:`Usuario: ${x.username||x.user_id}`,duration:4e3})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"tb_conversations"},v=>{console.log("🔄 [REALTIME] Conversación actualizada en tiempo real:",v.new);const x=v.new;s?(console.log("🔄 [REALTIME] Ejecutando callback onConversationUpdate..."),s(x)):console.log("⚠️ [REALTIME] Callback onConversationUpdate no disponible")}).on("postgres_changes",{event:"DELETE",schema:"public",table:"tb_conversations"},v=>{console.log("🗑️ [REALTIME] Conversación eliminada en tiempo real:",v.old);const x=v.old;o?(console.log("🗑️ [REALTIME] Ejecutando callback onConversationDelete..."),o(x.id)):console.log("⚠️ [REALTIME] Callback onConversationDelete no disponible")}),console.log("📡 [REALTIME] Suscribiendo a canal de mensajes...");let d=0;const f=3,m=()=>{l.subscribe(v=>{console.log("📡 [REALTIME] Estado de suscripción de mensajes:",v),v==="SUBSCRIBED"?(console.log("✅ [REALTIME] Suscripción a mensajes activa - ESPERANDO MENSAJES"),d=0):v==="TIMED_OUT"?(console.warn("⏰ [REALTIME] Timeout en mensajes, reintentando..."),d<f&&(d++,setTimeout(()=>{l.unsubscribe(),m()},1e3*d))):v==="CHANNEL_ERROR"?(console.error("❌ [REALTIME] Error en la suscripción de mensajes"),console.error("❌ [REALTIME] Detalles del error:",{channel:l.topic,params:l.params,socket:l.socket.isConnected()}),d<f?(d++,console.log(`🔄 [REALTIME] Reintentando suscripción de mensajes (${d}/${f})...`),setTimeout(()=>{l.unsubscribe(),m()},2e3*d)):nl.error("Error persistente de conexión en tiempo real para mensajes")):v==="CLOSED"?console.warn("⚠️ [REALTIME] Canal de mensajes cerrado"):console.log("📡 [REALTIME] Estado de mensajes:",v)})};m(),console.log("📡 [REALTIME] Suscribiendo a canal de conversaciones...");let p=0;const b=()=>{u.subscribe(v=>{console.log("📡 [REALTIME] Estado de suscripción de conversaciones:",v),v==="SUBSCRIBED"?(console.log("✅ [REALTIME] Suscripción a conversaciones activa"),p=0):v==="TIMED_OUT"?(console.warn("⏰ [REALTIME] Timeout en conversaciones, reintentando..."),p<f&&(p++,setTimeout(()=>{u.unsubscribe(),b()},1e3*p))):v==="CHANNEL_ERROR"&&(console.error("❌ [REALTIME] Error en la suscripción de conversaciones"),console.error("❌ [REALTIME] Detalles del error:",{channel:u.topic,params:u.params,socket:u.socket.isConnected()}),p<f?(p++,console.log(`🔄 [REALTIME] Reintentando suscripción de conversaciones (${p}/${f})...`),setTimeout(()=>{u.unsubscribe(),b()},2e3*p)):nl.error("Error persistente de conexión en tiempo real para conversaciones"))})};b()}catch(d){console.error("❌ [REALTIME] Error configurando suscripciones de tiempo real:",d)}return()=>{console.log("🧹 [REALTIME] Limpiando suscripciones de tiempo real..."),l&&l.unsubscribe(),u&&u.unsubscribe()}},[e,t,n,r,s,o,a]);return h.useEffect(()=>{console.log("🔌 [REALTIME] useEffect ejecutándose, configurando suscripciones...");const l=i();return console.log("🔌 [REALTIME] Suscripciones configuradas, cleanup function creada"),l},[i]),{setupRealtimeSubscriptions:i}}const Rn={success:(...e)=>{},error:(...e)=>{},info:(...e)=>{}};function Yb(){const[e,t]=h.useState([]),[n,r]=h.useState([]),[s,o]=h.useState(!0),[a,i]=h.useState(null),[l,u]=h.useState(!1),{user:d,profile:f}=cn(),m=h.useCallback(async()=>{if(!d){console.log("❌ fetchConversations: No user available");return}try{o(!0),console.log("🔍 fetchConversations: Starting fetch...");let _=G.from("tb_conversations").select("*").order("updated_at",{ascending:!1});(f==null?void 0:f.role)!=="admin"?f!=null&&f.id?(console.log("🔒 Non-admin user, filtering conversations"),_=_.or(`assigned_agent_id.eq.${f.id},status.eq.pending_human`)):(console.log("🔒 No profile ID, showing only pending"),_=_.eq("status","pending_human")):console.log("👑 Admin user, showing all conversations");const{data:C,error:E}=await _;if(E){console.error("❌ Error fetching conversations:",E),Rn.error("Error al cargar las conversaciones");return}console.log("✅ fetchConversations: Conversations fetched successfully:",(C==null?void 0:C.length)||0),console.log("🔍 fetchConversations: Obteniendo último mensaje de cada conversación...");const j=await Promise.all((C||[]).map(async N=>{try{const{data:T}=await G.from("tb_messages").select("sender_role, created_at").eq("conversation_id",N.id).order("created_at",{ascending:!1}).limit(1).single();return{...N,last_message_sender_role:(T==null?void 0:T.sender_role)||null,last_message_at:(T==null?void 0:T.created_at)||null}}catch{return{...N,last_message_sender_role:null,last_message_at:null}}}));console.log("✅ fetchConversations: Último mensaje obtenido para cada conversación"),console.log("🔍 fetchConversations: Setting conversations in state..."),t(j),u(!0)}catch(_){console.error("❌ Exception fetching conversations:",_)}finally{o(!1)}},[d,f]),p=h.useCallback(async _=>{if(!_){console.log("❌ fetchMessages: No conversationId provided");return}try{console.log("🔍 fetchMessages: Fetching messages for conversation:",_);const{data:C,error:E}=await G.from("tb_messages").select("*").eq("conversation_id",_).order("created_at",{ascending:!0});if(E){console.error("❌ Error fetching messages:",E),Rn.error("Error al cargar los mensajes");return}console.log("✅ Messages fetched successfully:",C),r(C||[])}catch(C){console.error("❌ Exception fetching messages:",C)}},[]),b=h.useCallback(async(_,C,E)=>{if(!(!d||!f))try{const j={conversation_id:_,content:C,sender_role:E,agent_email:f.email,agent_name:f.name,responded_by_agent_id:f.id},{data:N,error:T}=await G.from("tb_messages").insert(j).select("*").single();if(T){console.error("Error sending message:",T),Rn.error("Error al enviar el mensaje");return}if(N&&_===a&&r(L=>L.some(A=>A.id===N.id)?L:[...L,N]),await G.from("tb_conversations").update({status:"active_human",assigned_agent_id:f.id,assigned_agent_email:f.email,assigned_agent_name:f.name}).eq("id",_),t(L=>L.map(A=>A.id===_?{...A,status:"active_human",assigned_agent_id:f.id,assigned_agent_email:f.email,assigned_agent_name:f.name,last_message_sender_role:E,last_message_at:(N==null?void 0:N.created_at)||new Date().toISOString(),updated_at:(N==null?void 0:N.created_at)||new Date().toISOString()}:A)),E==="agent"){console.log('🔍 senderRole es "agent", procediendo con webhook...');try{console.log("🔍 Buscando conversación en BD:",_);const{data:L,error:A}=await G.from("tb_conversations").select("*").eq("id",_).single();if(A){console.error("❌ Error buscando conversación:",A);return}if(L){console.log("✅ Conversación encontrada:",L);const I=Cf.prepareWebhookPayload(_,L,C,f.id,f.name);console.log("📤 Payload preparado para n8n:",I),console.log("📤 Enviando mensaje a n8n webhook...");const H=await Cf.sendMessageToWebhook(I);H.success?console.log("✅ Mensaje enviado exitosamente a n8n"):console.warn("⚠️ Advertencia: El mensaje se guardó pero hubo un problema con n8n:",H.error)}else console.warn("⚠️ No se encontró la conversación para el webhook")}catch(L){console.error("❌ Error con n8n webhook:",L)}}else console.log('🔍 senderRole NO es "agent":',E);Rn.success("Mensaje enviado")}catch(j){console.error("Error sending message:",j)}},[d,f,a]),v=h.useCallback(async(_,C)=>{try{console.log("🔄 Actualizando estado de conversación:",{conversationId:_,status:C});const E={status:C,updated_at:new Date().toISOString()};C==="active_ai"&&(E.assigned_agent_id=null,E.assigned_agent_email=null,E.assigned_agent_name=null),t(N=>{const T=[...N],L=T.findIndex(A=>A.id===_);return L!==-1&&(T[L]={...T[L],...E}),T});const{error:j}=await G.from("tb_conversations").update(E).eq("id",_);if(j){console.error("❌ Error updating conversation status:",j),Rn.error("Error al actualizar el estado"),t(N=>{const T=[...N],L=T.findIndex(A=>A.id===_);return T});return}console.log("✅ Estado de conversación actualizado exitosamente en BD"),Rn.success("Estado actualizado exitosamente")}catch(E){console.error("❌ Error updating conversation status:",E)}},[]),x=h.useCallback(async(_,C)=>{try{console.log("🎯 Asignando agente:",{conversationId:_,agentId:C});const{data:E,error:j}=await G.from("profiles").select("name, email").eq("id",C).single();if(j||!E){console.error("Error fetching agent profile:",j),Rn.error("Error al obtener el perfil del agente");return}const N={assigned_agent_id:C,assigned_agent_email:E.email,assigned_agent_name:E.name,status:"active_human",updated_at:new Date().toISOString()};t(L=>{const A=[...L],I=A.findIndex(H=>H.id===_);return I!==-1&&(A[I]={...A[I],...N}),A});const{error:T}=await G.from("tb_conversations").update(N).eq("id",_);if(T){console.error("Error assigning agent:",T),Rn.error("Error al asignar el agente"),t(L=>[...L]);return}console.log("✅ Agente asignado exitosamente en BD"),Rn.success("Agente asignado exitosamente")}catch(E){console.error("Error assigning agent:",E)}},[]),w=h.useCallback(async _=>{console.log("🎯 selectConversation called with:",_),i(_),console.log("📨 Fetching messages for conversation:",_),await p(_)},[p]);h.useEffect(()=>{a&&(console.log("🔄 useEffect: selectedConversationId changed, fetching messages for:",a),p(a))},[a,p]);const y=h.useCallback(_=>{console.log("📨 [REALTIME] Nuevo mensaje recibido:",_),console.log("📨 [REALTIME] Conversación seleccionada actual:",a),a&&_.conversation_id===a?(console.log("📨 [REALTIME] Agregando mensaje a la conversación seleccionada"),r(C=>C.some(E=>E.id===_.id)?(console.log("📨 [REALTIME] Mensaje duplicado, ignorando"),C):(console.log("📨 [REALTIME] Mensaje agregado exitosamente"),[...C,_]))):console.log("📨 [REALTIME] Mensaje no es de la conversación seleccionada, solo actualizando conversación"),console.log("📨 [REALTIME] Actualizando conversación con último mensaje"),t(C=>C.map(E=>E.id===_.conversation_id?{...E,last_message_sender_role:_.sender_role,last_message_at:_.created_at,updated_at:_.created_at}:E))},[a]),g=h.useCallback(_=>{console.log("🆕 [REALTIME] Nueva conversación recibida:",_),t(C=>C.some(E=>E.id===_.id)?(console.log("🆕 [REALTIME] Conversación duplicada, ignorando"),C):(console.log("🆕 [REALTIME] Conversación agregada exitosamente"),[_,...C]))},[]),S=h.useCallback(_=>{console.log("🔄 [REALTIME] Conversación actualizada:",_),console.log("🔄 [REALTIME] Estado anterior vs nuevo:",{id:_.id,newStatus:_.status,newAgent:_.assigned_agent_name}),t(C=>{const E=C.find(T=>T.id===_.id);console.log("🔄 [REALTIME] Estado anterior en local:",E?{status:E.status,agent:E.assigned_agent_name}:"No encontrada");const j=[...C],N=j.findIndex(T=>T.id===_.id);return N!==-1&&(j[N]={..._,id:_.id,user_id:_.user_id,username:_.username,phone_number:_.phone_number,status:_.status,assigned_agent_id:_.assigned_agent_id,assigned_agent_email:_.assigned_agent_email,assigned_agent_name:_.assigned_agent_name,summary:_.summary,channel:_.channel,last_message_sender_role:_.last_message_sender_role,created_at:_.created_at,updated_at:_.updated_at}),console.log("🔄 [REALTIME] Conversaciones actualizadas en estado local:",j.length),console.log("🔄 [REALTIME] Conversación actualizada en índice:",N),j})},[]);return console.log("🔌 [REALTIME] Configurando hook useRealtimeConversations..."),YM({onMessageInsert:y,onConversationInsert:g,onConversationUpdate:S,userId:f==null?void 0:f.id}),console.log("🔌 [REALTIME] Hook useRealtimeConversations configurado"),h.useEffect(()=>{console.log("🚀 useEffect initial fetch triggered"),console.log("👤 User:",d),console.log("👤 Profile:",f),console.log("🔄 isInitialized:",l),d&&f&&!l?(console.log("✅ User and profile available, fetching conversations (first time)"),m()):!d||!f?(console.log("❌ User or profile not available yet"),u(!1)):l&&console.log("⏭️ Already initialized, skipping fetch")},[d,f,l,m]),{conversations:e,messages:n,loading:s,selectedConversationId:a,sendMessage:b,updateConversationStatus:v,assignAgent:x,selectConversation:w,fetchConversations:m,fetchMessages:p}}function yp(){const[e,t]=h.useState([]),[n,r]=h.useState([]),[s,o]=h.useState(!0),{user:a,profile:i}=cn(),l=h.useCallback(async()=>{if(a)try{o(!0),console.log("🔍 fetchAgents: Obteniendo agentes de la tabla profiles...");const{data:w,error:y}=await G.from("profiles").select("id, email, name, role, created_at").in("role",["agent","admin"]).not("email","ilike","deleted_%").order("name",{ascending:!0});if(y){console.error("❌ Error fetching agents from profiles:",y),ne.error("Error al cargar los agentes");return}console.log("✅ fetchAgents: Agentes obtenidos:",(w==null?void 0:w.length)||0),t(w||[])}catch(w){console.error("❌ Exception fetching agents:",w),ne.error("Error al cargar los agentes")}finally{o(!1)}},[a]),u=h.useCallback(async()=>{console.log("🔍 fetchAgentStats: Estadísticas temporalmente deshabilitadas"),r([])},[]),d=h.useCallback(async(w,y,g)=>{if(!a||(i==null?void 0:i.role)!=="admin"){ne.error("No tienes permisos para crear agentes");return}try{o(!0),console.log("➕ createAgent: Creando nuevo agente:",{email:w,name:y,role:g});const{data:S}=await G.from("profiles").select("id").eq("email",w).single();if(S){ne.error("Ya existe un agente con este email");return}const{error:_}=await G.from("profiles").insert({email:w,name:y,role:g});if(_){console.error("❌ Error creando agente:",_),ne.error("Error al crear el agente");return}console.log("✅ createAgent: Agente creado exitosamente"),ne.success("Agente creado exitosamente"),await l()}catch(S){console.error("❌ Exception creando agente:",S),ne.error("Error inesperado al crear el agente")}finally{o(!1)}},[a,i,l]),f=h.useCallback(async(w,y)=>{if(!a||(i==null?void 0:i.role)!=="admin"){ne.error("No tienes permisos para actualizar agentes");return}try{o(!0),console.log("✏️ updateAgent: Actualizando agente con ID:",w,"Updates:",y);const{error:g}=await G.from("profiles").update({name:y.name,role:y.role}).eq("id",w);if(g){console.error("❌ Error actualizando agente:",g),ne.error("Error al actualizar el agente");return}console.log("✅ updateAgent: Agente actualizado exitosamente"),ne.success("Agente actualizado exitosamente"),await l()}catch(g){console.error("❌ Exception actualizando agente:",g),ne.error("Error inesperado al actualizar el agente")}finally{o(!1)}},[a,i,l]),m=h.useCallback(async w=>{var y;if(!a||(i==null?void 0:i.role)!=="admin"){ne.error("No tienes permisos para eliminar agentes");return}try{o(!0),console.log("🗑️ deleteAgent: Eliminando agente con ID:",w),console.log("🔍 deleteAgent: Usuario actual:",a==null?void 0:a.id),console.log("🔍 deleteAgent: Perfil actual:",i);const{data:g,error:S}=await G.auth.getUser();console.log("🔍 deleteAgent: Usuario autenticado:",{currentUser:(y=g.user)==null?void 0:y.id,authError:S});const{data:_,error:C}=await G.from("profiles").select("id, email, name, role").eq("id",w).single();if(console.log("🔍 deleteAgent: Verificando si el agente existe:",{existingAgent:_,checkError:C}),C||!_){console.error("❌ deleteAgent: El agente no existe:",C),ne.error("El agente no existe o ya fue eliminado");return}console.log("🔄 deleteAgent: Intentando eliminación con RPC...");const{data:E,error:j}=await G.rpc("delete_agent_profile",{agent_id:w});if(console.log("🔍 deleteAgent: Respuesta de RPC:",{rpcData:E,rpcError:j}),j){console.log("⚠️ deleteAgent: RPC falló, intentando eliminación directa...");const{data:N,error:T,count:L}=await G.from("profiles").delete().eq("id",w).select();if(console.log("🔍 deleteAgent: Respuesta de eliminación directa:",{data:N,error:T,count:L}),T){console.error("❌ Error eliminando agente directamente:",T),ne.error(`Error al eliminar el agente: ${T.message}`);return}if(!N||N.length===0){console.error("⚠️ deleteAgent: No se eliminó ningún registro - posible problema de RLS"),console.log("🔄 deleteAgent: Intentando soft delete cambiando el email...");const{data:A,error:I}=await G.from("profiles").update({email:`deleted_${Date.now()}_${_.email}`,name:`[ELIMINADO] ${_.name}`}).eq("id",w).select();if(console.log("🔍 deleteAgent: Resultado de soft delete:",{softDeleteData:A,softDeleteError:I}),I){ne.error("No se pudo eliminar el agente. Las políticas de seguridad impiden esta operación.");return}if(A&&A.length>0){ne.success("Agente eliminado (marcado como eliminado)"),await l();return}else{ne.error("No se pudo eliminar el agente. Contacta al administrador del sistema.");return}}console.log("✅ deleteAgent: Agente eliminado exitosamente (directo):",N)}else console.log("✅ deleteAgent: Agente eliminado exitosamente (RPC):",E);ne.success("Agente eliminado exitosamente"),await l()}catch(g){console.error("❌ Exception eliminando agente:",g),ne.error("Error inesperado al eliminar el agente")}finally{o(!1)}},[a,i,l]);h.useCallback(async w=>{if(!a||(i==null?void 0:i.role)!=="admin"){ne.error("No tienes permisos para cambiar el estado de agentes");return}try{o(!0),console.log("🔄 toggleAgentStatus: Cambiando estado del agente:",w.id),ne.info("Estado del agente actualizado (funcionalidad simplificada)"),await l()}catch(y){console.error("❌ Exception cambiando estado del agente:",y),ne.error("Error inesperado al cambiar el estado")}finally{o(!1)}},[a,i,l]),h.useCallback(async w=>{if(!a||(i==null?void 0:i.role)!=="admin"){ne.error("No tienes permisos para reenviar invitaciones");return}try{ne.success("Invitación reenviada exitosamente")}catch(y){console.error("Error resending invitation:",y),ne.error("Error al reenviar la invitación")}},[a,i]);const p=h.useCallback(w=>e.find(y=>y.id===w),[e]),b=h.useCallback(w=>e.filter(y=>y.role===w),[e]),v=h.useCallback(()=>n.filter(w=>w.last_activity&&new Date(w.last_activity)>new Date(Date.now()-24*60*60*1e3)),[n]),x=h.useCallback(()=>e.filter(w=>w.role==="agent"||w.role==="admin"),[e]);return h.useEffect(()=>{l(),u()},[l,u]),{agents:e,agentStats:n,loading:s,createAgent:d,updateAgent:f,deleteAgent:m,getAgentById:p,getAgentsByRole:b,getActiveAgents:v,getAvailableAgents:x,fetchAgents:l,fetchAgentStats:u}}const vt=h.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));vt.displayName="Input";const QM=Wc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mt({className:e,variant:t,...n}){return c.jsx("div",{className:K(QM({variant:t}),e),...n})}function ov(e,[t,n]){return Math.min(n,Math.max(t,e))}function XM(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JM=[" ","Enter","ArrowUp","ArrowDown"],ZM=[" ","Enter"],ys="Select",[Jc,Zc,eI]=ap(ys),[ea,L$]=ln(ys,[eI,Go]),eu=Go(),[tI,Ur]=ea(ys),[nI,rI]=ea(ys),Qb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:i,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:b}=e,v=eu(t),[x,w]=h.useState(null),[y,g]=h.useState(null),[S,_]=h.useState(!1),C=Hc(u),[E,j]=Do({prop:r,defaultProp:s??!1,onChange:o,caller:ys}),[N,T]=Do({prop:a,defaultProp:i,onChange:l,caller:ys}),L=h.useRef(null),A=x?b||!!x.closest("form"):!0,[I,H]=h.useState(new Set),q=Array.from(I).map(F=>F.props.value).join(";");return c.jsx(v0,{...v,children:c.jsxs(tI,{required:p,scope:t,trigger:x,onTriggerChange:w,valueNode:y,onValueNodeChange:g,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:En(),value:N,onValueChange:T,open:E,onOpenChange:j,dir:C,triggerPointerDownPosRef:L,disabled:m,children:[c.jsx(Jc.Provider,{scope:t,children:c.jsx(nI,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{H(V=>new Set(V).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{H(V=>{const P=new Set(V);return P.delete(F),P})},[]),children:n})}),A?c.jsxs(x_,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:F=>T(F.target.value),disabled:m,form:b,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(I)]},q):null]})})};Qb.displayName=ys;var Xb="SelectTrigger",Jb=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=eu(n),a=Ur(Xb,n),i=a.disabled||r,l=he(t,a.onTriggerChange),u=Zc(n),d=h.useRef("touch"),[f,m,p]=__(v=>{const x=u().filter(g=>!g.disabled),w=x.find(g=>g.value===a.value),y=S_(x,v,w);y!==void 0&&a.onValueChange(y.value)}),b=v=>{i||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return c.jsx(Bh,{asChild:!0,...o,children:c.jsx(J.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":b_(a.value)?"":void 0,...s,ref:l,onClick:z(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&b(v)}),onPointerDown:z(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:z(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(x&&v.key===" ")&&JM.includes(v.key)&&(b(),v.preventDefault())})})})});Jb.displayName=Xb;var Zb="SelectValue",e_=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...i}=e,l=Ur(Zb,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=he(t,l.onValueNodeChange);return We(()=>{u(d)},[u,d]),c.jsx(J.span,{...i,ref:f,style:{pointerEvents:"none"},children:b_(l.value)?c.jsx(c.Fragment,{children:a}):o})});e_.displayName=Zb;var sI="SelectIcon",t_=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(J.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});t_.displayName=sI;var oI="SelectPortal",n_=e=>c.jsx(Ac,{asChild:!0,...e});n_.displayName=oI;var ws="SelectContent",r_=h.forwardRef((e,t)=>{const n=Ur(ws,e.__scopeSelect),[r,s]=h.useState();if(We(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Vo.createPortal(c.jsx(s_,{scope:e.__scopeSelect,children:c.jsx(Jc.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(o_,{...e,ref:t})});r_.displayName=ws;var Kt=10,[s_,zr]=ea(ws),aI="SelectContentImpl",iI=ms("SelectContent.RemoveScroll"),o_=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:i,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:x,...w}=e,y=Ur(ws,n),[g,S]=h.useState(null),[_,C]=h.useState(null),E=he(t,$=>S($)),[j,N]=h.useState(null),[T,L]=h.useState(null),A=Zc(n),[I,H]=h.useState(!1),q=h.useRef(!1);h.useEffect(()=>{if(g)return lp(g)},[g]),ip();const F=h.useCallback($=>{const[le,...ce]=A().map(ue=>ue.ref.current),[oe]=ce.slice(-1),ae=document.activeElement;for(const ue of $)if(ue===ae||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===le&&_&&(_.scrollTop=0),ue===oe&&_&&(_.scrollTop=_.scrollHeight),ue==null||ue.focus(),document.activeElement!==ae))return},[A,_]),V=h.useCallback(()=>F([j,g]),[F,j,g]);h.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:P,triggerPointerDownPosRef:k}=y;h.useEffect(()=>{if(g){let $={x:0,y:0};const le=oe=>{var ae,ue;$={x:Math.abs(Math.round(oe.pageX)-(((ae=k.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ue=k.current)==null?void 0:ue.y)??0))}},ce=oe=>{$.x<=10&&$.y<=10?oe.preventDefault():g.contains(oe.target)||P(!1),document.removeEventListener("pointermove",le),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce,{capture:!0})}}},[g,P,k]),h.useEffect(()=>{const $=()=>P(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[P]);const[O,B]=__($=>{const le=A().filter(ae=>!ae.disabled),ce=le.find(ae=>ae.ref.current===document.activeElement),oe=S_(le,$,ce);oe&&setTimeout(()=>oe.ref.current.focus())}),W=h.useCallback(($,le,ce)=>{const oe=!q.current&&!ce;(y.value!==void 0&&y.value===le||oe)&&(N($),oe&&(q.current=!0))},[y.value]),te=h.useCallback(()=>g==null?void 0:g.focus(),[g]),Y=h.useCallback(($,le,ce)=>{const oe=!q.current&&!ce;(y.value!==void 0&&y.value===le||oe)&&L($)},[y.value]),ve=r==="popper"?kf:a_,ye=ve===kf?{side:i,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:x}:{};return c.jsx(s_,{scope:n,content:g,viewport:_,onViewportChange:C,itemRefCallback:W,selectedItem:j,onItemLeave:te,itemTextRefCallback:Y,focusSelectedItem:V,selectedItemText:T,position:r,isPositioned:I,searchRef:O,children:c.jsx(Gc,{as:iI,allowPinchZoom:!0,children:c.jsx(Vc,{asChild:!0,trapped:y.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:z(s,$=>{var le;(le=y.trigger)==null||le.focus({preventScroll:!0}),$.preventDefault()}),children:c.jsx(yi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(ve,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:$=>$.preventDefault(),...w,...ye,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:z(w.onKeyDown,$=>{const le=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!le&&$.key.length===1&&B($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let oe=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes($.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ae=$.target,ue=oe.indexOf(ae);oe=oe.slice(ue+1)}setTimeout(()=>F(oe)),$.preventDefault()}})})})})})})});o_.displayName=aI;var lI="SelectItemAlignedPosition",a_=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ur(ws,n),a=zr(ws,n),[i,l]=h.useState(null),[u,d]=h.useState(null),f=he(t,E=>d(E)),m=Zc(n),p=h.useRef(!1),b=h.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:w,focusSelectedItem:y}=a,g=h.useCallback(()=>{if(o.trigger&&o.valueNode&&i&&u&&v&&x&&w){const E=o.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(o.dir!=="rtl"){const ae=T.left-j.left,ue=N.left-ae,Je=E.left-ue,Pt=E.width+Je,Br=Math.max(Pt,j.width),Qn=window.innerWidth-Kt,Wr=ov(ue,[Kt,Math.max(Kt,Qn-Br)]);i.style.minWidth=Pt+"px",i.style.left=Wr+"px"}else{const ae=j.right-T.right,ue=window.innerWidth-N.right-ae,Je=window.innerWidth-E.right-ue,Pt=E.width+Je,Br=Math.max(Pt,j.width),Qn=window.innerWidth-Kt,Wr=ov(ue,[Kt,Math.max(Kt,Qn-Br)]);i.style.minWidth=Pt+"px",i.style.right=Wr+"px"}const L=m(),A=window.innerHeight-Kt*2,I=v.scrollHeight,H=window.getComputedStyle(u),q=parseInt(H.borderTopWidth,10),F=parseInt(H.paddingTop,10),V=parseInt(H.borderBottomWidth,10),P=parseInt(H.paddingBottom,10),k=q+F+I+P+V,O=Math.min(x.offsetHeight*5,k),B=window.getComputedStyle(v),W=parseInt(B.paddingTop,10),te=parseInt(B.paddingBottom,10),Y=E.top+E.height/2-Kt,ve=A-Y,ye=x.offsetHeight/2,$=x.offsetTop+ye,le=q+F+$,ce=k-le;if(le<=Y){const ae=L.length>0&&x===L[L.length-1].ref.current;i.style.bottom="0px";const ue=u.clientHeight-v.offsetTop-v.offsetHeight,Je=Math.max(ve,ye+(ae?te:0)+ue+V),Pt=le+Je;i.style.height=Pt+"px"}else{const ae=L.length>0&&x===L[0].ref.current;i.style.top="0px";const Je=Math.max(Y,q+v.offsetTop+(ae?W:0)+ye)+ce;i.style.height=Je+"px",v.scrollTop=le-Y+v.offsetTop}i.style.margin=`${Kt}px 0`,i.style.minHeight=O+"px",i.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,i,u,v,x,w,o.dir,r]);We(()=>g(),[g]);const[S,_]=h.useState();We(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=h.useCallback(E=>{E&&b.current===!0&&(g(),y==null||y(),b.current=!1)},[g,y]);return c.jsx(uI,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(J.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});a_.displayName=lI;var cI="SelectPopperPosition",kf=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Kt,...o}=e,a=eu(n);return c.jsx(Wh,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kf.displayName=cI;var[uI,wp]=ea(ws,{}),jf="SelectViewport",i_=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=zr(jf,n),a=wp(jf,n),i=he(t,o.onViewportChange),l=h.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Jc.Slot,{scope:n,children:c.jsx(J.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const b=window.innerHeight-Kt*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(v,x);if(w<b){const y=w+p,g=Math.min(b,y),S=y-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});i_.displayName=jf;var l_="SelectGroup",[dI,fI]=ea(l_),hI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=En();return c.jsx(dI,{scope:n,id:s,children:c.jsx(J.div,{role:"group","aria-labelledby":s,...r,ref:t})})});hI.displayName=l_;var c_="SelectLabel",u_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=fI(c_,n);return c.jsx(J.div,{id:s.id,...r,ref:t})});u_.displayName=c_;var oc="SelectItem",[pI,d_]=ea(oc),f_=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,i=Ur(oc,n),l=zr(oc,n),u=i.value===r,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),b=he(t,y=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,y,r,s)}),v=En(),x=h.useRef("touch"),w=()=>{s||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(pI,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:h.useCallback(y=>{f(g=>g||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Jc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(J.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:z(a.onFocus,()=>p(!0)),onBlur:z(a.onBlur,()=>p(!1)),onClick:z(a.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:z(a.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:z(a.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:z(a.onPointerMove,y=>{var g;x.current=y.pointerType,s?(g=l.onItemLeave)==null||g.call(l):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(a.onPointerLeave,y=>{var g;y.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:z(a.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(ZM.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});f_.displayName=oc;var xa="SelectItemText",h_=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=Ur(xa,n),i=zr(xa,n),l=d_(xa,n),u=rI(xa,n),[d,f]=h.useState(null),m=he(t,w=>f(w),l.onItemTextChange,w=>{var y;return(y=i.itemTextRefCallback)==null?void 0:y.call(i,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,b=h.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return We(()=>(v(b),()=>x(b)),[v,x,b]),c.jsxs(c.Fragment,{children:[c.jsx(J.span,{id:l.textId,...o,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Vo.createPortal(o.children,a.valueNode):null]})});h_.displayName=xa;var p_="SelectItemIndicator",m_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d_(p_,n).isSelected?c.jsx(J.span,{"aria-hidden":!0,...r,ref:t}):null});m_.displayName=p_;var Tf="SelectScrollUpButton",g_=h.forwardRef((e,t)=>{const n=zr(Tf,e.__scopeSelect),r=wp(Tf,e.__scopeSelect),[s,o]=h.useState(!1),a=he(t,r.onScrollButtonChange);return We(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?c.jsx(y_,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop-l.offsetHeight)}}):null});g_.displayName=Tf;var Pf="SelectScrollDownButton",v_=h.forwardRef((e,t)=>{const n=zr(Pf,e.__scopeSelect),r=wp(Pf,e.__scopeSelect),[s,o]=h.useState(!1),a=he(t,r.onScrollButtonChange);return We(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?c.jsx(y_,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop+l.offsetHeight)}}):null});v_.displayName=Pf;var y_=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=zr("SelectScrollButton",n),a=h.useRef(null),i=Zc(n),l=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),We(()=>{var d;const u=i().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),c.jsx(J.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:z(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:z(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:z(s.onPointerLeave,()=>{l()})})}),mI="SelectSeparator",w_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(J.div,{"aria-hidden":!0,...r,ref:t})});w_.displayName=mI;var Nf="SelectArrow",gI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=eu(n),o=Ur(Nf,n),a=zr(Nf,n);return o.open&&a.position==="popper"?c.jsx(Hh,{...s,...r,ref:t}):null});gI.displayName=Nf;var vI="SelectBubbleInput",x_=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=he(r,s),a=XM(t);return h.useEffect(()=>{const i=s.current;if(!i)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(f)}},[a,t]),c.jsx(J.select,{...n,style:{...y0,...n.style},ref:o,defaultValue:t})});x_.displayName=vI;function b_(e){return e===""||e===void 0}function __(e){const t=sn(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(a=>{const i=n.current+a;t(i),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(i)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function S_(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=yI(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function yI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var wI=Qb,E_=Jb,xI=e_,bI=t_,_I=n_,C_=r_,SI=i_,k_=u_,j_=f_,EI=h_,CI=m_,T_=g_,P_=v_,N_=w_;const Uo=wI,zo=xI,xs=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(E_,{ref:r,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(bI,{asChild:!0,children:c.jsx(_x,{className:"h-4 w-4 opacity-50"})})]}));xs.displayName=E_.displayName;const R_=h.forwardRef(({className:e,...t},n)=>c.jsx(T_,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(XA,{className:"h-4 w-4"})}));R_.displayName=T_.displayName;const A_=h.forwardRef(({className:e,...t},n)=>c.jsx(P_,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(_x,{className:"h-4 w-4"})}));A_.displayName=P_.displayName;const bs=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>c.jsx(_I,{children:c.jsxs(C_,{ref:s,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(R_,{}),c.jsx(SI,{className:K("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(A_,{})]})}));bs.displayName=C_.displayName;const kI=h.forwardRef(({className:e,...t},n)=>c.jsx(k_,{ref:n,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));kI.displayName=k_.displayName;const qe=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(j_,{ref:r,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(CI,{children:c.jsx(bx,{className:"h-4 w-4"})})}),c.jsx(EI,{children:t})]}));qe.displayName=j_.displayName;const jI=h.forwardRef(({className:e,...t},n)=>c.jsx(N_,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));jI.displayName=N_.displayName;const av={active_ai:{label:"AI Activo",icon:Sx,variant:"secondary",color:"text-blue-500 dark:text-blue-400"},active_human:{label:"Humano Activo",icon:vs,variant:"default",color:"text-green-500 dark:text-green-400"},pending_human:{label:"Pendiente",icon:Oa,variant:"destructive",color:"text-orange-500 dark:text-orange-400"},closed:{label:"Cerrado",icon:xx,variant:"outline",color:"text-gray-500 dark:text-gray-400"}};function TI({onSelectConversation:e,selectedConversationId:t,conversations:n,loading:r}){const[s,o]=h.useState(""),[a,i]=h.useState("all"),[l,u]=h.useState("all");if(console.log("🔄 ConversationList: Re-renderizando con conversaciones:",n.length),console.log("🔍 ConversationList: Array de conversaciones completo:",n),t){const x=n.find(w=>w.id===t);console.log("🔍 ConversationList: Conversación seleccionada:",x)}const d=h.useMemo(()=>n.filter(y=>y.assigned_agent_email&&y.assigned_agent_name).map(y=>({email:y.assigned_agent_email,name:y.assigned_agent_name})).filter((y,g,S)=>g===S.findIndex(_=>_.email===y.email)).sort((y,g)=>y.name.localeCompare(g.name)),[n]),f=x=>x.status==="pending_human"||x.status==="active_human"&&x.last_message_sender_role==="user",m=h.useMemo(()=>{const x=n.filter(y=>{var C,E;const g=((C=y.username)==null?void 0:C.toLowerCase().includes(s.toLowerCase()))||y.user_id.toLowerCase().includes(s.toLowerCase())||((E=y.phone_number)==null?void 0:E.toLowerCase().includes(s.toLowerCase())),S=a==="all"||y.status===a,_=l==="all"||y.assigned_agent_email===l;return g&&S&&_}),w=x.sort((y,g)=>{const S=y.last_message_at||y.updated_at,_=g.last_message_at||g.updated_at,C=new Date(S).getTime();return new Date(_).getTime()-C});return console.log("🔄 ConversationList: Filtrando y ordenando conversaciones:",{total:n.length,filtered:x.length,urgentCount:w.filter(f).length}),w},[n,s,a,l]),p=x=>av[x]||av.pending_human,b=x=>x.summary?x.summary:x.username||x.user_id||"Sin nombre",v=x=>{try{const w=new Date(x),g=Math.floor((new Date().getTime()-w.getTime())/(1e3*60));return g<1?"Ahora":g<60?`${g}m`:g<1440?`${Math.floor(g/60)}h`:`${Math.floor(g/1440)}d`}catch{return"N/A"}};return r?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"flex flex-col h-full bg-background border-r max-h-screen",children:[c.jsxs("div",{className:"p-4 border-b",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Conversaciones"}),c.jsxs("div",{className:"relative mb-3",children:[c.jsx(l2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(vt,{placeholder:"Buscar conversaciones...",value:s,onChange:x=>o(x.target.value),className:"pl-10"})]}),c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx(ZA,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs(Uo,{value:a,onValueChange:x=>i(x),children:[c.jsx(xs,{className:"w-full",children:c.jsx(zo,{placeholder:"Filtrar por estado"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"all",children:"Todos los estados"}),c.jsx(qe,{value:"active_ai",children:"AI Activo"}),c.jsx(qe,{value:"active_human",children:"Humano Activo"}),c.jsx(qe,{value:"pending_human",children:"Pendiente"}),c.jsx(qe,{value:"closed",children:"Cerrado"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(np,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs(Uo,{value:l,onValueChange:u,children:[c.jsx(xs,{className:"w-full",children:c.jsx(zo,{placeholder:"Filtrar por agente"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"all",children:"Todos los agentes"}),d.map(x=>c.jsx(qe,{value:x.email,children:x.name},x.email))]})]})]})]}),c.jsx("div",{className:"px-4 py-2 bg-muted/20",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," conversación",m.length!==1?"es":""]})}),c.jsx("div",{className:"flex-1 overflow-y-auto h-[60vh] max-h-[600px] min-h-[300px] scroll-smooth",children:m.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[c.jsx(vs,{className:"h-12 w-12 text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:s||a!=="all"||l!=="all"?"No se encontraron conversaciones con los filtros aplicados":"No hay conversaciones aún"}),(s||a!=="all"||l!=="all")&&c.jsx(fe,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{o(""),i("all"),u("all")},children:"Limpiar filtros"})]}):c.jsx("div",{className:"space-y-1 p-2",children:m.map(x=>{var _;const w=p(x.status),y=t===x.id,g=f(x),S=x.status==="pending_human"?"unassigned":x.status==="active_human"&&x.last_message_sender_role==="user"?"awaiting_response":"none";return x.id===t&&console.log(`🎯 ConversationList: Renderizando tarjeta para conversación ${x.id}:`,{status:x.status,assigned_agent_id:x.assigned_agent_id,assigned_agent_name:x.assigned_agent_name,assigned_agent_email:x.assigned_agent_email,updated_at:x.updated_at,last_message_sender_role:x.last_message_sender_role,isUrgent:g,urgencyType:S,urgentReason:g?x.status==="pending_human"?"pending_human":"active_human_user_waiting":"not_urgent",statusConfig:w}),c.jsx("div",{className:`
                    conversation-card relative p-3 rounded-lg cursor-pointer transition-all duration-200 border
                    ${y?"selected bg-primary text-primary-foreground border-primary shadow-lg":"hover:bg-accent hover:border-accent-foreground/20 hover:shadow-md"}
                    ${S==="unassigned"?"urgent-unassigned border-l-4 border-l-red-500 bg-red-50 dark:bg-gradient-to-r dark:from-red-950/20 dark:to-card hover:bg-red-100 dark:hover:from-red-950/30":S==="awaiting_response"?"urgent-awaiting border-l-4 border-l-orange-500 bg-orange-50 dark:bg-gradient-to-r dark:from-orange-950/20 dark:to-card hover:bg-orange-100 dark:hover:from-orange-950/30":""}
                  `,onClick:C=>{C.preventDefault(),e(x.id)},children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(oi,{className:"h-10 w-10 flex-shrink-0",children:c.jsx(ai,{children:((_=x.username)==null?void 0:_.charAt(0).toUpperCase())||"U"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[c.jsx("h4",{className:`font-medium truncate ${y?"text-primary-foreground":"text-foreground"}`,children:x.username||x.user_id}),g&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${S==="unassigned"?"bg-red-500":"bg-orange-500"}`}),c.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${S==="unassigned"?"text-red-600 bg-red-100":"text-orange-600 bg-orange-100"}`,children:S==="unassigned"?"URGENTE":"RESPONDER"})]})]}),c.jsx("span",{className:`text-xs ${y?"text-primary-foreground/70":"text-muted-foreground"}`,children:v(x.last_message_at||x.updated_at)})]}),c.jsx("p",{className:`text-sm truncate mb-2 ${y?"text-primary-foreground/80":"text-muted-foreground"}`,children:b(x)}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Mt,{variant:w.variant,className:`text-xs ${x.status==="active_ai"?"badge-ai-active":x.status==="active_human"?"badge-human-active":x.status==="pending_human"?"badge-pending":"badge-closed"}`,children:[c.jsx(w.icon,{className:"h-3 w-3 mr-1"}),w.label]}),x.assigned_agent_name&&c.jsx("span",{className:`text-xs ${y?"text-primary-foreground/70":"text-muted-foreground"}`,children:x.assigned_agent_name})]})]})]})},x.id)})})})]})}function PI({onSelectConversation:e,selectedConversationId:t,conversations:n,loading:r}){return c.jsxs("div",{className:"h-full flex flex-col overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Conversaciones"})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(TI,{onSelectConversation:e,selectedConversationId:t,conversations:n,loading:r})})]})}const ci=h.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:K("flex min-h-[40px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ci.displayName="Textarea";function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function _s(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ft(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Pn(e){ft(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ac(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function NI(e,t){ft(2,arguments);var n=Pn(e).getTime(),r=_s(t);return new Date(n+r)}var RI={};function tu(){return RI}function AI(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function OI(e){return ft(1,arguments),e instanceof Date||ac(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function MI(e){if(ft(1,arguments),!OI(e)&&typeof e!="number")return!1;var t=Pn(e);return!isNaN(Number(t))}function II(e,t){ft(2,arguments);var n=_s(t);return NI(e,-n)}var DI=864e5;function LI(e){ft(1,arguments);var t=Pn(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/DI)+1}function ic(e){ft(1,arguments);var t=1,n=Pn(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function O_(e){ft(1,arguments);var t=Pn(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=ic(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=ic(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function $I(e){ft(1,arguments);var t=O_(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=ic(n);return r}var FI=6048e5;function UI(e){ft(1,arguments);var t=Pn(e),n=ic(t).getTime()-$I(t).getTime();return Math.round(n/FI)+1}function lc(e,t){var n,r,s,o,a,i,l,u;ft(1,arguments);var d=tu(),f=_s((n=(r=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Pn(e),p=m.getUTCDay(),b=(p<f?7:0)+p-f;return m.setUTCDate(m.getUTCDate()-b),m.setUTCHours(0,0,0,0),m}function M_(e,t){var n,r,s,o,a,i,l,u;ft(1,arguments);var d=Pn(e),f=d.getUTCFullYear(),m=tu(),p=_s((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(l=m.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(f+1,0,p),b.setUTCHours(0,0,0,0);var v=lc(b,t),x=new Date(0);x.setUTCFullYear(f,0,p),x.setUTCHours(0,0,0,0);var w=lc(x,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=w.getTime()?f:f-1}function zI(e,t){var n,r,s,o,a,i,l,u;ft(1,arguments);var d=tu(),f=_s((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=M_(e,t),p=new Date(0);p.setUTCFullYear(m,0,f),p.setUTCHours(0,0,0,0);var b=lc(p,t);return b}var BI=6048e5;function WI(e,t){ft(1,arguments);var n=Pn(e),r=lc(n,t).getTime()-zI(n,t).getTime();return Math.round(r/BI)+1}function me(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var sr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return me(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):me(r+1,2)},d:function(t,n){return me(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return me(t.getUTCHours()%12||12,n.length)},H:function(t,n){return me(t.getUTCHours(),n.length)},m:function(t,n){return me(t.getUTCMinutes(),n.length)},s:function(t,n){return me(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return me(o,n.length)}},Ws={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HI={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return sr.y(t,n)},Y:function(t,n,r,s){var o=M_(t,s),a=o>0?o:1-o;if(n==="YY"){var i=a%100;return me(i,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):me(a,n.length)},R:function(t,n){var r=O_(t);return me(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return me(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return me(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return me(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return sr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return me(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var o=WI(t,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):me(o,n.length)},I:function(t,n,r){var s=UI(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):me(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):sr.d(t,n)},D:function(t,n,r){var s=LI(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):me(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return me(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return me(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return me(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),o;switch(s===12?o=Ws.noon:s===0?o=Ws.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),o;switch(s>=17?o=Ws.evening:s>=12?o=Ws.afternoon:s>=4?o=Ws.morning:o=Ws.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return sr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):sr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):me(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):me(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):sr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):sr.s(t,n)},S:function(t,n){return sr.S(t,n)},X:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return lv(a);case"XXXX":case"XX":return Xr(a);case"XXXXX":case"XXX":default:return Xr(a,":")}},x:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"x":return lv(a);case"xxxx":case"xx":return Xr(a);case"xxxxx":case"xxx":default:return Xr(a,":")}},O:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iv(a,":");case"OOOO":default:return"GMT"+Xr(a,":")}},z:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iv(a,":");case"zzzz":default:return"GMT"+Xr(a,":")}},t:function(t,n,r,s){var o=s._originalDate||t,a=Math.floor(o.getTime()/1e3);return me(a,n.length)},T:function(t,n,r,s){var o=s._originalDate||t,a=o.getTime();return me(a,n.length)}};function iv(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var a=t;return n+String(s)+a+me(o,2)}function lv(e,t){if(e%60===0){var n=e>0?"-":"+";return n+me(Math.abs(e)/60,2)}return Xr(e,t)}function Xr(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),o=me(Math.floor(s/60),2),a=me(s%60,2);return r+o+n+a}var cv=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},I_=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},VI=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return cv(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",cv(s,n)).replace("{{time}}",I_(o,n))},qI={p:I_,P:VI},KI=["D","DD"],GI=["YY","YYYY"];function YI(e){return KI.indexOf(e)!==-1}function QI(e){return GI.indexOf(e)!==-1}function uv(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var XI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JI=function(t,n,r){var s,o=XI[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function vo(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var ZI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nD={date:vo({formats:ZI,defaultWidth:"full"}),time:vo({formats:eD,defaultWidth:"full"}),dateTime:vo({formats:tD,defaultWidth:"full"})},rD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sD=function(t,n,r,s){return rD[t]};function wn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{var i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var oD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dD=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fD={ordinalNumber:dD,era:wn({values:oD,defaultWidth:"wide"}),quarter:wn({values:aD,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:wn({values:iD,defaultWidth:"wide"}),day:wn({values:lD,defaultWidth:"wide"}),dayPeriod:wn({values:cD,defaultWidth:"wide",formattingValues:uD,defaultFormattingWidth:"wide"})};function xn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var a=o[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?pD(i,function(f){return f.test(a)}):hD(i,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function hD(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function pD(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function D_(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var i=t.slice(s.length);return{value:a,rest:i}}}var mD=/^(\d+)(th|st|nd|rd)?/i,gD=/\d+/i,vD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yD={any:[/^b/i,/^(a|c)/i]},wD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xD={any:[/1/i,/2/i,/3/i,/4/i]},bD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_D={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ED={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jD={ordinalNumber:D_({matchPattern:mD,parsePattern:gD,valueCallback:function(t){return parseInt(t,10)}}),era:xn({matchPatterns:vD,defaultMatchWidth:"wide",parsePatterns:yD,defaultParseWidth:"any"}),quarter:xn({matchPatterns:wD,defaultMatchWidth:"wide",parsePatterns:xD,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:xn({matchPatterns:bD,defaultMatchWidth:"wide",parsePatterns:_D,defaultParseWidth:"any"}),day:xn({matchPatterns:SD,defaultMatchWidth:"wide",parsePatterns:ED,defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:CD,defaultMatchWidth:"any",parsePatterns:kD,defaultParseWidth:"any"})},TD={code:"en-US",formatDistance:JI,formatLong:nD,formatRelative:sD,localize:fD,match:jD,options:{weekStartsOn:0,firstWeekContainsDate:1}},PD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ND=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RD=/^'([^]*?)'?$/,AD=/''/g,OD=/[a-zA-Z]/;function ed(e,t,n){var r,s,o,a,i,l,u,d,f,m,p,b,v,x,w,y,g,S;ft(2,arguments);var _=String(t),C=tu(),E=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:C.locale)!==null&&r!==void 0?r:TD,j=_s((o=(a=(i=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:C.firstWeekContainsDate)!==null&&a!==void 0?a:(f=C.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=_s((p=(b=(v=(x=n==null?void 0:n.weekStartsOn)!==null&&x!==void 0?x:n==null||(w=n.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:C.weekStartsOn)!==null&&b!==void 0?b:(g=C.locale)===null||g===void 0||(S=g.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Pn(e);if(!MI(T))throw new RangeError("Invalid time value");var L=AI(T),A=II(T,L),I={firstWeekContainsDate:j,weekStartsOn:N,locale:E,_originalDate:T},H=_.match(ND).map(function(q){var F=q[0];if(F==="p"||F==="P"){var V=qI[F];return V(q,E.formatLong)}return q}).join("").match(PD).map(function(q){if(q==="''")return"'";var F=q[0];if(F==="'")return MD(q);var V=HI[F];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&QI(q)&&uv(q,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&YI(q)&&uv(q,t,String(e)),V(A,q,E.localize,I);if(F.match(OD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return q}).join("");return H}function MD(e){var t=e.match(RD);return t?t[1].replace(AD,"'"):e}var ID={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},DD=function(t,n,r){var s,o=ID[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+s:"hace "+s:s},LD={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},$D={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},FD={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UD={date:vo({formats:LD,defaultWidth:"full"}),time:vo({formats:$D,defaultWidth:"full"}),dateTime:vo({formats:FD,defaultWidth:"full"})},zD={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},BD={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},WD=function(t,n,r,s){return n.getUTCHours()!==1?BD[t]:zD[t]},HD={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},VD={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},qD={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},KD={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},GD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},YD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},QD=function(t,n){var r=Number(t);return r+"º"},XD={ordinalNumber:QD,era:wn({values:HD,defaultWidth:"wide"}),quarter:wn({values:VD,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:wn({values:qD,defaultWidth:"wide"}),day:wn({values:KD,defaultWidth:"wide"}),dayPeriod:wn({values:GD,defaultWidth:"wide",formattingValues:YD,defaultFormattingWidth:"wide"})},JD=/^(\d+)(º)?/i,ZD=/\d+/i,eL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},tL={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},nL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},rL={any:[/1/i,/2/i,/3/i,/4/i]},sL={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},oL={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},aL={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},iL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},lL={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},cL={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},uL={ordinalNumber:D_({matchPattern:JD,parsePattern:ZD,valueCallback:function(t){return parseInt(t,10)}}),era:xn({matchPatterns:eL,defaultMatchWidth:"wide",parsePatterns:tL,defaultParseWidth:"any"}),quarter:xn({matchPatterns:nL,defaultMatchWidth:"wide",parsePatterns:rL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:xn({matchPatterns:sL,defaultMatchWidth:"wide",parsePatterns:oL,defaultParseWidth:"any"}),day:xn({matchPatterns:aL,defaultMatchWidth:"wide",parsePatterns:iL,defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:lL,defaultMatchWidth:"any",parsePatterns:cL,defaultParseWidth:"any"})},td={code:"es",formatDistance:DD,formatLong:UD,formatRelative:WD,localize:XD,match:uL,options:{weekStartsOn:1,firstWeekContainsDate:1}};const dL={success:(...e)=>{},error:(...e)=>{},info:(...e)=>{}};function fL({conversationId:e,messages:t,loading:n,onSendMessage:r,onSelectConversation:s,onUpdateConversationStatus:o,onAssignAgent:a,conversations:i}){var q,F,V,P;const[l,u]=h.useState(""),[d,f]=h.useState([]),[m,p]=h.useState(!1),b=h.useRef(null),v=h.useRef(null),{profile:x}=cn(),{getAvailableAgents:w}=yp(),y=n!==void 0?n:!1,g=h.useMemo(()=>{const k=i;return!e||!k?null:k.find(O=>O.id===e)||null},[e,i]),S=h.useMemo(()=>w(),[w]);h.useEffect(()=>{if(!e)return;const k=s;k&&(console.log("🔄 ChatWindow: Selecting conversation for realtime + loading messages:",e),k(e))},[e,s]),h.useEffect(()=>{f(t||[])},[t]);const _=h.useCallback((k="smooth")=>{b.current&&b.current.scrollIntoView({behavior:k})},[]),C=h.useCallback(()=>{_("auto")},[_]);h.useEffect(()=>{d.length>0&&C()},[d.length,C]),h.useEffect(()=>{if(d.length>0){const k=setTimeout(()=>{_("smooth")},100);return()=>clearTimeout(k)}},[d,_]);const E=async k=>{if(k.preventDefault(),!(!l.trim()||!e))try{if(!r)throw new Error("onSendMessage no definido");await r(e,l,"agent"),u("")}catch(O){console.error("Error sending message:",O)}},j=async k=>{if(e)try{if(p(!0),console.log("🔄 ChatWindow: Iniciando cambio de estado:",{conversationId:e,newStatus:k}),!o)throw new Error("onUpdateConversationStatus no definido");await o(e,k),console.log("✅ ChatWindow: Status actualizado")}catch(O){console.error("❌ ChatWindow: Error updating conversation status:",O)}finally{p(!1)}},N=async k=>{if(e){console.log("🎯 ChatWindow: handleAssignAgent iniciado:",{conversationId:e,agentId:k});try{if(k==="none"){if(console.log("🤖 ChatWindow: Desasignando conversación (cambiar a IA):",e),!o)throw new Error("onUpdateConversationStatus no definido");await o(e,"active_ai"),console.log("✅ ChatWindow: Conversación desasignada exitosamente"),dL.success("Conversación desasignada y regresada a IA")}else{console.log("👤 ChatWindow: Asignando agente:",{conversationId:e,agentId:k});const O=S.find(B=>B.id===k);if(console.log("🔍 ChatWindow: Agente encontrado:",O),!a)throw new Error("onAssignAgent no definido");await a(e,k),console.log("✅ ChatWindow: Agente asignado exitosamente")}}catch(O){console.error("❌ ChatWindow: Error al asignar/desasignar agente:",O)}}},T=k=>{switch(k){case"active_ai":return"default";case"active_human":return"secondary";case"closed":return"destructive";case"pending_human":return"outline";default:return"secondary"}},L=k=>{switch(k){case"active_ai":return"🤖 IA Activa";case"active_human":return"👤 Agente Activo";case"closed":return"🔒 Cerrada";case"pending_human":return"⏳ Pendiente";default:return k}},A=k=>{switch(k){case"active_ai":return"text-blue-600";case"active_human":return"text-green-600";case"closed":return"text-red-600";case"pending_human":return"text-orange-600";default:return"text-gray-600"}},I=k=>k.sender_role==="agent"?{name:k.agent_name||"Agente",avatar:(k.agent_email===(x==null?void 0:x.email),void 0),isCurrentUser:k.agent_email===(x==null?void 0:x.email)}:{name:k.sender_role==="user"?"Usuario":"AI",avatar:void 0,isCurrentUser:!1},H=k=>k.sender_role==="user"?"justify-start":"justify-end";return e?c.jsxs("div",{className:"h-full flex flex-col bg-background overflow-hidden",children:[c.jsx("div",{className:"border-b px-6 py-4 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(oi,{className:"h-10 w-10",children:c.jsx(ai,{children:((F=(q=g==null?void 0:g.username)==null?void 0:q.charAt(0))==null?void 0:F.toUpperCase())||((P=(V=g==null?void 0:g.phone_number)==null?void 0:V.charAt(0))==null?void 0:P.toUpperCase())||"U"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:(g==null?void 0:g.username)||(g==null?void 0:g.phone_number)||`Conversación #${e==null?void 0:e.slice(0,8)}`}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Mt,{variant:T((g==null?void 0:g.status)||"closed"),children:L((g==null?void 0:g.status)||"Cerrada")}),(g==null?void 0:g.assigned_agent_name)&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Agente: ",g.assigned_agent_name]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Estado de la conversación"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Uo,{onValueChange:j,value:(g==null?void 0:g.status)||"closed",disabled:m,children:[c.jsx(xs,{className:"h-8 w-[160px]",children:c.jsx(zo,{placeholder:"Cambiar estado"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"pending_human",children:"⏳ Pendiente"}),c.jsx(qe,{value:"active_ai",children:"🤖 IA Activa"}),c.jsx(qe,{value:"active_human",children:"👤 Agente Activo"}),c.jsx(qe,{value:"closed",children:"🔒 Cerrada"})]})]}),m&&c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Asignar agente"}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs(Uo,{onValueChange:N,value:(g==null?void 0:g.assigned_agent_id)||"none",children:[c.jsx(xs,{className:"h-8 w-[160px]",children:c.jsx(zo,{placeholder:"Seleccionar agente"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"none",children:"Sin asignar"}),S.map(k=>c.jsxs(qe,{value:k.id,children:["👤 ",k.name]},k.id))]})]})})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Última actividad"}),c.jsx("span",{className:`text-sm font-medium ${A((g==null?void 0:g.status)||"closed")}`,children:g!=null&&g.updated_at?ed(new Date(g.updated_at),"dd/MM HH:mm",{locale:td}):ed(new Date,"dd/MM HH:mm",{locale:td})})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[g&&g.status!=="active_human"&&g.status!=="pending_human"&&c.jsx("div",{className:"p-2 border-b bg-muted/20",children:c.jsx(fe,{onClick:async()=>{if(!(!(x!=null&&x.id)||!e))try{console.log('🎯 ChatWindow: Botón "Tomar conversación" presionado'),console.log("🎯 ChatWindow: conversationId:",e),console.log("🎯 ChatWindow: profile.id:",x.id),console.log("🎯 ChatWindow: Estado actual de la conversación ANTES:",g),await N(x.id),console.log("🎯 ChatWindow: handleAssignAgent completado exitosamente"),setTimeout(()=>{console.log("🎯 ChatWindow: Verificando estado DESPUÉS de tomar conversación:",g)},200)}catch(k){console.error("❌ ChatWindow: Error al tomar la conversación:",k)}},size:"sm",variant:"default",className:"w-full",disabled:!(x!=null&&x.id),children:"🎯 Tomar conversación"})}),g&&(g.status==="active_human"||g.status==="pending_human")&&g.assigned_agent_id===(x==null?void 0:x.id)&&c.jsx("div",{className:"p-2 border-b bg-muted/20",children:c.jsx(fe,{onClick:async()=>{if(e)try{console.log('🤖 ChatWindow: Botón "Regresar a IA" presionado para conversación:',e),console.log("🤖 ChatWindow: Estado actual de la conversación antes del cambio:",g),await j("active_ai"),console.log('🤖 ChatWindow: Cambio a "active_ai" completado')}catch(k){console.error("❌ ChatWindow: Error al regresar la conversación:",k)}},size:"sm",variant:"outline",className:"w-full",children:"🤖 Regresar a IA"})}),c.jsxs("div",{ref:v,className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden overscroll-contain p-6 space-y-4 chat-messages-scroll",children:[y?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?c.jsx("div",{className:"text-center text-muted-foreground",children:c.jsx("p",{children:"No hay mensajes aún. ¡Sé el primero en escribir!"})}):d.map(k=>{const O=I(k),B=H(k);return c.jsx("div",{className:`flex ${B}`,children:c.jsxs("div",{className:`flex items-start space-x-3 max-w-[70%] ${B==="justify-end"?"flex-row-reverse space-x-reverse":""}`,children:[k.sender_role==="user"&&c.jsxs(oi,{className:"h-8 w-8 flex-shrink-0",children:[c.jsx(op,{src:O.avatar}),c.jsx(ai,{children:O.name.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:`rounded-lg px-4 py-2 ${k.sender_role==="user"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[c.jsx("p",{className:"text-sm",children:k.content}),c.jsx("p",{className:`text-xs mt-1 ${k.sender_role==="user"?"text-muted-foreground":"text-primary-foreground/70"}`,children:ed(new Date(k.created_at),"HH:mm",{locale:td})})]})]})},k.id)}),c.jsx("div",{ref:b})]})]}),c.jsx("div",{className:"border-t p-4 flex-shrink-0",children:c.jsxs("form",{onSubmit:E,className:"flex items-end space-x-2",children:[c.jsx(fe,{type:"button",variant:"ghost",size:"icon",className:"flex-shrink-0",children:c.jsx(o2,{className:"h-4 w-4"})}),c.jsx(fe,{type:"button",variant:"ghost",size:"icon",className:"flex-shrink-0",children:c.jsx(u2,{className:"h-4 w-4"})}),c.jsx(ci,{value:l,onChange:k=>u(k.target.value),placeholder:"Escribe un mensaje...",className:"flex-1 min-h-[40px] max-h-[120px] resize-none",disabled:!e,onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),E(k))},rows:1,style:{height:"auto",minHeight:"40px"},onInput:k=>{const O=k.target;O.style.height="auto",O.style.height=Math.min(O.scrollHeight,120)+"px"}}),c.jsx(fe,{type:"submit",size:"icon",disabled:!l.trim()||!e,children:c.jsx(c2,{className:"h-4 w-4"})})]})})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:"💬"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Selecciona una conversación"}),c.jsx("p",{className:"text-muted-foreground",children:"Elige una conversación del panel izquierdo para comenzar a chatear"})]})})}const Ae=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const Le=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:K("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const $e=h.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:K("text-2xl font-semibold leading-none tracking-tight",e),...t}));$e.displayName="CardTitle";const ns=h.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:K("text-sm text-muted-foreground",e),...t}));ns.displayName="CardDescription";const Oe=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:K("p-6 pt-0",e),...t}));Oe.displayName="CardContent";const hL=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:K("flex items-center p-6 pt-0",e),...t}));hL.displayName="CardFooter";function pL(e=!1){const{fetchConversations:t,fetchMessages:n,selectedConversationId:r}=Yb(),s=h.useRef(null);return h.useEffect(()=>{if(e)return console.log("⚠️ [FALLBACK] Iniciando polling como fallback para Realtime"),s.current=setInterval(()=>{t(),r&&n(r)},3e3),()=>{s.current&&(console.log("🧹 [FALLBACK] Deteniendo polling"),clearInterval(s.current))}},[e,t,n,r]),null}function dv(){const{profile:e}=cn(),{conversations:t,loading:n,sendMessage:r,updateConversationStatus:s,selectConversation:o,messages:a,assignAgent:i,selectedConversationId:l}=Yb();yp(),pL(!0);const d=l&&t.find(b=>b.id===l)||null,f=b=>{console.log("🖱️ Conversation selected:",b),o(b)};if(n)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Cargando conversaciones..."})]})});const p=(()=>{const b=t.filter(g=>g.status==="active_ai").length,v=t.filter(g=>g.status==="active_human").length,x=t.filter(g=>g.status==="pending_human").length,w=0,y=t.length;return{activeAI:b,activeHuman:v,pendingHuman:x,unreadMessages:w,total:y}})();return c.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-6 pb-0 flex-shrink-0",children:[c.jsxs(Ae,{children:[c.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx($e,{className:"text-sm font-medium",children:"IA Activa"}),c.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:p.activeAI})})]}),c.jsxs(Ae,{children:[c.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx($e,{className:"text-sm font-medium",children:"Humano Activo"}),c.jsx(np,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:p.activeHuman})})]}),c.jsxs(Ae,{children:[c.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx($e,{className:"text-sm font-medium",children:"Pendiente Humano"}),c.jsx(Sx,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:p.pendingHuman})})]}),c.jsxs(Ae,{children:[c.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx($e,{className:"text-sm font-medium",children:"Sin Responder"}),c.jsx(Oa,{className:"h-4 w-4 text-red-500"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold text-red-500",children:p.unreadMessages})})]}),c.jsxs(Ae,{children:[c.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx($e,{className:"text-sm font-medium",children:"Total"}),c.jsx(xx,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:p.total})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 min-h-0 p-6 pt-6 overflow-hidden",children:[c.jsx("div",{className:"lg:col-span-1 flex flex-col h-full min-h-0",children:c.jsx(PI,{selectedConversationId:l||void 0,onSelectConversation:f,conversations:t,loading:n})}),c.jsx("div",{className:"lg:col-span-2 flex flex-col h-full min-h-0 overflow-hidden",children:c.jsx(Ae,{className:"h-full flex flex-col",children:c.jsx(Oe,{className:"p-0 h-full flex-1 overflow-hidden",children:d?c.jsx(fL,{conversationId:l||void 0,messages:a,loading:n,onSendMessage:(b,v,x)=>r(b,v,x),onSelectConversation:o,onUpdateConversationStatus:s,onAssignAgent:(b,v)=>i(b,v),conversations:t}):c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx(vs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Selecciona una conversación para ver los mensajes"})]})})})})})]}),!1]})}var mL="Label",L_=h.forwardRef((e,t)=>c.jsx(J.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));L_.displayName=mL;var $_=L_;const gL=Wc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=h.forwardRef(({className:e,...t},n)=>c.jsx($_,{ref:n,className:K(gL(),e),...t}));Ye.displayName=$_.displayName;var nu="Dialog",[F_,U_]=ln(nu),[vL,un]=F_(nu),z_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,i=h.useRef(null),l=h.useRef(null),[u,d]=Do({prop:r,defaultProp:s??!1,onChange:o,caller:nu});return c.jsx(vL,{scope:t,triggerRef:i,contentRef:l,contentId:En(),titleId:En(),descriptionId:En(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};z_.displayName=nu;var B_="DialogTrigger",W_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(B_,n),o=he(t,s.triggerRef);return c.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_p(s.open),...r,ref:o,onClick:z(e.onClick,s.onOpenToggle)})});W_.displayName=B_;var xp="DialogPortal",[yL,H_]=F_(xp,{forceMount:void 0}),V_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=un(xp,t);return c.jsx(yL,{scope:t,forceMount:n,children:h.Children.map(r,a=>c.jsx(Tn,{present:n||o.open,children:c.jsx(Ac,{asChild:!0,container:s,children:a})}))})};V_.displayName=xp;var cc="DialogOverlay",q_=h.forwardRef((e,t)=>{const n=H_(cc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=un(cc,e.__scopeDialog);return o.modal?c.jsx(Tn,{present:r||o.open,children:c.jsx(xL,{...s,ref:t})}):null});q_.displayName=cc;var wL=ms("DialogOverlay.RemoveScroll"),xL=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(cc,n);return c.jsx(Gc,{as:wL,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(J.div,{"data-state":_p(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",K_=h.forwardRef((e,t)=>{const n=H_(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=un(Ss,e.__scopeDialog);return c.jsx(Tn,{present:r||o.open,children:o.modal?c.jsx(bL,{...s,ref:t}):c.jsx(_L,{...s,ref:t})})});K_.displayName=Ss;var bL=h.forwardRef((e,t)=>{const n=un(Ss,e.__scopeDialog),r=h.useRef(null),s=he(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return lp(o)},[]),c.jsx(G_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:z(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&o.preventDefault()}),onFocusOutside:z(e.onFocusOutside,o=>o.preventDefault())})}),_L=h.forwardRef((e,t)=>{const n=un(Ss,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return c.jsx(G_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),G_=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,i=un(Ss,n),l=h.useRef(null),u=he(t,l);return ip(),c.jsxs(c.Fragment,{children:[c.jsx(Vc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(yi,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":_p(i.open),...a,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(EL,{titleId:i.titleId}),c.jsx(kL,{contentRef:l,descriptionId:i.descriptionId})]})]})}),bp="DialogTitle",Y_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(bp,n);return c.jsx(J.h2,{id:s.titleId,...r,ref:t})});Y_.displayName=bp;var Q_="DialogDescription",X_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(Q_,n);return c.jsx(J.p,{id:s.descriptionId,...r,ref:t})});X_.displayName=Q_;var J_="DialogClose",Z_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(J_,n);return c.jsx(J.button,{type:"button",...r,ref:t,onClick:z(e.onClick,()=>s.onOpenChange(!1))})});Z_.displayName=J_;function _p(e){return e?"open":"closed"}var e1="DialogTitleWarning",[SL,t1]=Uk(e1,{contentName:Ss,titleName:bp,docsSlug:"dialog"}),EL=({titleId:e})=>{const t=t1(e1),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},CL="DialogDescriptionWarning",kL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t1(CL).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},n1=z_,r1=W_,s1=V_,Sp=q_,Ep=K_,Cp=Y_,kp=X_,jp=Z_;const fv=n1,jL=r1,TL=s1,o1=h.forwardRef(({className:e,...t},n)=>c.jsx(Sp,{ref:n,className:K("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));o1.displayName=Sp.displayName;const Rf=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(TL,{children:[c.jsx(o1,{}),c.jsxs(Ep,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(jp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(kx,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rf.displayName=Ep.displayName;const Af=({className:e,...t})=>c.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Af.displayName="DialogHeader";const Of=h.forwardRef(({className:e,...t},n)=>c.jsx(Cp,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));Of.displayName=Cp.displayName;const PL=h.forwardRef(({className:e,...t},n)=>c.jsx(kp,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));PL.displayName=kp.displayName;var a1="AlertDialog",[NL,$$]=ln(a1,[U_]),Yn=U_(),i1=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yn(t);return c.jsx(n1,{...r,...n,modal:!0})};i1.displayName=a1;var RL="AlertDialogTrigger",l1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yn(n);return c.jsx(r1,{...s,...r,ref:t})});l1.displayName=RL;var AL="AlertDialogPortal",c1=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yn(t);return c.jsx(s1,{...r,...n})};c1.displayName=AL;var OL="AlertDialogOverlay",u1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yn(n);return c.jsx(Sp,{...s,...r,ref:t})});u1.displayName=OL;var yo="AlertDialogContent",[ML,IL]=NL(yo),DL=qw("AlertDialogContent"),d1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=Yn(n),a=h.useRef(null),i=he(t,a),l=h.useRef(null);return c.jsx(SL,{contentName:yo,titleName:f1,docsSlug:"alert-dialog",children:c.jsx(ML,{scope:n,cancelRef:l,children:c.jsxs(Ep,{role:"alertdialog",...o,...s,ref:i,onOpenAutoFocus:z(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(DL,{children:r}),c.jsx($L,{contentRef:a})]})})})});d1.displayName=yo;var f1="AlertDialogTitle",h1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yn(n);return c.jsx(Cp,{...s,...r,ref:t})});h1.displayName=f1;var p1="AlertDialogDescription",m1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yn(n);return c.jsx(kp,{...s,...r,ref:t})});m1.displayName=p1;var LL="AlertDialogAction",g1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yn(n);return c.jsx(jp,{...s,...r,ref:t})});g1.displayName=LL;var v1="AlertDialogCancel",y1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=IL(v1,n),o=Yn(n),a=he(t,s);return c.jsx(jp,{...o,...r,ref:a})});y1.displayName=v1;var $L=({contentRef:e})=>{const t=`\`${yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yo}\` by passing a \`${p1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},FL=i1,UL=l1,zL=c1,w1=u1,x1=d1,b1=g1,_1=y1,S1=h1,E1=m1;const BL=FL,WL=UL,HL=zL,C1=h.forwardRef(({className:e,...t},n)=>c.jsx(w1,{className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));C1.displayName=w1.displayName;const k1=h.forwardRef(({className:e,...t},n)=>c.jsxs(HL,{children:[c.jsx(C1,{}),c.jsx(x1,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));k1.displayName=x1.displayName;const j1=({className:e,...t})=>c.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});j1.displayName="AlertDialogHeader";const T1=({className:e,...t})=>c.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});T1.displayName="AlertDialogFooter";const P1=h.forwardRef(({className:e,...t},n)=>c.jsx(S1,{ref:n,className:K("text-lg font-semibold",e),...t}));P1.displayName=S1.displayName;const N1=h.forwardRef(({className:e,...t},n)=>c.jsx(E1,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));N1.displayName=E1.displayName;const R1=h.forwardRef(({className:e,...t},n)=>c.jsx(b1,{ref:n,className:K(rp(),e),...t}));R1.displayName=b1.displayName;const A1=h.forwardRef(({className:e,...t},n)=>c.jsx(_1,{ref:n,className:K(rp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));A1.displayName=_1.displayName;function VL(){const{agents:e,loading:t,createAgent:n,updateAgent:r,deleteAgent:s,toggleAgentStatus:o}=yp(),{profile:a}=cn(),[i,l]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState(null),[p,b]=h.useState(""),[v,x]=h.useState(""),[w,y]=h.useState("agent"),[g,S]=h.useState(""),[_,C]=h.useState("agent");if(t)return c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!((a==null?void 0:a.role)==="admin"))return c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Acceso Denegado"}),c.jsx("p",{className:"text-muted-foreground",children:"Solo los administradores pueden acceder a esta sección."})]})});const j=async()=>{!p||!v||(await n(p,v,w),b(""),x(""),y("agent"),l(!1))},N=I=>{m(I),S(I.name),C(I.role),d(!0)},T=async()=>{f&&(await r(f.id,{name:g,role:_}),d(!1),m(null))},L=async I=>{await o(I)},A=async I=>{await s(I.id)};return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Gestión de Agentes"}),c.jsxs(fv,{open:i,onOpenChange:l,children:[c.jsx(jL,{asChild:!0,children:c.jsxs(fe,{children:[c.jsx(i2,{className:"h-4 w-4 mr-2"}),"Invitar Agente"]})}),c.jsxs(Rf,{children:[c.jsx(Af,{children:c.jsx(Of,{children:"Invitar Nuevo Agente"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"invite-name",children:"Nombre"}),c.jsx(vt,{id:"invite-name",type:"text",placeholder:"Nombre del agente",value:v,onChange:I=>x(I.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"invite-email",children:"Email"}),c.jsx(vt,{id:"invite-email",type:"email",placeholder:"agente@ejemplo.com",value:p,onChange:I=>b(I.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"invite-role",children:"Rol"}),c.jsxs(Uo,{value:w,onValueChange:I=>y(I),children:[c.jsx(xs,{children:c.jsx(zo,{})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"agent",children:"Agente"}),c.jsx(qe,{value:"admin",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(fe,{onClick:j,className:"flex-1",children:"Enviar Invitación"}),c.jsx(fe,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"})]})]})]})]})]}),c.jsx("div",{className:"grid gap-4",children:e.map(I=>c.jsx(Ae,{children:c.jsx(Oe,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-primary/10",children:c.jsx(Cx,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:I.name}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(t2,{className:"h-3 w-3"}),I.email]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mt,{variant:I.role==="admin"?"default":"secondary",children:I.role==="admin"?"Administrador":"Agente"}),c.jsx(Mt,{variant:"default",children:"Activo"}),I.id===(a==null?void 0:a.id)&&c.jsx(Mt,{variant:"outline",children:"Tú"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(fe,{variant:"outline",size:"sm",onClick:()=>N(I),children:c.jsx(a2,{className:"h-3 w-3"})}),I.id!==(a==null?void 0:a.id)&&c.jsx(fe,{variant:"outline",size:"sm",onClick:()=>L(I),children:c.jsx(h2,{className:"h-3 w-3"})}),I.id!==(a==null?void 0:a.id)&&c.jsxs(BL,{children:[c.jsx(WL,{asChild:!0,children:c.jsx(fe,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:c.jsx(f2,{className:"h-3 w-3"})})}),c.jsxs(k1,{children:[c.jsxs(j1,{children:[c.jsx(P1,{children:"¿Estás seguro?"}),c.jsxs(N1,{children:['Esta acción eliminará permanentemente al agente "',I.name,'" de la plataforma. Esta acción no se puede deshacer.']})]}),c.jsxs(T1,{children:[c.jsx(A1,{children:"Cancelar"}),c.jsx(R1,{onClick:()=>A(I),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})]})]})})},I.id))}),c.jsx(fv,{open:u,onOpenChange:d,children:c.jsxs(Rf,{children:[c.jsx(Af,{children:c.jsx(Of,{children:"Editar Agente"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"edit-name",children:"Nombre"}),c.jsx(vt,{id:"edit-name",value:g,onChange:I=>S(I.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"edit-role",children:"Rol"}),c.jsxs(Uo,{value:_,onValueChange:I=>C(I),children:[c.jsx(xs,{children:c.jsx(zo,{})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"agent",children:"Agente"}),c.jsx(qe,{value:"admin",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(fe,{onClick:T,className:"flex-1",children:"Guardar Cambios"}),c.jsx(fe,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"})]})]})]})})]})}function qL(){return c.jsx(VL,{})}var ru="Tabs",[KL,F$]=ln(ru,[qc]),O1=qc(),[GL,Tp]=KL(ru),M1=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:i,activationMode:l="automatic",...u}=e,d=Hc(i),[f,m]=Do({prop:r,onChange:s,defaultProp:o??"",caller:ru});return c.jsx(GL,{scope:n,baseId:En(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:l,children:c.jsx(J.div,{dir:d,"data-orientation":a,...u,ref:t})})});M1.displayName=ru;var I1="TabsList",D1=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Tp(I1,n),a=O1(n);return c.jsx(Hx,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(J.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});D1.displayName=I1;var L1="TabsTrigger",$1=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=Tp(L1,n),i=O1(n),l=z1(a.baseId,r),u=B1(a.baseId,r),d=r===a.value;return c.jsx(Vx,{asChild:!0,...i,focusable:!s,active:d,children:c.jsx(J.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:z(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:z(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:z(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});$1.displayName=L1;var F1="TabsContent",U1=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,i=Tp(F1,n),l=z1(i.baseId,r),u=B1(i.baseId,r),d=r===i.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(Tn,{present:s||d,children:({present:m})=>c.jsx(J.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});U1.displayName=F1;function z1(e,t){return`${e}-trigger-${t}`}function B1(e,t){return`${e}-content-${t}`}var YL=M1,W1=D1,H1=$1,V1=U1;const QL=YL,q1=h.forwardRef(({className:e,...t},n)=>c.jsx(W1,{ref:n,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));q1.displayName=W1.displayName;const yl=h.forwardRef(({className:e,...t},n)=>c.jsx(H1,{ref:n,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));yl.displayName=H1.displayName;const wl=h.forwardRef(({className:e,...t},n)=>c.jsx(V1,{ref:n,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wl.displayName=V1.displayName;const XL=1,JL=1e6;let nd=0;function ZL(){return nd=(nd+1)%Number.MAX_SAFE_INTEGER,nd.toString()}const rd=new Map,hv=e=>{if(rd.has(e))return;const t=setTimeout(()=>{rd.delete(e),Ma({type:"REMOVE_TOAST",toastId:e})},JL);rd.set(e,t)},e$=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hv(n):e.toasts.forEach(r=>{hv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},xl=[];let bl={toasts:[]};function Ma(e){bl=e$(bl,e),xl.forEach(t=>{t(bl)})}function t$({...e}){const t=ZL(),n=s=>Ma({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ma({type:"DISMISS_TOAST",toastId:t});return Ma({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function n$(){const[e,t]=h.useState(bl);return h.useEffect(()=>(xl.push(t),()=>{const n=xl.indexOf(t);n>-1&&xl.splice(n,1)}),[e]),{...e,toast:t$,dismiss:n=>Ma({type:"DISMISS_TOAST",toastId:n})}}function r$(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),{user:s,profile:o}=cn(),a=h.useCallback(async()=>{if(s)try{r(!0);const{data:b,error:v}=await G.from("tb_agents").select("*").order("created_at",{ascending:!1});if(v){console.error("Error fetching message templates:",v),ne.error("Error al cargar las plantillas de mensajes");return}t(b||[])}catch(b){console.error("Error fetching message templates:",b),ne.error("Error al cargar las plantillas de mensajes")}finally{r(!1)}},[s]),i=h.useCallback(async b=>{if(!s||!o){ne.error("Debes estar autenticado para crear plantillas");return}try{const{error:v}=await G.from("tb_agents").insert({email:b.name,name:b.message,role:b.category});if(v){console.error("Error creating template:",v),ne.error("Error al crear la plantilla");return}ne.success("Plantilla creada exitosamente"),await a()}catch(v){console.error("Error creating template:",v),ne.error("Error al crear la plantilla")}},[s,o,a]),l=h.useCallback(async(b,v)=>{if(!s||!o){ne.error("Debes estar autenticado para actualizar plantillas");return}try{const{error:x}=await G.from("tb_agents").update(v).eq("id",b);if(x){console.error("Error updating template:",x),ne.error("Error al actualizar la plantilla");return}ne.success("Plantilla actualizada exitosamente"),await a()}catch(x){console.error("Error updating template:",x),ne.error("Error al actualizar la plantilla")}},[s,o,a]),u=h.useCallback(async b=>{if(!s||!o){ne.error("Debes estar autenticado para eliminar plantillas");return}try{const{error:v}=await G.from("tb_agents").delete().eq("id",b);if(v){console.error("Error deleting template:",v),ne.error("Error al eliminar la plantilla");return}ne.success("Plantilla eliminada exitosamente"),await a()}catch(v){console.error("Error deleting template:",v),ne.error("Error al eliminar la plantilla")}},[s,o,a]),d=h.useCallback(b=>e.filter(v=>v.category===b),[e]),f=h.useCallback(b=>e.find(v=>v.id===b),[e]),m=h.useCallback(b=>{if(!b.trim())return e;const v=b.toLowerCase();return e.filter(x=>x.name.toLowerCase().includes(v)||x.message.toLowerCase().includes(v)||x.category.toLowerCase().includes(v))},[e]),p=h.useCallback(()=>{const b=new Set(e.map(v=>v.category));return Array.from(b).sort()},[e]);return h.useEffect(()=>{a()},[a]),{templates:e,loading:n,createTemplate:i,updateTemplate:l,deleteTemplate:u,getTemplatesByCategory:d,getTemplateById:f,searchTemplates:m,getCategories:p,fetchTemplates:a}}function s$(){const{user:e,profile:t}=cn(),{toast:n}=n$(),{templates:r,createTemplate:s,updateTemplate:o,deleteTemplate:a}=r$(),[i,l]=h.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||""}),[u,d]=h.useState({title:"",message:""}),[f,m]=h.useState(null),[p,b]=h.useState({title:"",message:""}),v=async()=>{if(!(!e||!t))try{const{error:_}=await G.from("profiles").update({name:i.name,email:i.email}).eq("id",t.id);if(_)throw _;n({title:"Perfil actualizado",description:"Tus datos se han actualizado correctamente."})}catch(_){console.error("Error updating profile:",_),n({title:"Error",description:"No se pudo actualizar el perfil.",variant:"destructive"})}},x=()=>{if(!u.title||!u.message)return;s(u.title,u.message)&&d({title:"",message:""})},w=_=>{const C=r.find(E=>E.id===_);C&&(b({title:C.name,message:C.message}),m(_))},y=()=>{f&&(o(f,p),m(null),b({title:"",message:""}))},g=()=>{m(null),b({title:"",message:""})},S=_=>{a(_)};return c.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Configuración"}),c.jsx("p",{className:"text-muted-foreground",children:"Personaliza tu experiencia en Chatbot Trueblue"})]}),c.jsxs(QL,{defaultValue:"profile",className:"space-y-6",children:[c.jsxs(q1,{className:"grid w-full grid-cols-3",children:[c.jsxs(yl,{value:"profile",className:"flex items-center gap-2",children:[c.jsx(Cx,{className:"h-4 w-4"}),"Perfil"]}),c.jsxs(yl,{value:"messages",className:"flex items-center gap-2",children:[c.jsx(vs,{className:"h-4 w-4"}),"Mensajes Automáticos"]}),c.jsxs(yl,{value:"theme",className:"flex items-center gap-2",children:[c.jsx(s2,{className:"h-4 w-4"}),"Tema"]})]}),c.jsx(wl,{value:"profile",children:c.jsxs(Ae,{children:[c.jsxs(Le,{children:[c.jsx($e,{children:"Información del Perfil"}),c.jsx(ns,{children:"Actualiza tu información personal"})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"name",children:"Nombre"}),c.jsx(vt,{id:"name",value:i.name,onChange:_=>l({...i,name:_.target.value}),placeholder:"Tu nombre completo"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"email",children:"Email"}),c.jsx(vt,{id:"email",type:"email",value:i.email,onChange:_=>l({...i,email:_.target.value}),placeholder:"tu@email.com"})]}),c.jsxs(fe,{onClick:v,className:"flex items-center gap-2",children:[c.jsx(Hg,{className:"h-4 w-4"}),"Guardar Cambios"]})]})]})}),c.jsx(wl,{value:"messages",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ae,{children:[c.jsxs(Le,{children:[c.jsx($e,{children:"Agregar Nueva Plantilla"}),c.jsxs(ns,{children:["Crea plantillas de respuestas rápidas para usar en conversaciones.",c.jsx("br",{}),c.jsx("strong",{children:"Variables disponibles:"})," ","{name}"," - se reemplaza por tu nombre"]})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"message-title",children:"Título de la plantilla"}),c.jsx(vt,{id:"message-title",value:u.title,onChange:_=>d({...u,title:_.target.value}),placeholder:"Ej: Saludo inicial"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"message-content",children:"Mensaje"}),c.jsx(ci,{id:"message-content",value:u.message,onChange:_=>d({...u,message:_.target.value}),placeholder:"Escribe el mensaje de la plantilla...",rows:3})]}),c.jsxs(fe,{onClick:x,className:"flex items-center gap-2",children:[c.jsx(Hg,{className:"h-4 w-4"}),"Agregar Plantilla"]})]})]}),c.jsxs(Ae,{children:[c.jsxs(Le,{children:[c.jsx($e,{children:"Plantillas Existentes"}),c.jsx(ns,{children:"Gestiona tus plantillas de mensajes automáticos"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"space-y-4",children:r.map(_=>c.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:f===_.id?c.jsxs("div",{className:"space-y-3",children:[c.jsx(vt,{value:p.title,onChange:C=>b(E=>({...E,title:C.target.value})),placeholder:"Título de la plantilla"}),c.jsx(ci,{value:p.message,onChange:C=>b(E=>({...E,message:C.target.value})),placeholder:"Mensaje de la plantilla",rows:3}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(fe,{size:"sm",onClick:y,children:"Guardar"}),c.jsx(fe,{size:"sm",variant:"outline",onClick:g,children:"Cancelar"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium",children:_.name}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>w(_.id),children:"Editar"}),c.jsx(fe,{size:"sm",variant:"destructive",onClick:()=>S(_.id),children:"Eliminar"})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:_.message})]})},_.id))})})]})]})}),c.jsx(wl,{value:"theme",children:c.jsxs(Ae,{children:[c.jsxs(Le,{children:[c.jsx($e,{children:"Configuración de Tema"}),c.jsx(ns,{children:"Personaliza la apariencia de la aplicación"})]}),c.jsx(Oe,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(Ye,{children:"Tema de la aplicación"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cambia entre modo claro, oscuro o automático"})]}),c.jsx(vp,{})]})})]})})]})]})}function o$({title:e,description:t,icon:n}){return c.jsx("div",{className:"flex items-center justify-center h-full p-6",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs(Le,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n}),c.jsx($e,{children:e})]}),c.jsx(Oe,{className:"text-center",children:c.jsx("p",{className:"text-muted-foreground",children:t})})]})})}const a$=Wc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_l=h.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:K(a$({variant:t}),e),...n}));_l.displayName="Alert";const K1=h.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:K("mb-1 font-medium leading-none tracking-tight",e),...t}));K1.displayName="AlertTitle";const Sl=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:K("text-sm [&_p]:leading-relaxed",e),...t}));Sl.displayName="AlertDescription";function i$(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,o]=h.useState(""),[a,i]=h.useState(!1),{signInWithMagicLink:l,user:u}=cn();h.useEffect(()=>{u&&(window.location.href=`${window.location.origin}/`)},[u]);const d=async f=>{f.preventDefault(),i(!0),r(""),o("");const{error:m,message:p}=await l(e);m?r(m.message||"Error al enviar el enlace mágico"):p&&(o(p),t("")),i(!1)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs(Le,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 bg-primary rounded-full",children:c.jsx(vs,{className:"h-6 w-6 text-primary-foreground"})})}),c.jsx($e,{className:"text-2xl",children:"Chat Management"}),c.jsx(ns,{children:"Accede al sistema de gestión de conversaciones"})]}),c.jsxs(Oe,{children:[c.jsxs(_l,{className:"mb-4",children:[c.jsx(Oa,{className:"h-4 w-4"}),c.jsx(K1,{children:"Acceso por Invitación"}),c.jsx(Sl,{children:"Solo los usuarios invitados por un administrador pueden acceder al sistema. Ingresa tu email para recibir un enlace de acceso seguro."})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"email",children:"Email"}),c.jsx(vt,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"tu-email@ejemplo.com",required:!0})]}),n&&c.jsxs(_l,{variant:"destructive",children:[c.jsx(Oa,{className:"h-4 w-4"}),c.jsx(Sl,{children:n})]}),s&&c.jsxs(_l,{children:[c.jsx(Oa,{className:"h-4 w-4"}),c.jsx(Sl,{children:s})]}),c.jsx(fe,{type:"submit",className:"w-full",disabled:a,children:a?"Enviando enlace...":"Enviar Enlace Mágico"})]})]})]})})}const l$=()=>{const e=ks();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};async function c$(){try{console.log("🔌 Probando real-time de Supabase...");const{data:e,error:t}=await G.rpc("get_current_user_profile");t?console.log("⚠️ No se pudo verificar tablas de real-time via RPC, continuando con prueba directa..."):console.log("✅ Tablas habilitadas para real-time:",e);const n=`test-channel-${Date.now()}`;console.log("📡 Creando canal de prueba:",n);const r=G.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"tb_conversations"},s=>{console.log("✅ Real-time funcionando! Payload recibido:",s)}).subscribe(s=>{console.log("📡 Estado de suscripción de prueba:",s),s==="SUBSCRIBED"?(console.log("✅ Canal de prueba suscrito exitosamente"),setTimeout(async()=>{console.log("🧪 Haciendo inserción de prueba...");const{data:o,error:a}=await G.from("tb_conversations").insert({user_id:"test-user-"+Date.now(),status:"pending_human",summary:"Conversación de prueba para verificar real-time"}).select().single();a?console.error("❌ Error en inserción de prueba:",a):(console.log("✅ Inserción de prueba exitosa:",o),setTimeout(async()=>{const{error:i}=await G.from("tb_conversations").delete().eq("id",o.id);i?console.warn("⚠️ No se pudo limpiar conversación de prueba:",i):console.log("🧹 Conversación de prueba limpiada"),G.removeChannel(r),console.log("🧹 Canal de prueba removido")},2e3))},1e3)):s==="CHANNEL_ERROR"?console.error("❌ Error en canal de prueba"):s==="TIMED_OUT"&&console.error("❌ Timeout en canal de prueba")});return{success:!0,channel:r}}catch(e){return console.error("❌ Error probando real-time:",e),{success:!1,error:e}}}async function u$(){try{console.log("🔍 Verificando configuración de real-time...");const{data:e,error:t}=await G.from("tb_conversations").select("id").limit(1);t?console.warn("⚠️ No se pudo verificar tb_conversations:",t):console.log("📋 Información de tb_conversations:",e);const{data:n,error:r}=await G.from("tb_messages").select("id").limit(1);r?console.warn("⚠️ No se pudo verificar tb_messages:",r):console.log("📋 Información de tb_messages:",n);const{data:s,error:o}=await G.from("tb_conversations").select("id").limit(1);if(o)console.warn("⚠️ No se pudo verificar publicación de real-time:",o);else{console.log("📡 Tablas en publicación de real-time:",s);const a=s&&s.length>0,i=s&&s.length>0;if(console.log("✅ tb_conversations en real-time:",a),console.log("✅ tb_messages en real-time:",i),!a||!i)return console.warn("⚠️ Algunas tablas no están habilitadas para real-time"),{success:!1,missingTables:[]}}return{success:!0}}catch(e){return console.error("❌ Error verificando configuración de real-time:",e),{success:!1,error:e}}}async function d$(){try{console.log("🔍 Verificando estructura de la base de datos...");const{data:e,error:t}=await G.from("tb_conversations").select("channel").limit(1);t?(console.log("⚠️ Columna channel no encontrada, ejecutando migración..."),await f$()):console.log("✅ Columna channel ya existe")}catch(e){console.error("❌ Error verificando estructura de BD:",e)}}async function f$(){try{console.log("🚀 Ejecutando migración para agregar columna channel...");const{error:e}=await G.rpc("exec_sql",{sql:`
        ALTER TABLE tb_conversations 
        ADD COLUMN IF NOT EXISTS channel TEXT DEFAULT 'web';
      `});e?console.log("⚠️ Columna channel ya existe o no se pudo agregar:",e):console.log("✅ Columna channel agregada exitosamente");const{error:t}=await G.rpc("exec_sql",{sql:`
        CREATE INDEX IF NOT EXISTS idx_conversations_channel 
        ON tb_conversations(channel);
      `});t?console.log("⚠️ Índice ya existe o no se pudo crear:",t):console.log("✅ Índice channel creado exitosamente");const{error:n}=await G.rpc("exec_sql",{sql:`
        UPDATE tb_conversations 
        SET channel = CASE 
          WHEN phone_number IS NOT NULL THEN 'whatsapp'
          WHEN username LIKE '@%' THEN 'telegram'
          ELSE 'web'
        END
        WHERE channel = 'web';
      `});n?console.log("⚠️ No se pudieron actualizar las conversaciones existentes:",n):console.log("✅ Conversaciones existentes actualizadas con canales"),console.log("🎉 Migración completada exitosamente")}catch(e){console.error("❌ Error ejecutando migración:",e)}}async function h$(){try{console.log("🔍 Verificando estructura de la base de datos...");const{data:e,error:t}=await G.from("tb_conversations").select("id, user_id, username, phone_number, channel").limit(5);if(t){console.error("❌ Error consultando conversaciones:",t);return}if(console.log("📊 Estructura actual de conversaciones:",e),e&&e.length>0){const n="channel"in e[0];console.log(`🔍 Columna channel existe: ${n}`),n&&console.log("📊 Valores de channel encontrados:",[...new Set(e.map(r=>r.channel))])}}catch(e){console.error("❌ Error verificando estructura:",e)}}function p$(){var w,y,g;const[e,t]=h.useState("idle"),[n,r]=h.useState(""),[s,o]=h.useState("idle"),[a,i]=h.useState(""),[l,u]=h.useState("idle"),[d,f]=h.useState(""),[m,p]=h.useState(null),b=async()=>{var S;t("testing"),r("Probando real-time...");try{const _=await c$();_.success?(t("success"),r("✅ Real-time funcionando correctamente")):(t("error"),r(`❌ Error: ${((S=_.error)==null?void 0:S.message)||"Error desconocido"}`))}catch(_){t("error"),r(`❌ Error: ${(_==null?void 0:_.message)||"Error desconocido"}`)}},v=async()=>{var S;o("checking"),i("Verificando configuración...");try{const _=await u$();_.success?(o("success"),i("✅ Configuración de real-time correcta")):(o("error"),i(`❌ Problemas de configuración: ${((S=_.error)==null?void 0:S.message)||"Verificar migraciones"}`))}catch(_){o("error"),i(`❌ Error: ${(_==null?void 0:_.message)||"Error desconocido"}`)}},x=async()=>{var S;u("checking"),f("Verificando estructura de la base de datos...");try{const _=await h$();_.success?(u("success"),f("✅ Estructura de base de datos verificada"),p(_)):(u("error"),f(`❌ Error verificando estructura: ${((S=_.error)==null?void 0:S.message)||"Error desconocido"}`))}catch(_){u("error"),f(`❌ Error: ${(_==null?void 0:_.message)||"Error desconocido"}`)}};return c.jsxs(Ae,{className:"w-full max-w-4xl",children:[c.jsx(Le,{children:c.jsxs($e,{className:"flex items-center gap-2",children:["🔧 Debug de Real-Time y Base de Datos",c.jsx(Mt,{variant:"outline",children:"Desarrollo"})]})}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"1. Verificar Estructura de Base de Datos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifica qué tablas existen y su configuración actual"}),c.jsx(fe,{onClick:x,disabled:l==="checking",variant:l==="success"?"default":l==="error"?"destructive":"outline",children:l==="checking"?"Verificando...":"Verificar Estructura BD"}),d&&c.jsx("div",{className:`text-sm p-2 rounded ${l==="success"?"bg-green-100 text-green-800":l==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:d}),m&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"📊 Resultados de la Verificación:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("strong",{children:"Estado de las tablas:"})}),c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsxs("li",{children:["tb_conversations: ",(w=m.tableChecks)!=null&&w.tb_conversations?"✅ Existe y accesible":"❌ No existe o no accesible"]}),c.jsxs("li",{children:["tb_messages: ",(y=m.tableChecks)!=null&&y.tb_messages?"✅ Existe y accesible":"❌ No existe o no accesible"]}),c.jsxs("li",{children:["profiles: ",(g=m.tableChecks)!=null&&g.profiles?"✅ Existe y accesible":"❌ No existe o no accesible"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("strong",{children:"Resumen:"})}),c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsxs("li",{children:["Total de tablas accesibles: ",m.totalTables,"/3"]}),c.jsxs("li",{children:["Estado general: ",m.totalTables===3?"✅ Completo":m.totalTables>0?"⚠️ Parcial":"❌ Crítico"]})]})]})]}),m.permissions&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{children:c.jsx("strong",{children:"Permisos de acceso:"})}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[c.jsxs("div",{className:`p-2 rounded text-center text-xs ${m.permissions.tb_conversations?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["tb_conversations: ",m.permissions.tb_conversations?"✅":"❌"]}),c.jsxs("div",{className:`p-2 rounded text-center text-xs ${m.permissions.tb_messages?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["tb_messages: ",m.permissions.tb_messages?"✅":"❌"]}),c.jsxs("div",{className:`p-2 rounded text-center text-xs ${m.permissions.profiles?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["profiles: ",m.permissions.profiles?"✅":"❌"]})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"2. Verificar Configuración de Real-Time"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifica que las tablas estén correctamente configuradas para real-time"}),c.jsx(fe,{onClick:v,disabled:s==="checking",variant:s==="success"?"default":s==="error"?"destructive":"outline",children:s==="checking"?"Verificando...":"Verificar Configuración"}),a&&c.jsx("div",{className:`text-sm p-2 rounded ${s==="success"?"bg-green-100 text-green-800":s==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:a})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"3. Prueba de Real-Time"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Prueba la funcionalidad de real-time creando una conversación de prueba"}),c.jsx(fe,{onClick:b,disabled:e==="testing",variant:e==="success"?"default":e==="error"?"destructive":"outline",children:e==="testing"?"Probando...":"Probar Real-Time"}),n&&c.jsx("div",{className:`text-sm p-2 rounded ${e==="success"?"bg-green-100 text-green-800":e==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:n})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"📋 Instrucciones de Debug"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("p",{children:"1. Abre la consola del navegador (F12)"}),c.jsx("p",{children:"2. Ejecuta las verificaciones en orden"}),c.jsx("p",{children:"3. Revisa los logs detallados"}),c.jsx("p",{children:"4. Verifica que no haya errores de CORS"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"🐛 Problemas Comunes"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:["• ",c.jsx("strong",{children:"Tablas faltantes:"})," Crear las tablas necesarias"]}),c.jsxs("p",{children:["• ",c.jsx("strong",{children:"RLS Policies:"})," Verificar permisos de usuario"]}),c.jsxs("p",{children:["• ",c.jsx("strong",{children:"REPLICA IDENTITY:"})," Configurar para real-time"]}),c.jsxs("p",{children:["• ",c.jsx("strong",{children:"Publicación:"})," Agregar tablas a supabase_realtime"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"💡 Recomendaciones"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:["1. ",c.jsx("strong",{children:"Primero"})," verifica la estructura de la BD"]}),c.jsxs("p",{children:["2. ",c.jsx("strong",{children:"Luego"})," verifica la configuración de real-time"]}),c.jsxs("p",{children:["3. ",c.jsx("strong",{children:"Finalmente"})," prueba la funcionalidad"]}),c.jsx("p",{children:"4. Si hay problemas, revisa la consola para logs detallados"})]})]})]})]})}const pv={success:(...e)=>{},error:(...e)=>{},info:(...e)=>{}};function m$(){const[e,t]=h.useState({conversationId:"test-conversation-123",message:"Este es un mensaje de prueba para verificar el webhook de n8n",channel:"telegram",senderId:"test-agent-456",chatId:"test-user-789"}),[n,r]=h.useState(!1),[s,o]=h.useState(null),a=async()=>{r(!0),o(null);try{console.log("🧪 Probando webhook de n8n con datos:",e);const l=await Cf.sendMessageToWebhook(e);o(l),l.success?pv.success("✅ Webhook probado exitosamente"):pv.error(`❌ Error en webhook: ${l.error}`)}catch(l){console.error("❌ Error probando webhook:",l),o({success:!1,error:l instanceof Error?l.message:"Error desconocido"})}finally{r(!1)}},i=()=>{t({conversationId:"test-conversation-123",message:"Este es un mensaje de prueba para verificar el webhook de n8n",channel:"telegram",senderId:"test-agent-456",chatId:"test-user-789"}),o(null)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ae,{children:[c.jsxs(Le,{children:[c.jsx($e,{children:"🧪 Debug del Webhook de n8n"}),c.jsx(ns,{children:"Prueba el webhook de n8n directamente con datos personalizados"})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"conversationId",children:"ID de Conversación"}),c.jsx(vt,{id:"conversationId",value:e.conversationId,onChange:l=>t(u=>({...u,conversationId:l.target.value})),placeholder:"test-conversation-123"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"channel",children:"Canal"}),c.jsx(vt,{id:"channel",value:e.channel,onChange:l=>t(u=>({...u,channel:l.target.value})),placeholder:"telegram"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"senderId",children:"ID del Agente"}),c.jsx(vt,{id:"senderId",value:e.senderId,onChange:l=>t(u=>({...u,senderId:l.target.value})),placeholder:"test-agent-456"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"chatId",children:"ID del Chat"}),c.jsx(vt,{id:"chatId",value:e.chatId,onChange:l=>t(u=>({...u,chatId:l.target.value})),placeholder:"test-user-789"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"message",children:"Mensaje"}),c.jsx(ci,{id:"message",value:e.message,onChange:l=>t(u=>({...u,message:l.target.value})),placeholder:"Escribe tu mensaje de prueba aquí...",rows:3})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(fe,{onClick:a,disabled:n,className:"flex-1",children:n?"🔄 Probando...":"🚀 Probar Webhook"}),c.jsx(fe,{onClick:i,variant:"outline",disabled:n,children:"🔄 Reset"})]})]})]}),s&&c.jsxs(Ae,{children:[c.jsx(Le,{children:c.jsx($e,{children:"📡 Respuesta del Webhook"})}),c.jsx(Oe,{children:c.jsx("div",{className:"bg-muted p-4 rounded-lg",children:c.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(s,null,2)})})})]}),c.jsxs(Ae,{children:[c.jsx(Le,{children:c.jsx($e,{children:"🔍 Información del Webhook"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"URL del Webhook:"})," https://aztec.app.n8n.cloud/webhook/feb40c09-7947-4523-a263-9647125a03ec"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Método:"})," POST"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Content-Type:"})," application/json"]}),c.jsx("div",{children:c.jsx("strong",{children:"Estructura del Payload:"})}),c.jsx("div",{className:"bg-muted p-2 rounded text-xs",children:c.jsx("pre",{children:JSON.stringify({conversationId:"string",message:"string",channel:"string",senderId:"string",chatId:"string"},null,2)})})]})]})]})}function g$(){return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"🔧 Página de Debug"}),c.jsx("p",{className:"text-muted-foreground",children:"Herramientas para diagnosticar y probar la funcionalidad de real-time"}),c.jsx(Mt,{variant:"outline",children:"Solo para desarrollo"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Ae,{children:[c.jsx(Le,{children:c.jsx($e,{className:"flex items-center gap-2",children:"📊 Información del Proyecto"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Proyecto:"})," TrueBlue Chat Management"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Base de Datos:"})," Supabase"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"URL:"})," avkpygwhymnxotwqzknz.supabase.co"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Estado:"})," ",c.jsx(Mt,{variant:"outline",children:"Conectado"})]})]})]}),c.jsxs(Ae,{children:[c.jsx(Le,{children:c.jsx($e,{className:"flex items-center gap-2",children:"📡 Estado de Real-Time"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Conversaciones:"})," ",c.jsx(Mt,{variant:"outline",children:"Pendiente"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Mensajes:"})," ",c.jsx(Mt,{variant:"outline",children:"Pendiente"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Perfiles:"})," ",c.jsx(Mt,{variant:"outline",children:"Pendiente"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Configuración:"})," ",c.jsx(Mt,{variant:"outline",children:"Pendiente"})]})]})]}),c.jsxs(Ae,{children:[c.jsx(Le,{children:c.jsx($e,{className:"flex items-center gap-2",children:"⚡ Acciones Rápidas"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Verificar BD:"})," Usar el componente de debug"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Probar Real-Time:"})," Ejecutar pruebas automáticas"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Revisar Logs:"})," Abrir consola del navegador"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Documentación:"})," REALTIME_TROUBLESHOOTING.md"]})]})]})]}),c.jsx(p$,{}),c.jsx(m$,{}),c.jsxs(Ae,{children:[c.jsx(Le,{children:c.jsx($e,{className:"flex items-center gap-2",children:"📚 Recursos de Ayuda"})}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"📖 Documentación"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("li",{children:["• ",c.jsx("code",{children:"REALTIME_TROUBLESHOOTING.md"})," - Guía completa"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"SUPABASE_SETUP.md"})," - Configuración inicial"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"env.example"})," - Variables de entorno"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"🔧 Archivos de Configuración"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("li",{children:["• ",c.jsx("code",{children:"20250813000000_fix_realtime_config.sql"})," - Migración"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"src/integrations/supabase/client.ts"})," - Cliente"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"src/hooks/useConversations.tsx"})," - Hook principal"]})]})]})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"font-medium mb-2",children:"🚀 Próximos Pasos"}),c.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Ejecutar la verificación de estructura de BD"}),c.jsx("li",{children:"Revisar si faltan tablas o configuración"}),c.jsx("li",{children:"Aplicar la migración de real-time si es necesario"}),c.jsx("li",{children:"Probar la funcionalidad de real-time"}),c.jsx("li",{children:"Verificar que los mensajes se sincronicen en tiempo real"})]})]})]})]})]})}function Hs({children:e}){const{user:t,loading:n}=cn();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(q0,{to:"/auth",replace:!0})}function v$({children:e}){const{user:t,loading:n}=cn();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsx(q0,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:e})}function Vs({children:e}){const[t,n]=h.useState(!0);return h.useEffect(()=>{d$()},[]),c.jsxs("div",{className:"h-screen flex w-full overflow-hidden",children:[c.jsx(KM,{isOpen:t,onToggle:()=>n(!t)}),c.jsxs("main",{className:`flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out ${t?"lg:ml-64":"lg:ml-16"}`,children:[c.jsxs("header",{className:"h-12 flex items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>n(!t),className:"lg:hidden mr-2",children:c.jsx(n2,{className:"h-5 w-5"})}),c.jsx("div",{className:"text-lg font-semibold",children:"Trueblue"})]}),c.jsx("div",{className:"mr-4",children:c.jsx(vp,{})})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:e})]})]})}const y$=()=>c.jsx(Hw,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:c.jsx(qA,{children:c.jsx(jP,{children:c.jsx(kN,{children:c.jsxs(wN,{children:[c.jsx(On,{path:"/",element:c.jsx(Hs,{children:c.jsx(Vs,{children:c.jsx(dv,{})})})}),c.jsx(On,{path:"/dashboard",element:c.jsx(Hs,{children:c.jsx(Vs,{children:c.jsx(dv,{})})})}),c.jsx(On,{path:"/agents",element:c.jsx(Hs,{children:c.jsx(Vs,{children:c.jsx(qL,{})})})}),c.jsx(On,{path:"/metrics",element:c.jsx(Hs,{children:c.jsx(Vs,{children:c.jsx(o$,{title:"Métricas",description:"Las métricas y estadísticas estarán disponibles pronto.",icon:c.jsx(wx,{className:"h-6 w-6 text-primary"})})})})}),c.jsx(On,{path:"/settings",element:c.jsx(Hs,{children:c.jsx(Vs,{children:c.jsx(s$,{})})})}),c.jsx(On,{path:"/debug",element:c.jsx(Hs,{children:c.jsx(Vs,{children:c.jsx(g$,{})})})}),c.jsx(On,{path:"/auth",element:c.jsx(v$,{children:c.jsx(i$,{})})}),c.jsx(On,{path:"*",element:c.jsx(l$,{})})]})})})})}),w$=new ek({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});sd.createRoot(document.getElementById("root")).render(c.jsx(D.StrictMode,{children:c.jsxs(nk,{client:w$,children:[c.jsxs(Hw,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:[c.jsx(y$,{}),c.jsx(Fk,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3})]}),c.jsx(ok,{initialIsOpen:!1})]})}));

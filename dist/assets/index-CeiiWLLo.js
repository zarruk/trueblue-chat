var $S=Object.defineProperty;var Kp=e=>{throw TypeError(e)};var LS=(e,t,n)=>t in e?$S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gp=(e,t,n)=>LS(e,typeof t!="symbol"?t+"":t,n),cu=(e,t,n)=>t.has(e)||Kp("Cannot "+n);var R=(e,t,n)=>(cu(e,t,"read from private field"),n?n.call(e):t.get(e)),pe=(e,t,n)=>t.has(e)?Kp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),te=(e,t,n,r)=>(cu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(cu(e,t,"access private method"),n);var ji=(e,t,n,r)=>({set _(s){te(e,t,s,n)},get _(){return R(e,t,r)}});function FS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function US(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Iv={exports:{}},fc={},$v={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=Symbol.for("react.element"),zS=Symbol.for("react.portal"),BS=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),VS=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),qS=Symbol.for("react.context"),KS=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),YS=Symbol.for("react.memo"),QS=Symbol.for("react.lazy"),Yp=Symbol.iterator;function XS(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var Lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fv=Object.assign,Uv={};function Bo(e,t,n){this.props=e,this.context=t,this.refs=Uv,this.updater=n||Lv}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zv(){}zv.prototype=Bo.prototype;function zf(e,t,n){this.props=e,this.context=t,this.refs=Uv,this.updater=n||Lv}var Bf=zf.prototype=new zv;Bf.constructor=zf;Fv(Bf,Bo.prototype);Bf.isPureReactComponent=!0;var Qp=Array.isArray,Bv=Object.prototype.hasOwnProperty,Wf={current:null},Wv={key:!0,ref:!0,__self:!0,__source:!0};function Vv(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Bv.call(t,r)&&!Wv.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:di,type:e,key:o,ref:a,props:s,_owner:Wf.current}}function JS(e,t){return{$$typeof:di,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===di}function ZS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xp=/\/+/g;function uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZS(""+e.key):t.toString(36)}function sl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case di:case zS:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+uu(a,0):r,Qp(s)?(n="",e!=null&&(n=e.replace(Xp,"$&/")+"/"),sl(s,t,n,"",function(u){return u})):s!=null&&(Vf(s)&&(s=JS(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Xp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Qp(e))for(var i=0;i<e.length;i++){o=e[i];var l=r+uu(o,i);a+=sl(o,t,n,l,s)}else if(l=XS(e),typeof l=="function")for(e=l.call(e),i=0;!(o=e.next()).done;)o=o.value,l=r+uu(o,i++),a+=sl(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ti(e,t,n){if(e==null)return e;var r=[],s=0;return sl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function eE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},ol={transition:null},tE={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:Wf};function Hv(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Ti,forEach:function(e,t,n){Ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ti(e,function(){t++}),t},toArray:function(e){return Ti(e,function(t){return t})||[]},only:function(e){if(!Vf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Bo;ae.Fragment=BS;ae.Profiler=VS;ae.PureComponent=zf;ae.StrictMode=WS;ae.Suspense=GS;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE;ae.act=Hv;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fv({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Wf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Bv.call(t,l)&&!Wv.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){i=Array(l);for(var u=0;u<l;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:di,type:e.type,key:s,ref:o,props:r,_owner:a}};ae.createContext=function(e){return e={$$typeof:qS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HS,_context:e},e.Consumer=e};ae.createElement=Vv;ae.createFactory=function(e){var t=Vv.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:KS,render:e}};ae.isValidElement=Vf;ae.lazy=function(e){return{$$typeof:QS,_payload:{_status:-1,_result:e},_init:eE}};ae.memo=function(e,t){return{$$typeof:YS,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ol.transition;ol.transition={};try{e()}finally{ol.transition=t}};ae.unstable_act=Hv;ae.useCallback=function(e,t){return dt.current.useCallback(e,t)};ae.useContext=function(e){return dt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return dt.current.useEffect(e,t)};ae.useId=function(){return dt.current.useId()};ae.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return dt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};ae.useRef=function(e){return dt.current.useRef(e)};ae.useState=function(e){return dt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return dt.current.useTransition()};ae.version="18.3.1";$v.exports=ae;var h=$v.exports;const I=Dv(h),Hf=FS({__proto__:null,default:I},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=h,rE=Symbol.for("react.element"),sE=Symbol.for("react.fragment"),oE=Object.prototype.hasOwnProperty,aE=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iE={key:!0,ref:!0,__self:!0,__source:!0};function qv(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)oE.call(t,r)&&!iE.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:rE,type:e,key:o,ref:a,props:s,_owner:aE.current}}fc.Fragment=sE;fc.jsx=qv;fc.jsxs=qv;Iv.exports=fc;var c=Iv.exports,ld={},Kv={exports:{}},Tt={},Gv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var $=P.length;P.push(T);e:for(;0<$;){var G=$-1>>>1,H=P[G];if(0<s(H,T))P[G]=T,P[$]=H,$=G;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var T=P[0],$=P.pop();if($!==T){P[0]=$;e:for(var G=0,H=P.length,J=H>>>1;G<J;){var Q=2*(G+1)-1,z=P[Q],se=Q+1,L=P[se];if(0>s(z,$))se<H&&0>s(L,z)?(P[G]=L,P[se]=$,G=se):(P[G]=z,P[Q]=$,G=Q);else if(se<H&&0>s(L,$))P[G]=L,P[se]=$,G=se;else break e}}return T}function s(P,T){var $=P.sortIndex-T.sortIndex;return $!==0?$:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var l=[],u=[],d=1,f=null,m=3,p=!1,b=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=P)r(u),T.sortIndex=T.expirationTime,t(l,T);else break;T=n(u)}}function _(P){if(y=!1,v(P),!b)if(n(l)!==null)b=!0,F(S);else{var T=n(u);T!==null&&W(_,T.startTime-P)}}function S(P,T){b=!1,y&&(y=!1,w(k),k=-1),p=!0;var $=m;try{for(v(T),f=n(l);f!==null&&(!(f.expirationTime>T)||P&&!U());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var H=G(f.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),v(T)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var Q=n(u);Q!==null&&W(_,Q.startTime-T),J=!1}return J}finally{f=null,m=$,p=!1}}var E=!1,C=null,k=-1,j=5,N=-1;function U(){return!(e.unstable_now()-N<j)}function A(){if(C!==null){var P=e.unstable_now();N=P;var T=!0;try{T=C(!0,P)}finally{T?O():(E=!1,C=null)}}else E=!1}var O;if(typeof g=="function")O=function(){g(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,V=M.port2;M.port1.onmessage=A,O=function(){V.postMessage(null)}}else O=function(){x(A,0)};function F(P){C=P,E||(E=!0,O())}function W(P,T){k=x(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,F(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var $=m;m=T;try{return P()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=m;m=P;try{return T()}finally{m=$}},e.unstable_scheduleCallback=function(P,T,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,P={id:d++,callback:T,priorityLevel:P,startTime:$,expirationTime:H,sortIndex:-1},$>G?(P.sortIndex=$,t(u,P),n(l)===null&&P===n(u)&&(y?(w(k),k=-1):y=!0,W(_,$-G))):(P.sortIndex=H,t(l,P),b||p||(b=!0,F(S))),P},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(P){var T=m;return function(){var $=m;m=T;try{return P.apply(this,arguments)}finally{m=$}}}})(Yv);Gv.exports=Yv;var lE=Gv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=h,jt=lE;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qv=new Set,Da={};function Es(e,t){Po(e,t),Po(e+"Capture",t)}function Po(e,t){for(Da[e]=t,e=0;e<t.length;e++)Qv.add(t[e])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=Object.prototype.hasOwnProperty,uE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jp={},Zp={};function dE(e){return cd.call(Zp,e)?!0:cd.call(Jp,e)?!1:uE.test(e)?Zp[e]=!0:(Jp[e]=!0,!1)}function fE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hE(e,t,n,r){if(t===null||typeof t>"u"||fE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var qf=/[\-:]([a-z])/g;function Kf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qf,Kf);Xe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qf,Kf);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qf,Kf);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gf(e,t,n,r){var s=Xe.hasOwnProperty(t)?Xe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hE(t,n,s,r)&&(n=null),r||s===null?dE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kn=cE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),Xv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),Zv=Symbol.for("react.offscreen"),em=Symbol.iterator;function ra(e){return e===null||typeof e!="object"?null:(e=em&&e[em]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,du;function pa(e){if(du===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);du=t&&t[1]||""}return`
`+du+e}var fu=!1;function hu(e,t){if(!e||fu)return"";fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,i=o.length-1;1<=a&&0<=i&&s[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==o[i]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=i);break}}}finally{fu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pa(e):""}function pE(e){switch(e.tag){case 5:return pa(e.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return e=hu(e.type,!1),e;case 11:return e=hu(e.type.render,!1),e;case 1:return e=hu(e.type,!0),e;default:return""}}function hd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qs:return"Fragment";case Ys:return"Portal";case ud:return"Profiler";case Yf:return"StrictMode";case dd:return"Suspense";case fd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jv:return(e.displayName||"Context")+".Consumer";case Xv:return(e._context.displayName||"Context")+".Provider";case Qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xf:return t=e.displayName||null,t!==null?t:hd(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return hd(e(t))}catch{}}return null}function mE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hd(t);case 8:return t===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ey(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gE(e){var t=ey(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ni(e){e._valueTracker||(e._valueTracker=gE(e))}function ty(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ey(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pd(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ny(e,t){t=t.checked,t!=null&&Gf(e,"checked",t,!1)}function md(e,t){ny(e,t);var n=Pr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gd(e,t.type,n):t.hasOwnProperty("defaultValue")&&gd(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gd(e,t,n){(t!=="number"||Cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ma=Array.isArray;function io(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ma(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pr(n)}}function ry(e,t){var n=Pr(t.value),r=Pr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,oy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vE=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(e){vE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ba[t]=ba[e]})});function ay(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ba.hasOwnProperty(e)&&ba[e]?(""+t).trim():t+"px"}function iy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ay(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var yE=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wd(e,t){if(t){if(yE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function xd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=null;function Jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _d=null,lo=null,co=null;function om(e){if(e=pi(e)){if(typeof _d!="function")throw Error(D(280));var t=e.stateNode;t&&(t=vc(t),_d(e.stateNode,e.type,t))}}function ly(e){lo?co?co.push(e):co=[e]:lo=e}function cy(){if(lo){var e=lo,t=co;if(co=lo=null,om(e),t)for(e=0;e<t.length;e++)om(t[e])}}function uy(e,t){return e(t)}function dy(){}var pu=!1;function fy(e,t,n){if(pu)return e(t,n);pu=!0;try{return uy(e,t,n)}finally{pu=!1,(lo!==null||co!==null)&&(dy(),cy())}}function $a(e,t){var n=e.stateNode;if(n===null)return null;var r=vc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Sd=!1;if(zn)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Sd=!1}function wE(e,t,n,r,s,o,a,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _a=!1,kl=null,jl=!1,Ed=null,xE={onError:function(e){_a=!0,kl=e}};function bE(e,t,n,r,s,o,a,i,l){_a=!1,kl=null,wE.apply(xE,arguments)}function _E(e,t,n,r,s,o,a,i,l){if(bE.apply(this,arguments),_a){if(_a){var u=kl;_a=!1,kl=null}else throw Error(D(198));jl||(jl=!0,Ed=u)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function am(e){if(Cs(e)!==e)throw Error(D(188))}function SE(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return am(s),e;if(o===r)return am(s),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=o;break}if(i===r){a=!0,r=s,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=s;break}if(i===r){a=!0,r=o,n=s;break}i=i.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function py(e){return e=SE(e),e!==null?my(e):null}function my(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=my(e);if(t!==null)return t;e=e.sibling}return null}var gy=jt.unstable_scheduleCallback,im=jt.unstable_cancelCallback,EE=jt.unstable_shouldYield,CE=jt.unstable_requestPaint,Me=jt.unstable_now,kE=jt.unstable_getCurrentPriorityLevel,Zf=jt.unstable_ImmediatePriority,vy=jt.unstable_UserBlockingPriority,Tl=jt.unstable_NormalPriority,jE=jt.unstable_LowPriority,yy=jt.unstable_IdlePriority,hc=null,Sn=null;function TE(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(hc,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:RE,PE=Math.log,NE=Math.LN2;function RE(e){return e>>>=0,e===0?32:31-(PE(e)/NE|0)|0}var Ai=64,Oi=4194304;function ga(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=ga(i):(o&=a,o!==0&&(r=ga(o)))}else a=n&~s,a!==0?r=ga(a):o!==0&&(r=ga(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rn(t),s=1<<n,r|=e[n],t&=~s;return r}function AE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-rn(o),i=1<<a,l=s[a];l===-1?(!(i&n)||i&r)&&(s[a]=AE(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}function Cd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wy(){var e=Ai;return Ai<<=1,!(Ai&4194240)&&(Ai=64),e}function mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=n}function ME(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function eh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ye=0;function xy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var by,th,_y,Sy,Ey,kd=!1,Mi=[],xr=null,br=null,_r=null,La=new Map,Fa=new Map,cr=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lm(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(t.pointerId)}}function oa(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=pi(t),t!==null&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function IE(e,t,n,r,s){switch(t){case"focusin":return xr=oa(xr,e,t,n,r,s),!0;case"dragenter":return br=oa(br,e,t,n,r,s),!0;case"mouseover":return _r=oa(_r,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return La.set(o,oa(La.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Fa.set(o,oa(Fa.get(o)||null,e,t,n,r,s)),!0}return!1}function Cy(e){var t=Jr(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=hy(n),t!==null){e.blockedOn=t,Ey(e.priority,function(){_y(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bd=r,n.target.dispatchEvent(r),bd=null}else return t=pi(n),t!==null&&th(t),e.blockedOn=n,!1;t.shift()}return!0}function cm(e,t,n){al(e)&&n.delete(t)}function $E(){kd=!1,xr!==null&&al(xr)&&(xr=null),br!==null&&al(br)&&(br=null),_r!==null&&al(_r)&&(_r=null),La.forEach(cm),Fa.forEach(cm)}function aa(e,t){e.blockedOn===t&&(e.blockedOn=null,kd||(kd=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,$E)))}function Ua(e){function t(s){return aa(s,e)}if(0<Mi.length){aa(Mi[0],e);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xr!==null&&aa(xr,e),br!==null&&aa(br,e),_r!==null&&aa(_r,e),La.forEach(t),Fa.forEach(t),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Cy(n),n.blockedOn===null&&cr.shift()}var uo=Kn.ReactCurrentBatchConfig,Nl=!0;function LE(e,t,n,r){var s=ye,o=uo.transition;uo.transition=null;try{ye=1,nh(e,t,n,r)}finally{ye=s,uo.transition=o}}function FE(e,t,n,r){var s=ye,o=uo.transition;uo.transition=null;try{ye=4,nh(e,t,n,r)}finally{ye=s,uo.transition=o}}function nh(e,t,n,r){if(Nl){var s=jd(e,t,n,r);if(s===null)Cu(e,t,r,Rl,n),lm(e,r);else if(IE(s,e,t,n,r))r.stopPropagation();else if(lm(e,r),t&4&&-1<DE.indexOf(e)){for(;s!==null;){var o=pi(s);if(o!==null&&by(o),o=jd(e,t,n,r),o===null&&Cu(e,t,r,Rl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Cu(e,t,r,null,n)}}var Rl=null;function jd(e,t,n,r){if(Rl=null,e=Jf(r),e=Jr(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rl=e,null}function ky(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kE()){case Zf:return 1;case vy:return 4;case Tl:case jE:return 16;case yy:return 536870912;default:return 16}default:return 16}}var vr=null,rh=null,il=null;function jy(){if(il)return il;var e,t=rh,n=t.length,r,s="value"in vr?vr.value:vr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return il=s.slice(e,1<r?1-r:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function um(){return!1}function Pt(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Di:um,this.isPropagationStopped=um,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=Pt(Wo),hi=Pe({},Wo,{view:0,detail:0}),UE=Pt(hi),gu,vu,ia,pc=Pe({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(gu=e.screenX-ia.screenX,vu=e.screenY-ia.screenY):vu=gu=0,ia=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),dm=Pt(pc),zE=Pe({},pc,{dataTransfer:0}),BE=Pt(zE),WE=Pe({},hi,{relatedTarget:0}),yu=Pt(WE),VE=Pe({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),HE=Pt(VE),qE=Pe({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KE=Pt(qE),GE=Pe({},Wo,{data:0}),fm=Pt(GE),YE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XE[e])?!!t[e]:!1}function oh(){return JE}var ZE=Pe({},hi,{key:function(e){if(e.key){var t=YE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eC=Pt(ZE),tC=Pe({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=Pt(tC),nC=Pe({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),rC=Pt(nC),sC=Pe({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oC=Pt(sC),aC=Pe({},pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iC=Pt(aC),lC=[9,13,27,32],ah=zn&&"CompositionEvent"in window,Sa=null;zn&&"documentMode"in document&&(Sa=document.documentMode);var cC=zn&&"TextEvent"in window&&!Sa,Ty=zn&&(!ah||Sa&&8<Sa&&11>=Sa),pm=" ",mm=!1;function Py(e,t){switch(e){case"keyup":return lC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xs=!1;function uC(e,t){switch(e){case"compositionend":return Ny(t);case"keypress":return t.which!==32?null:(mm=!0,pm);case"textInput":return e=t.data,e===pm&&mm?null:e;default:return null}}function dC(e,t){if(Xs)return e==="compositionend"||!ah&&Py(e,t)?(e=jy(),il=rh=vr=null,Xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ty&&t.locale!=="ko"?null:t.data;default:return null}}var fC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fC[e.type]:t==="textarea"}function Ry(e,t,n,r){ly(r),t=Al(t,"onChange"),0<t.length&&(n=new sh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ea=null,za=null;function hC(e){By(e,0)}function mc(e){var t=eo(e);if(ty(t))return e}function pC(e,t){if(e==="change")return t}var Ay=!1;if(zn){var wu;if(zn){var xu="oninput"in document;if(!xu){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),xu=typeof vm.oninput=="function"}wu=xu}else wu=!1;Ay=wu&&(!document.documentMode||9<document.documentMode)}function ym(){Ea&&(Ea.detachEvent("onpropertychange",Oy),za=Ea=null)}function Oy(e){if(e.propertyName==="value"&&mc(za)){var t=[];Ry(t,za,e,Jf(e)),fy(hC,t)}}function mC(e,t,n){e==="focusin"?(ym(),Ea=t,za=n,Ea.attachEvent("onpropertychange",Oy)):e==="focusout"&&ym()}function gC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mc(za)}function vC(e,t){if(e==="click")return mc(t)}function yC(e,t){if(e==="input"||e==="change")return mc(t)}function wC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:wC;function Ba(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cd.call(t,s)||!on(e[s],t[s]))return!1}return!0}function wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xm(e,t){var n=wm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wm(n)}}function My(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?My(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dy(){for(var e=window,t=Cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cl(e.document)}return t}function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xC(e){var t=Dy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&My(n.ownerDocument.documentElement,n)){if(r!==null&&ih(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=xm(n,o);var a=xm(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bC=zn&&"documentMode"in document&&11>=document.documentMode,Js=null,Td=null,Ca=null,Pd=!1;function bm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pd||Js==null||Js!==Cl(r)||(r=Js,"selectionStart"in r&&ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Ba(Ca,r)||(Ca=r,r=Al(Td,"onSelect"),0<r.length&&(t=new sh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Js)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zs={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},bu={},Iy={};zn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function gc(e){if(bu[e])return bu[e];if(!Zs[e])return e;var t=Zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Iy)return bu[e]=t[n];return e}var $y=gc("animationend"),Ly=gc("animationiteration"),Fy=gc("animationstart"),Uy=gc("transitionend"),zy=new Map,_m="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){zy.set(e,t),Es(t,[e])}for(var _u=0;_u<_m.length;_u++){var Su=_m[_u],_C=Su.toLowerCase(),SC=Su[0].toUpperCase()+Su.slice(1);Or(_C,"on"+SC)}Or($y,"onAnimationEnd");Or(Ly,"onAnimationIteration");Or(Fy,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(Uy,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EC=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Sm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_E(r,t,void 0,e),e.currentTarget=null}function By(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&s.isPropagationStopped())break e;Sm(s,i,u),o=l}else for(a=0;a<r.length;a++){if(i=r[a],l=i.instance,u=i.currentTarget,i=i.listener,l!==o&&s.isPropagationStopped())break e;Sm(s,i,u),o=l}}}if(jl)throw e=Ed,jl=!1,Ed=null,e}function Se(e,t){var n=t[Md];n===void 0&&(n=t[Md]=new Set);var r=e+"__bubble";n.has(r)||(Wy(t,e,2,!1),n.add(r))}function Eu(e,t,n){var r=0;t&&(r|=4),Wy(n,e,r,t)}var $i="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[$i]){e[$i]=!0,Qv.forEach(function(n){n!=="selectionchange"&&(EC.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$i]||(t[$i]=!0,Eu("selectionchange",!1,t))}}function Wy(e,t,n,r){switch(ky(t)){case 1:var s=LE;break;case 4:s=FE;break;default:s=nh}n=s.bind(null,t,n,e),s=void 0,!Sd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Cu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;i!==null;){if(a=Jr(i),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}i=i.parentNode}}r=r.return}fy(function(){var u=o,d=Jf(n),f=[];e:{var m=zy.get(e);if(m!==void 0){var p=sh,b=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":p=eC;break;case"focusin":b="focus",p=yu;break;case"focusout":b="blur",p=yu;break;case"beforeblur":case"afterblur":p=yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rC;break;case $y:case Ly:case Fy:p=HE;break;case Uy:p=oC;break;case"scroll":p=UE;break;case"wheel":p=iC;break;case"copy":case"cut":case"paste":p=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hm}var y=(t&4)!==0,x=!y&&e==="scroll",w=y?m!==null?m+"Capture":null:m;y=[];for(var g=u,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,w!==null&&(_=$a(g,w),_!=null&&y.push(Va(g,_,v)))),x)break;g=g.return}0<y.length&&(m=new p(m,b,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==bd&&(b=n.relatedTarget||n.fromElement)&&(Jr(b)||b[Bn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?Jr(b):null,b!==null&&(x=Cs(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(y=dm,_="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=hm,_="onPointerLeave",w="onPointerEnter",g="pointer"),x=p==null?m:eo(p),v=b==null?m:eo(b),m=new y(_,g+"leave",p,n,d),m.target=x,m.relatedTarget=v,_=null,Jr(d)===u&&(y=new y(w,g+"enter",b,n,d),y.target=v,y.relatedTarget=x,_=y),x=_,p&&b)t:{for(y=p,w=b,g=0,v=y;v;v=Ds(v))g++;for(v=0,_=w;_;_=Ds(_))v++;for(;0<g-v;)y=Ds(y),g--;for(;0<v-g;)w=Ds(w),v--;for(;g--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ds(y),w=Ds(w)}y=null}else y=null;p!==null&&Em(f,m,p,y,!1),b!==null&&x!==null&&Em(f,x,b,y,!0)}}e:{if(m=u?eo(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=pC;else if(gm(m))if(Ay)S=yC;else{S=gC;var E=mC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=vC);if(S&&(S=S(e,u))){Ry(f,S,n,d);break e}E&&E(e,m,u),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&gd(m,"number",m.value)}switch(E=u?eo(u):window,e){case"focusin":(gm(E)||E.contentEditable==="true")&&(Js=E,Td=u,Ca=null);break;case"focusout":Ca=Td=Js=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,bm(f,n,d);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":bm(f,n,d)}var C;if(ah)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xs?Py(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ty&&n.locale!=="ko"&&(Xs||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xs&&(C=jy()):(vr=d,rh="value"in vr?vr.value:vr.textContent,Xs=!0)),E=Al(u,k),0<E.length&&(k=new fm(k,e,null,n,d),f.push({event:k,listeners:E}),C?k.data=C:(C=Ny(n),C!==null&&(k.data=C)))),(C=cC?uC(e,n):dC(e,n))&&(u=Al(u,"onBeforeInput"),0<u.length&&(d=new fm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}By(f,t)})}function Va(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Al(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=$a(e,n),o!=null&&r.unshift(Va(e,o,s)),o=$a(e,t),o!=null&&r.push(Va(e,o,s))),e=e.return}return r}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Em(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(l!==null&&l===r)break;i.tag===5&&u!==null&&(i=u,s?(l=$a(n,o),l!=null&&a.unshift(Va(n,l,i))):s||(l=$a(n,o),l!=null&&a.push(Va(n,l,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var CC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(CC,`
`).replace(kC,"")}function Li(e,t,n){if(t=Cm(t),Cm(e)!==t&&n)throw Error(D(425))}function Ol(){}var Nd=null,Rd=null;function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(e){return km.resolve(null).then(e).catch(PC)}:Od;function PC(e){setTimeout(function(){throw e})}function ku(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ua(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ua(t)}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),yn="__reactFiber$"+Vo,Ha="__reactProps$"+Vo,Bn="__reactContainer$"+Vo,Md="__reactEvents$"+Vo,NC="__reactListeners$"+Vo,RC="__reactHandles$"+Vo;function Jr(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bn]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jm(e);e!==null;){if(n=e[yn])return n;e=jm(e)}return t}e=n,n=e.parentNode}return null}function pi(e){return e=e[yn]||e[Bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function vc(e){return e[Ha]||null}var Dd=[],to=-1;function Mr(e){return{current:e}}function Ee(e){0>to||(e.current=Dd[to],Dd[to]=null,to--)}function be(e,t){to++,Dd[to]=e.current,e.current=t}var Nr={},rt=Mr(Nr),wt=Mr(!1),cs=Nr;function No(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function Ml(){Ee(wt),Ee(rt)}function Tm(e,t,n){if(rt.current!==Nr)throw Error(D(168));be(rt,t),be(wt,n)}function Vy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,mE(e)||"Unknown",s));return Pe({},n,r)}function Dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,cs=rt.current,be(rt,e),be(wt,wt.current),!0}function Pm(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Vy(e,t,cs),r.__reactInternalMemoizedMergedChildContext=e,Ee(wt),Ee(rt),be(rt,e)):Ee(wt),be(wt,n)}var In=null,yc=!1,ju=!1;function Hy(e){In===null?In=[e]:In.push(e)}function AC(e){yc=!0,Hy(e)}function Dr(){if(!ju&&In!==null){ju=!0;var e=0,t=ye;try{var n=In;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}In=null,yc=!1}catch(s){throw In!==null&&(In=In.slice(e+1)),gy(Zf,Dr),s}finally{ye=t,ju=!1}}return null}var no=[],ro=0,Il=null,$l=0,Ot=[],Mt=0,us=null,Ln=1,Fn="";function Kr(e,t){no[ro++]=$l,no[ro++]=Il,Il=e,$l=t}function qy(e,t,n){Ot[Mt++]=Ln,Ot[Mt++]=Fn,Ot[Mt++]=us,us=e;var r=Ln;e=Fn;var s=32-rn(r)-1;r&=~(1<<s),n+=1;var o=32-rn(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ln=1<<32-rn(t)+s|n<<s|r,Fn=o+e}else Ln=1<<o|n<<s|r,Fn=e}function lh(e){e.return!==null&&(Kr(e,1),qy(e,1,0))}function ch(e){for(;e===Il;)Il=no[--ro],no[ro]=null,$l=no[--ro],no[ro]=null;for(;e===us;)us=Ot[--Mt],Ot[Mt]=null,Fn=Ot[--Mt],Ot[Mt]=null,Ln=Ot[--Mt],Ot[Mt]=null}var Ct=null,Et=null,ke=!1,nn=null;function Ky(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,Et=Sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=us!==null?{id:Ln,overflow:Fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,Et=null,!0):!1;default:return!1}}function Id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $d(e){if(ke){var t=Et;if(t){var n=t;if(!Nm(e,t)){if(Id(e))throw Error(D(418));t=Sr(n.nextSibling);var r=Ct;t&&Nm(e,t)?Ky(r,n):(e.flags=e.flags&-4097|2,ke=!1,Ct=e)}}else{if(Id(e))throw Error(D(418));e.flags=e.flags&-4097|2,ke=!1,Ct=e}}}function Rm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Fi(e){if(e!==Ct)return!1;if(!ke)return Rm(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ad(e.type,e.memoizedProps)),t&&(t=Et)){if(Id(e))throw Gy(),Error(D(418));for(;t;)Ky(e,t),t=Sr(t.nextSibling)}if(Rm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=Sr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Ct?Sr(e.stateNode.nextSibling):null;return!0}function Gy(){for(var e=Et;e;)e=Sr(e.nextSibling)}function Ro(){Et=Ct=null,ke=!1}function uh(e){nn===null?nn=[e]:nn.push(e)}var OC=Kn.ReactCurrentBatchConfig;function la(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=s.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ui(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Am(e){var t=e._init;return t(e._payload)}function Yy(e){function t(w,g){if(e){var v=w.deletions;v===null?(w.deletions=[g],w.flags|=16):v.push(g)}}function n(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=jr(w,g),w.index=0,w.sibling=null,w}function o(w,g,v){return w.index=v,e?(v=w.alternate,v!==null?(v=v.index,v<g?(w.flags|=2,g):v):(w.flags|=2,g)):(w.flags|=1048576,g)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function i(w,g,v,_){return g===null||g.tag!==6?(g=Mu(v,w.mode,_),g.return=w,g):(g=s(g,v),g.return=w,g)}function l(w,g,v,_){var S=v.type;return S===Qs?d(w,g,v.props.children,_,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ir&&Am(S)===g.type)?(_=s(g,v.props),_.ref=la(w,g,v),_.return=w,_):(_=ml(v.type,v.key,v.props,null,w.mode,_),_.ref=la(w,g,v),_.return=w,_)}function u(w,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Du(v,w.mode,_),g.return=w,g):(g=s(g,v.children||[]),g.return=w,g)}function d(w,g,v,_,S){return g===null||g.tag!==7?(g=ls(v,w.mode,_,S),g.return=w,g):(g=s(g,v),g.return=w,g)}function f(w,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Mu(""+g,w.mode,v),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pi:return v=ml(g.type,g.key,g.props,null,w.mode,v),v.ref=la(w,null,g),v.return=w,v;case Ys:return g=Du(g,w.mode,v),g.return=w,g;case ir:var _=g._init;return f(w,_(g._payload),v)}if(ma(g)||ra(g))return g=ls(g,w.mode,v,null),g.return=w,g;Ui(w,g)}return null}function m(w,g,v,_){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:i(w,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pi:return v.key===S?l(w,g,v,_):null;case Ys:return v.key===S?u(w,g,v,_):null;case ir:return S=v._init,m(w,g,S(v._payload),_)}if(ma(v)||ra(v))return S!==null?null:d(w,g,v,_,null);Ui(w,v)}return null}function p(w,g,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(v)||null,i(g,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pi:return w=w.get(_.key===null?v:_.key)||null,l(g,w,_,S);case Ys:return w=w.get(_.key===null?v:_.key)||null,u(g,w,_,S);case ir:var E=_._init;return p(w,g,v,E(_._payload),S)}if(ma(_)||ra(_))return w=w.get(v)||null,d(g,w,_,S,null);Ui(g,_)}return null}function b(w,g,v,_){for(var S=null,E=null,C=g,k=g=0,j=null;C!==null&&k<v.length;k++){C.index>k?(j=C,C=null):j=C.sibling;var N=m(w,C,v[k],_);if(N===null){C===null&&(C=j);break}e&&C&&N.alternate===null&&t(w,C),g=o(N,g,k),E===null?S=N:E.sibling=N,E=N,C=j}if(k===v.length)return n(w,C),ke&&Kr(w,k),S;if(C===null){for(;k<v.length;k++)C=f(w,v[k],_),C!==null&&(g=o(C,g,k),E===null?S=C:E.sibling=C,E=C);return ke&&Kr(w,k),S}for(C=r(w,C);k<v.length;k++)j=p(C,w,k,v[k],_),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?k:j.key),g=o(j,g,k),E===null?S=j:E.sibling=j,E=j);return e&&C.forEach(function(U){return t(w,U)}),ke&&Kr(w,k),S}function y(w,g,v,_){var S=ra(v);if(typeof S!="function")throw Error(D(150));if(v=S.call(v),v==null)throw Error(D(151));for(var E=S=null,C=g,k=g=0,j=null,N=v.next();C!==null&&!N.done;k++,N=v.next()){C.index>k?(j=C,C=null):j=C.sibling;var U=m(w,C,N.value,_);if(U===null){C===null&&(C=j);break}e&&C&&U.alternate===null&&t(w,C),g=o(U,g,k),E===null?S=U:E.sibling=U,E=U,C=j}if(N.done)return n(w,C),ke&&Kr(w,k),S;if(C===null){for(;!N.done;k++,N=v.next())N=f(w,N.value,_),N!==null&&(g=o(N,g,k),E===null?S=N:E.sibling=N,E=N);return ke&&Kr(w,k),S}for(C=r(w,C);!N.done;k++,N=v.next())N=p(C,w,k,N.value,_),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),g=o(N,g,k),E===null?S=N:E.sibling=N,E=N);return e&&C.forEach(function(A){return t(w,A)}),ke&&Kr(w,k),S}function x(w,g,v,_){if(typeof v=="object"&&v!==null&&v.type===Qs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pi:e:{for(var S=v.key,E=g;E!==null;){if(E.key===S){if(S=v.type,S===Qs){if(E.tag===7){n(w,E.sibling),g=s(E,v.props.children),g.return=w,w=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ir&&Am(S)===E.type){n(w,E.sibling),g=s(E,v.props),g.ref=la(w,E,v),g.return=w,w=g;break e}n(w,E);break}else t(w,E);E=E.sibling}v.type===Qs?(g=ls(v.props.children,w.mode,_,v.key),g.return=w,w=g):(_=ml(v.type,v.key,v.props,null,w.mode,_),_.ref=la(w,g,v),_.return=w,w=_)}return a(w);case Ys:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(w,g.sibling),g=s(g,v.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else t(w,g);g=g.sibling}g=Du(v,w.mode,_),g.return=w,w=g}return a(w);case ir:return E=v._init,x(w,g,E(v._payload),_)}if(ma(v))return b(w,g,v,_);if(ra(v))return y(w,g,v,_);Ui(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(w,g.sibling),g=s(g,v),g.return=w,w=g):(n(w,g),g=Mu(v,w.mode,_),g.return=w,w=g),a(w)):n(w,g)}return x}var Ao=Yy(!0),Qy=Yy(!1),Ll=Mr(null),Fl=null,so=null,dh=null;function fh(){dh=so=Fl=null}function hh(e){var t=Ll.current;Ee(Ll),e._currentValue=t}function Ld(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fo(e,t){Fl=e,dh=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(dh!==e)if(e={context:e,memoizedValue:t,next:null},so===null){if(Fl===null)throw Error(D(308));so=e,Fl.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return t}var Zr=null;function ph(e){Zr===null?Zr=[e]:Zr.push(e)}function Xy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ph(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function mh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wn(e,n)}return s=r.interleaved,s===null?(t.next=t,ph(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wn(e,n)}function cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eh(e,n)}}function Om(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ul(e,t,n,r){var s=e.updateQueue;lr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var l=i,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==a&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;a=0,d=u=l=null,i=o;do{var m=i.lane,p=i.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,y=i;switch(m=t,p=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=Pe({},f,m);break e;case 2:lr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=m;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;m=i,i=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);fs|=a,e.lanes=a,e.memoizedState=f}}function Mm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var mi={},En=Mr(mi),qa=Mr(mi),Ka=Mr(mi);function es(e){if(e===mi)throw Error(D(174));return e}function gh(e,t){switch(be(Ka,t),be(qa,e),be(En,mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yd(t,e)}Ee(En),be(En,t)}function Oo(){Ee(En),Ee(qa),Ee(Ka)}function Zy(e){es(Ka.current);var t=es(En.current),n=yd(t,e.type);t!==n&&(be(qa,e),be(En,n))}function vh(e){qa.current===e&&(Ee(En),Ee(qa))}var je=Mr(0);function zl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tu=[];function yh(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var ul=Kn.ReactCurrentDispatcher,Pu=Kn.ReactCurrentBatchConfig,ds=0,Te=null,Be=null,He=null,Bl=!1,ka=!1,Ga=0,MC=0;function et(){throw Error(D(321))}function wh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function xh(e,t,n,r,s,o){if(ds=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?LC:FC,e=n(r,s),ka){o=0;do{if(ka=!1,Ga=0,25<=o)throw Error(D(301));o+=1,He=Be=null,t.updateQueue=null,ul.current=UC,e=n(r,s)}while(ka)}if(ul.current=Wl,t=Be!==null&&Be.next!==null,ds=0,He=Be=Te=null,Bl=!1,t)throw Error(D(300));return e}function bh(){var e=Ga!==0;return Ga=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Te.memoizedState=He=e:He=He.next=e,He}function zt(){if(Be===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?Te.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(D(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Te.memoizedState=He=e:He=He.next=e}return He}function Ya(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=zt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Be,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=a=null,l=null,u=o;do{var d=u.lane;if((ds&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(i=l=f,a=r):l=l.next=f,Te.lanes|=d,fs|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=i,on(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Te.lanes|=o,fs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ru(e){var t=zt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);on(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ew(){}function tw(e,t){var n=Te,r=zt(),s=t(),o=!on(r.memoizedState,s);if(o&&(r.memoizedState=s,yt=!0),r=r.queue,_h(sw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Qa(9,rw.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(D(349));ds&30||nw(n,t,s)}return s}function nw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rw(e,t,n,r){t.value=n,t.getSnapshot=r,ow(t)&&aw(e)}function sw(e,t,n){return n(function(){ow(t)&&aw(e)})}function ow(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function aw(e){var t=Wn(e,1);t!==null&&sn(t,e,1,-1)}function Dm(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=$C.bind(null,Te,e),[t.memoizedState,e]}function Qa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iw(){return zt().memoizedState}function dl(e,t,n,r){var s=hn();Te.flags|=e,s.memoizedState=Qa(1|t,n,void 0,r===void 0?null:r)}function wc(e,t,n,r){var s=zt();r=r===void 0?null:r;var o=void 0;if(Be!==null){var a=Be.memoizedState;if(o=a.destroy,r!==null&&wh(r,a.deps)){s.memoizedState=Qa(t,n,o,r);return}}Te.flags|=e,s.memoizedState=Qa(1|t,n,o,r)}function Im(e,t){return dl(8390656,8,e,t)}function _h(e,t){return wc(2048,8,e,t)}function lw(e,t){return wc(4,2,e,t)}function cw(e,t){return wc(4,4,e,t)}function uw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dw(e,t,n){return n=n!=null?n.concat([e]):null,wc(4,4,uw.bind(null,t,e),n)}function Sh(){}function fw(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hw(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pw(e,t,n){return ds&21?(on(n,t)||(n=wy(),Te.lanes|=n,fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function DC(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=Pu.transition;Pu.transition={};try{e(!1),t()}finally{ye=n,Pu.transition=r}}function mw(){return zt().memoizedState}function IC(e,t,n){var r=kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gw(e))vw(t,n);else if(n=Xy(e,t,n,r),n!==null){var s=ct();sn(n,e,r,s),yw(n,t,r)}}function $C(e,t,n){var r=kr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gw(e))vw(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(s.hasEagerState=!0,s.eagerState=i,on(i,a)){var l=t.interleaved;l===null?(s.next=s,ph(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Xy(e,t,s,r),n!==null&&(s=ct(),sn(n,e,r,s),yw(n,t,r))}}function gw(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function vw(e,t){ka=Bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eh(e,n)}}var Wl={readContext:Ut,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},LC={readContext:Ut,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Im,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dl(4194308,4,uw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=IC.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Dm,useDebugValue:Sh,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Dm(!1),t=e[0];return e=DC.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,s=hn();if(ke){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ke===null)throw Error(D(349));ds&30||nw(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Im(sw.bind(null,r,o,e),[e]),r.flags|=2048,Qa(9,rw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=hn(),t=Ke.identifierPrefix;if(ke){var n=Fn,r=Ln;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ga++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=MC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FC={readContext:Ut,useCallback:fw,useContext:Ut,useEffect:_h,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:hw,useReducer:Nu,useRef:iw,useState:function(){return Nu(Ya)},useDebugValue:Sh,useDeferredValue:function(e){var t=zt();return pw(t,Be.memoizedState,e)},useTransition:function(){var e=Nu(Ya)[0],t=zt().memoizedState;return[e,t]},useMutableSource:ew,useSyncExternalStore:tw,useId:mw,unstable_isNewReconciler:!1},UC={readContext:Ut,useCallback:fw,useContext:Ut,useEffect:_h,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:hw,useReducer:Ru,useRef:iw,useState:function(){return Ru(Ya)},useDebugValue:Sh,useDeferredValue:function(e){var t=zt();return Be===null?t.memoizedState=e:pw(t,Be.memoizedState,e)},useTransition:function(){var e=Ru(Ya)[0],t=zt().memoizedState;return[e,t]},useMutableSource:ew,useSyncExternalStore:tw,useId:mw,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xc={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),s=kr(e),o=Un(r,s);o.payload=t,n!=null&&(o.callback=n),t=Er(e,o,s),t!==null&&(sn(t,e,s,r),cl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),s=kr(e),o=Un(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Er(e,o,s),t!==null&&(sn(t,e,s,r),cl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=kr(e),s=Un(n,r);s.tag=2,t!=null&&(s.callback=t),t=Er(e,s,r),t!==null&&(sn(t,e,r,n),cl(t,e,r))}};function $m(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,o):!0}function ww(e,t,n){var r=!1,s=Nr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(s=xt(t)?cs:rt.current,r=t.contextTypes,o=(r=r!=null)?No(e,s):Nr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xc.enqueueReplaceState(t,t.state,null)}function Ud(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},mh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ut(o):(o=xt(t)?cs:rt.current,s.context=No(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xc.enqueueReplaceState(s,s.state,null),Ul(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var n="",r=t;do n+=pE(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zC=typeof WeakMap=="function"?WeakMap:Map;function xw(e,t,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Xd=r),zd(e,t)},n}function bw(e,t,n){n=Un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zd(e,t),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Fm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=tk.bind(null,e,t,n),t.then(e,e))}function Um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Un(-1,1),t.tag=2,Er(n,t,1))),n.lanes|=1),e)}var BC=Kn.ReactCurrentOwner,yt=!1;function at(e,t,n,r){t.child=e===null?Qy(t,null,n,r):Ao(t,e.child,n,r)}function Bm(e,t,n,r,s){n=n.render;var o=t.ref;return fo(t,s),r=xh(e,t,n,r,o,s),n=bh(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(ke&&n&&lh(t),t.flags|=1,at(e,t,r,s),t.child)}function Wm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Rh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,_w(e,t,o,r,s)):(e=ml(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(a,r)&&e.ref===t.ref)return Vn(e,t,s)}return t.flags|=1,e=jr(o,r),e.ref=t.ref,e.return=t,t.child=e}function _w(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ba(o,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Vn(e,t,s)}return Bd(e,t,n,r,s)}function Sw(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(ao,_t),_t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(ao,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,be(ao,_t),_t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,be(ao,_t),_t|=r;return at(e,t,s,n),t.child}function Ew(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bd(e,t,n,r,s){var o=xt(n)?cs:rt.current;return o=No(t,o),fo(t,s),n=xh(e,t,n,r,o,s),r=bh(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(ke&&r&&lh(t),t.flags|=1,at(e,t,n,s),t.child)}function Vm(e,t,n,r,s){if(xt(n)){var o=!0;Dl(t)}else o=!1;if(fo(t,s),t.stateNode===null)fl(e,t),ww(t,n,r),Ud(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ut(u):(u=xt(n)?cs:rt.current,u=No(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||l!==u)&&Lm(t,a,r,u),lr=!1;var m=t.memoizedState;a.state=m,Ul(t,r,a,s),l=t.memoizedState,i!==r||m!==l||wt.current||lr?(typeof d=="function"&&(Fd(t,n,d,r),l=t.memoizedState),(i=lr||$m(t,n,i,r,m,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Jy(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Qt(t.type,i),a.props=u,f=t.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ut(l):(l=xt(n)?cs:rt.current,l=No(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||m!==l)&&Lm(t,a,r,l),lr=!1,m=t.memoizedState,a.state=m,Ul(t,r,a,s);var b=t.memoizedState;i!==f||m!==b||wt.current||lr?(typeof p=="function"&&(Fd(t,n,p,r),b=t.memoizedState),(u=lr||$m(t,n,u,r,m,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Wd(e,t,n,r,o,s)}function Wd(e,t,n,r,s,o){Ew(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Pm(t,n,!1),Vn(e,t,o);r=t.stateNode,BC.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,i,o)):at(e,t,i,o),t.memoizedState=r.state,s&&Pm(t,n,!0),t.child}function Cw(e){var t=e.stateNode;t.pendingContext?Tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tm(e,t.context,!1),gh(e,t.containerInfo)}function Hm(e,t,n,r,s){return Ro(),uh(s),t.flags|=256,at(e,t,n,r),t.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Hd(e){return{baseLanes:e,cachePool:null,transitions:null}}function kw(e,t,n){var r=t.pendingProps,s=je.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(je,s&1),e===null)return $d(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Sc(a,r,0,null),e=ls(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hd(n),t.memoizedState=Vd,e):Eh(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return WC(e,t,a,r,i,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,i=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=jr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=jr(i,o):(o=ls(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Hd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Vd,r}return o=e.child,e=o.sibling,r=jr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eh(e,t){return t=Sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&uh(r),Ao(t,e.child,null,n),e=Eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WC(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Au(Error(D(422))),zi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Sc({mode:"visible",children:r.children},s,0,null),o=ls(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ao(t,e.child,null,a),t.child.memoizedState=Hd(a),t.memoizedState=Vd,o);if(!(t.mode&1))return zi(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(D(419)),r=Au(o,r,void 0),zi(e,t,a,r)}if(i=(a&e.childLanes)!==0,yt||i){if(r=Ke,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Wn(e,s),sn(r,e,s,-1))}return Nh(),r=Au(Error(D(421))),zi(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Et=Sr(s.nextSibling),Ct=t,ke=!0,nn=null,e!==null&&(Ot[Mt++]=Ln,Ot[Mt++]=Fn,Ot[Mt++]=us,Ln=e.id,Fn=e.overflow,us=t),t=Eh(t,r.children),t.flags|=4096,t)}function qm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ld(e.return,t,n)}function Ou(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function jw(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(at(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qm(e,n,t);else if(e.tag===19)qm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(je,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&zl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ou(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ou(t,!0,n,null,o);break;case"together":Ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VC(e,t,n){switch(t.tag){case 3:Cw(t),Ro();break;case 5:Zy(t);break;case 1:xt(t.type)&&Dl(t);break;case 4:gh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;be(Ll,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?kw(e,t,n):(be(je,je.current&1),e=Vn(e,t,n),e!==null?e.sibling:null);be(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,Sw(e,t,n)}return Vn(e,t,n)}var Tw,qd,Pw,Nw;Tw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qd=function(){};Pw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,es(En.current);var o=null;switch(n){case"input":s=pd(e,s),r=pd(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=vd(e,s),r=vd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ol)}wd(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Da.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==i&&(l!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&i[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Da.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",e),o||i===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Nw=function(e,t,n,r){n!==r&&(t.flags|=4)};function ca(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function HC(e,t,n){var r=t.pendingProps;switch(ch(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return xt(t.type)&&Ml(),tt(t),null;case 3:return r=t.stateNode,Oo(),Ee(wt),Ee(rt),yh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(ef(nn),nn=null))),qd(e,t),tt(t),null;case 5:vh(t);var s=es(Ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Pw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return tt(t),null}if(e=es(En.current),Fi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[yn]=t,r[Ha]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<va.length;s++)Se(va[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":tm(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":rm(r,o),Se("invalid",r)}wd(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&Li(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&Li(r.textContent,i,e),s=["children",""+i]):Da.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Se("scroll",r)}switch(n){case"input":Ni(r),nm(r,o,!0);break;case"textarea":Ni(r),sm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ol)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[yn]=t,e[Ha]=r,Tw(e,t,!1,!1),t.stateNode=e;e:{switch(a=xd(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<va.length;s++)Se(va[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":tm(e,r),s=pd(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),Se("invalid",e);break;case"textarea":rm(e,r),s=vd(e,r),Se("invalid",e);break;default:s=r}wd(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="style"?iy(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oy(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ia(e,l):typeof l=="number"&&Ia(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Da.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Se("scroll",e):l!=null&&Gf(e,o,l,a))}switch(n){case"input":Ni(e),nm(e,r,!1);break;case"textarea":Ni(e),sm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?io(e,!!r.multiple,o,!1):r.defaultValue!=null&&io(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Nw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=es(Ka.current),es(En.current),Fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(o=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:Li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Li(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return tt(t),null;case 13:if(Ee(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Et!==null&&t.mode&1&&!(t.flags&128))Gy(),Ro(),t.flags|=98560,o=!1;else if(o=Fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[yn]=t}else Ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else nn!==null&&(ef(nn),nn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?We===0&&(We=3):Nh())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Oo(),qd(e,t),e===null&&Wa(t.stateNode.containerInfo),tt(t),null;case 10:return hh(t.type._context),tt(t),null;case 17:return xt(t.type)&&Ml(),tt(t),null;case 19:if(Ee(je),o=t.memoizedState,o===null)return tt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ca(o,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=zl(e),a!==null){for(t.flags|=128,ca(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Me()>Do&&(t.flags|=128,r=!0,ca(o,!1),t.lanes=4194304)}else{if(!r)if(e=zl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ca(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ke)return tt(t),null}else 2*Me()-o.renderingStartTime>Do&&n!==1073741824&&(t.flags|=128,r=!0,ca(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Me(),t.sibling=null,n=je.current,be(je,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return Ph(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function qC(e,t){switch(ch(t),t.tag){case 1:return xt(t.type)&&Ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oo(),Ee(wt),Ee(rt),yh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vh(t),null;case 13:if(Ee(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(je),null;case 4:return Oo(),null;case 10:return hh(t.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var Bi=!1,nt=!1,KC=typeof WeakSet=="function"?WeakSet:Set,q=null;function oo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Kd(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Km=!1;function GC(e,t){if(Nd=Nl,e=Dy(),ih(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,l=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(i=a+s),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(i=a),m===o&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rd={focusedElem:e,selectionRange:n},Nl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,x=b.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qt(t.type,y),x);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(_){Re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return b=Km,Km=!1,b}function ja(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Kd(t,n,o)}s=s.next}while(s!==r)}}function bc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rw(e){var t=e.alternate;t!==null&&(e.alternate=null,Rw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Ha],delete t[Md],delete t[NC],delete t[RC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Aw(e){return e.tag===5||e.tag===3||e.tag===4}function Gm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Aw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ol));else if(r!==4&&(e=e.child,e!==null))for(Yd(e,t,n),e=e.sibling;e!==null;)Yd(e,t,n),e=e.sibling}function Qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qd(e,t,n),e=e.sibling;e!==null;)Qd(e,t,n),e=e.sibling}var Ge=null,en=!1;function Zn(e,t,n){for(n=n.child;n!==null;)Ow(e,t,n),n=n.sibling}function Ow(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:nt||oo(n,t);case 6:var r=Ge,s=en;Ge=null,Zn(e,t,n),Ge=r,en=s,Ge!==null&&(en?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(en?(e=Ge,n=n.stateNode,e.nodeType===8?ku(e.parentNode,n):e.nodeType===1&&ku(e,n),Ua(e)):ku(Ge,n.stateNode));break;case 4:r=Ge,s=en,Ge=n.stateNode.containerInfo,en=!0,Zn(e,t,n),Ge=r,en=s;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Kd(n,t,a),s=s.next}while(s!==r)}Zn(e,t,n);break;case 1:if(!nt&&(oo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Re(n,t,i)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Zn(e,t,n),nt=r):Zn(e,t,n);break;default:Zn(e,t,n)}}function Ym(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new KC),t.forEach(function(r){var s=rk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ge=i.stateNode,en=!1;break e;case 3:Ge=i.stateNode.containerInfo,en=!0;break e;case 4:Ge=i.stateNode.containerInfo,en=!0;break e}i=i.return}if(Ge===null)throw Error(D(160));Ow(o,a,s),Ge=null,en=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mw(t,e),t=t.sibling}function Mw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),fn(e),r&4){try{ja(3,e,e.return),bc(3,e)}catch(y){Re(e,e.return,y)}try{ja(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:qt(t,e),fn(e),r&512&&n!==null&&oo(n,n.return);break;case 5:if(qt(t,e),fn(e),r&512&&n!==null&&oo(n,n.return),e.flags&32){var s=e.stateNode;try{Ia(s,"")}catch(y){Re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&ny(s,o),xd(i,a);var u=xd(i,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?iy(s,f):d==="dangerouslySetInnerHTML"?oy(s,f):d==="children"?Ia(s,f):Gf(s,d,f,u)}switch(i){case"input":md(s,o);break;case"textarea":ry(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?io(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?io(s,!!o.multiple,o.defaultValue,!0):io(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ha]=o}catch(y){Re(e,e.return,y)}}break;case 6:if(qt(t,e),fn(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Re(e,e.return,y)}}break;case 3:if(qt(t,e),fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ua(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:qt(t,e),fn(e);break;case 13:qt(t,e),fn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(jh=Me())),r&4&&Ym(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(u=nt)||d,qt(t,e),nt=u):qt(t,e),fn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(f=q=d;q!==null;){switch(m=q,p=m.child,m.tag){case 0:case 11:case 14:case 15:ja(4,m,m.return);break;case 1:oo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:oo(m,m.return);break;case 22:if(m.memoizedState!==null){Xm(f);continue}}p!==null?(p.return=m,q=p):Xm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=ay("display",a))}catch(y){Re(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Re(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(t,e),fn(e),r&4&&Ym(e);break;case 21:break;default:qt(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Aw(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ia(s,""),r.flags&=-33);var o=Gm(e);Qd(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Gm(e);Yd(e,i,a);break;default:throw Error(D(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YC(e,t,n){q=e,Dw(e)}function Dw(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Bi;if(!a){var i=s.alternate,l=i!==null&&i.memoizedState!==null||nt;i=Bi;var u=nt;if(Bi=a,(nt=l)&&!u)for(q=s;q!==null;)a=q,l=a.child,a.tag===22&&a.memoizedState!==null?Jm(s):l!==null?(l.return=a,q=l):Jm(s);for(;o!==null;)q=o,Dw(o),o=o.sibling;q=s,Bi=i,nt=u}Qm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,q=o):Qm(e)}}function Qm(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||bc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Mm(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mm(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ua(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}nt||t.flags&512&&Gd(t)}catch(m){Re(t,t.return,m)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Xm(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Jm(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bc(4,t)}catch(l){Re(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Re(t,s,l)}}var o=t.return;try{Gd(t)}catch(l){Re(t,o,l)}break;case 5:var a=t.return;try{Gd(t)}catch(l){Re(t,a,l)}}}catch(l){Re(t,t.return,l)}if(t===e){q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,q=i;break}q=t.return}}var QC=Math.ceil,Vl=Kn.ReactCurrentDispatcher,Ch=Kn.ReactCurrentOwner,$t=Kn.ReactCurrentBatchConfig,ce=0,Ke=null,Ie=null,Qe=0,_t=0,ao=Mr(0),We=0,Xa=null,fs=0,_c=0,kh=0,Ta=null,gt=null,jh=0,Do=1/0,Mn=null,Hl=!1,Xd=null,Cr=null,Wi=!1,yr=null,ql=0,Pa=0,Jd=null,hl=-1,pl=0;function ct(){return ce&6?Me():hl!==-1?hl:hl=Me()}function kr(e){return e.mode&1?ce&2&&Qe!==0?Qe&-Qe:OC.transition!==null?(pl===0&&(pl=wy()),pl):(e=ye,e!==0||(e=window.event,e=e===void 0?16:ky(e.type)),e):1}function sn(e,t,n,r){if(50<Pa)throw Pa=0,Jd=null,Error(D(185));fi(e,n,r),(!(ce&2)||e!==Ke)&&(e===Ke&&(!(ce&2)&&(_c|=n),We===4&&ur(e,Qe)),bt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Do=Me()+500,yc&&Dr()))}function bt(e,t){var n=e.callbackNode;OE(e,t);var r=Pl(e,e===Ke?Qe:0);if(r===0)n!==null&&im(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&im(n),t===1)e.tag===0?AC(Zm.bind(null,e)):Hy(Zm.bind(null,e)),TC(function(){!(ce&6)&&Dr()}),n=null;else{switch(xy(r)){case 1:n=Zf;break;case 4:n=vy;break;case 16:n=Tl;break;case 536870912:n=yy;break;default:n=Tl}n=Ww(n,Iw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iw(e,t){if(hl=-1,pl=0,ce&6)throw Error(D(327));var n=e.callbackNode;if(ho()&&e.callbackNode!==n)return null;var r=Pl(e,e===Ke?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kl(e,r);else{t=r;var s=ce;ce|=2;var o=Lw();(Ke!==e||Qe!==t)&&(Mn=null,Do=Me()+500,is(e,t));do try{ZC();break}catch(i){$w(e,i)}while(!0);fh(),Vl.current=o,ce=s,Ie!==null?t=0:(Ke=null,Qe=0,t=We)}if(t!==0){if(t===2&&(s=Cd(e),s!==0&&(r=s,t=Zd(e,s))),t===1)throw n=Xa,is(e,0),ur(e,r),bt(e,Me()),n;if(t===6)ur(e,r);else{if(s=e.current.alternate,!(r&30)&&!XC(s)&&(t=Kl(e,r),t===2&&(o=Cd(e),o!==0&&(r=o,t=Zd(e,o))),t===1))throw n=Xa,is(e,0),ur(e,r),bt(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Gr(e,gt,Mn);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=jh+500-Me(),10<t)){if(Pl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Od(Gr.bind(null,e,gt,Mn),t);break}Gr(e,gt,Mn);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-rn(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QC(r/1960))-r,10<r){e.timeoutHandle=Od(Gr.bind(null,e,gt,Mn),r);break}Gr(e,gt,Mn);break;case 5:Gr(e,gt,Mn);break;default:throw Error(D(329))}}}return bt(e,Me()),e.callbackNode===n?Iw.bind(null,e):null}function Zd(e,t){var n=Ta;return e.current.memoizedState.isDehydrated&&(is(e,t).flags|=256),e=Kl(e,t),e!==2&&(t=gt,gt=n,t!==null&&ef(t)),e}function ef(e){gt===null?gt=e:gt.push.apply(gt,e)}function XC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!on(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~kh,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rn(t),r=1<<n;e[n]=-1,t&=~r}}function Zm(e){if(ce&6)throw Error(D(327));ho();var t=Pl(e,0);if(!(t&1))return bt(e,Me()),null;var n=Kl(e,t);if(e.tag!==0&&n===2){var r=Cd(e);r!==0&&(t=r,n=Zd(e,r))}if(n===1)throw n=Xa,is(e,0),ur(e,t),bt(e,Me()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,gt,Mn),bt(e,Me()),null}function Th(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Do=Me()+500,yc&&Dr())}}function hs(e){yr!==null&&yr.tag===0&&!(ce&6)&&ho();var t=ce;ce|=1;var n=$t.transition,r=ye;try{if($t.transition=null,ye=1,e)return e()}finally{ye=r,$t.transition=n,ce=t,!(ce&6)&&Dr()}}function Ph(){_t=ao.current,Ee(ao)}function is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jC(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(ch(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ml();break;case 3:Oo(),Ee(wt),Ee(rt),yh();break;case 5:vh(r);break;case 4:Oo();break;case 13:Ee(je);break;case 19:Ee(je);break;case 10:hh(r.type._context);break;case 22:case 23:Ph()}n=n.return}if(Ke=e,Ie=e=jr(e.current,null),Qe=_t=t,We=0,Xa=null,kh=_c=fs=0,gt=Ta=null,Zr!==null){for(t=0;t<Zr.length;t++)if(n=Zr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Zr=null}return e}function $w(e,t){do{var n=Ie;try{if(fh(),ul.current=Wl,Bl){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bl=!1}if(ds=0,He=Be=Te=null,ka=!1,Ga=0,Ch.current=null,n===null||n.return===null){We=1,Xa=t,Ie=null;break}e:{var o=e,a=n.return,i=n,l=t;if(t=Qe,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Um(a);if(p!==null){p.flags&=-257,zm(p,a,i,o,t),p.mode&1&&Fm(o,u,t),t=p,l=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(l),t.updateQueue=y}else b.add(l);break e}else{if(!(t&1)){Fm(o,u,t),Nh();break e}l=Error(D(426))}}else if(ke&&i.mode&1){var x=Um(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),zm(x,a,i,o,t),uh(Mo(l,i));break e}}o=l=Mo(l,i),We!==4&&(We=2),Ta===null?Ta=[o]:Ta.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=xw(o,l,t);Om(o,w);break e;case 1:i=l;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Cr===null||!Cr.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=bw(o,i,t);Om(o,_);break e}}o=o.return}while(o!==null)}Uw(n)}catch(S){t=S,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Lw(){var e=Vl.current;return Vl.current=Wl,e===null?Wl:e}function Nh(){(We===0||We===3||We===2)&&(We=4),Ke===null||!(fs&268435455)&&!(_c&268435455)||ur(Ke,Qe)}function Kl(e,t){var n=ce;ce|=2;var r=Lw();(Ke!==e||Qe!==t)&&(Mn=null,is(e,t));do try{JC();break}catch(s){$w(e,s)}while(!0);if(fh(),ce=n,Vl.current=r,Ie!==null)throw Error(D(261));return Ke=null,Qe=0,We}function JC(){for(;Ie!==null;)Fw(Ie)}function ZC(){for(;Ie!==null&&!EE();)Fw(Ie)}function Fw(e){var t=Bw(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Uw(e):Ie=t,Ch.current=null}function Uw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qC(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Ie=null;return}}else if(n=HC(n,t,_t),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);We===0&&(We=5)}function Gr(e,t,n){var r=ye,s=$t.transition;try{$t.transition=null,ye=1,ek(e,t,n,r)}finally{$t.transition=s,ye=r}return null}function ek(e,t,n,r){do ho();while(yr!==null);if(ce&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ME(e,o),e===Ke&&(Ie=Ke=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wi||(Wi=!0,Ww(Tl,function(){return ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$t.transition,$t.transition=null;var a=ye;ye=1;var i=ce;ce|=4,Ch.current=null,GC(e,n),Mw(n,e),xC(Rd),Nl=!!Nd,Rd=Nd=null,e.current=n,YC(n),CE(),ce=i,ye=a,$t.transition=o}else e.current=n;if(Wi&&(Wi=!1,yr=e,ql=s),o=e.pendingLanes,o===0&&(Cr=null),TE(n.stateNode),bt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hl)throw Hl=!1,e=Xd,Xd=null,e;return ql&1&&e.tag!==0&&ho(),o=e.pendingLanes,o&1?e===Jd?Pa++:(Pa=0,Jd=e):Pa=0,Dr(),null}function ho(){if(yr!==null){var e=xy(ql),t=$t.transition,n=ye;try{if($t.transition=null,ye=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,ql=0,ce&6)throw Error(D(331));var s=ce;for(ce|=4,q=e.current;q!==null;){var o=q,a=o.child;if(q.flags&16){var i=o.deletions;if(i!==null){for(var l=0;l<i.length;l++){var u=i[l];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:ja(8,d,o)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var m=d.sibling,p=d.return;if(Rw(d),d===u){q=null;break}if(m!==null){m.return=p,q=m;break}q=p}}}var b=o.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,q=a;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ja(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,q=w;break e}q=o.return}}var g=e.current;for(q=g;q!==null;){a=q;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,q=v;else e:for(a=g;q!==null;){if(i=q,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:bc(9,i)}}catch(S){Re(i,i.return,S)}if(i===a){q=null;break e}var _=i.sibling;if(_!==null){_.return=i.return,q=_;break e}q=i.return}}if(ce=s,Dr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(hc,e)}catch{}r=!0}return r}finally{ye=n,$t.transition=t}}return!1}function eg(e,t,n){t=Mo(n,t),t=xw(e,t,1),e=Er(e,t,1),t=ct(),e!==null&&(fi(e,1,t),bt(e,t))}function Re(e,t,n){if(e.tag===3)eg(e,e,n);else for(;t!==null;){if(t.tag===3){eg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){e=Mo(n,e),e=bw(t,e,1),t=Er(t,e,1),e=ct(),t!==null&&(fi(t,1,e),bt(t,e));break}}t=t.return}}function tk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Qe&n)===n&&(We===4||We===3&&(Qe&130023424)===Qe&&500>Me()-jh?is(e,0):kh|=n),bt(e,t)}function zw(e,t){t===0&&(e.mode&1?(t=Oi,Oi<<=1,!(Oi&130023424)&&(Oi=4194304)):t=1);var n=ct();e=Wn(e,t),e!==null&&(fi(e,t,n),bt(e,n))}function nk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zw(e,n)}function rk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),zw(e,n)}var Bw;Bw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,VC(e,t,n);yt=!!(e.flags&131072)}else yt=!1,ke&&t.flags&1048576&&qy(t,$l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fl(e,t),e=t.pendingProps;var s=No(t,rt.current);fo(t,n),s=xh(null,t,r,e,s,n);var o=bh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(o=!0,Dl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mh(t),s.updater=xc,t.stateNode=s,s._reactInternals=t,Ud(t,r,e,n),t=Wd(null,t,r,!0,o,n)):(t.tag=0,ke&&o&&lh(t),at(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ok(r),e=Qt(r,e),s){case 0:t=Bd(null,t,r,e,n);break e;case 1:t=Vm(null,t,r,e,n);break e;case 11:t=Bm(null,t,r,e,n);break e;case 14:t=Wm(null,t,r,Qt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),Bd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),Vm(e,t,r,s,n);case 3:e:{if(Cw(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Jy(e,t),Ul(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Mo(Error(D(423)),t),t=Hm(e,t,r,n,s);break e}else if(r!==s){s=Mo(Error(D(424)),t),t=Hm(e,t,r,n,s);break e}else for(Et=Sr(t.stateNode.containerInfo.firstChild),Ct=t,ke=!0,nn=null,n=Qy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===s){t=Vn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return Zy(t),e===null&&$d(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Ad(r,s)?a=null:o!==null&&Ad(r,o)&&(t.flags|=32),Ew(e,t),at(e,t,a,n),t.child;case 6:return e===null&&$d(t),null;case 13:return kw(e,t,n);case 4:return gh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ao(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),Bm(e,t,r,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,be(Ll,r._currentValue),r._currentValue=a,o!==null)if(on(o.value,a)){if(o.children===s.children&&!wt.current){t=Vn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var l=i.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Un(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ld(o.return,n,t),i.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(D(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Ld(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fo(t,n),s=Ut(s),r=r(s),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,s=Qt(r,t.pendingProps),s=Qt(r.type,s),Wm(e,t,r,s,n);case 15:return _w(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),fl(e,t),t.tag=1,xt(r)?(e=!0,Dl(t)):e=!1,fo(t,n),ww(t,r,s),Ud(t,r,s,n),Wd(null,t,r,!0,e,n);case 19:return jw(e,t,n);case 22:return Sw(e,t,n)}throw Error(D(156,t.tag))};function Ww(e,t){return gy(e,t)}function sk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new sk(e,t,n,r)}function Rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ok(e){if(typeof e=="function")return Rh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qf)return 11;if(e===Xf)return 14}return 2}function jr(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ml(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Rh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qs:return ls(n.children,s,o,t);case Yf:a=8,s|=8;break;case ud:return e=It(12,n,t,s|2),e.elementType=ud,e.lanes=o,e;case dd:return e=It(13,n,t,s),e.elementType=dd,e.lanes=o,e;case fd:return e=It(19,n,t,s),e.elementType=fd,e.lanes=o,e;case Zv:return Sc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xv:a=10;break e;case Jv:a=9;break e;case Qf:a=11;break e;case Xf:a=14;break e;case ir:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=It(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ls(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function Sc(e,t,n,r){return e=It(22,e,r,t),e.elementType=Zv,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Du(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ak(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ah(e,t,n,r,s,o,a,i,l){return e=new ak(e,t,n,i,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=It(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(o),e}function ik(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vw(e){if(!e)return Nr;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(xt(n))return Vy(e,n,t)}return t}function Hw(e,t,n,r,s,o,a,i,l){return e=Ah(n,r,!0,e,s,o,a,i,l),e.context=Vw(null),n=e.current,r=ct(),s=kr(n),o=Un(r,s),o.callback=t??null,Er(n,o,s),e.current.lanes=s,fi(e,s,r),bt(e,r),e}function Ec(e,t,n,r){var s=t.current,o=ct(),a=kr(s);return n=Vw(n),t.context===null?t.context=n:t.pendingContext=n,t=Un(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Er(s,t,a),e!==null&&(sn(e,s,a,o),cl(e,s,a)),a}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oh(e,t){tg(e,t),(e=e.alternate)&&tg(e,t)}function lk(){return null}var qw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mh(e){this._internalRoot=e}Cc.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ec(e,t,null,null)};Cc.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hs(function(){Ec(null,e,null,null)}),t[Bn]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&Cy(e)}};function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ng(){}function ck(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Gl(a);o.call(u)}}var a=Hw(t,r,e,0,null,!1,!1,"",ng);return e._reactRootContainer=a,e[Bn]=a.current,Wa(e.nodeType===8?e.parentNode:e),hs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=Gl(l);i.call(u)}}var l=Ah(e,0,!1,null,null,!1,!1,"",ng);return e._reactRootContainer=l,e[Bn]=l.current,Wa(e.nodeType===8?e.parentNode:e),hs(function(){Ec(t,l,n,r)}),l}function jc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var i=s;s=function(){var l=Gl(a);i.call(l)}}Ec(t,a,e,s)}else a=ck(n,t,e,s,r);return Gl(a)}by=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ga(t.pendingLanes);n!==0&&(eh(t,n|1),bt(t,Me()),!(ce&6)&&(Do=Me()+500,Dr()))}break;case 13:hs(function(){var r=Wn(e,1);if(r!==null){var s=ct();sn(r,e,1,s)}}),Oh(e,1)}};th=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=ct();sn(t,e,134217728,n)}Oh(e,134217728)}};_y=function(e){if(e.tag===13){var t=kr(e),n=Wn(e,t);if(n!==null){var r=ct();sn(n,e,t,r)}Oh(e,t)}};Sy=function(){return ye};Ey=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};_d=function(e,t,n){switch(t){case"input":if(md(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=vc(r);if(!s)throw Error(D(90));ty(r),md(r,s)}}}break;case"textarea":ry(e,n);break;case"select":t=n.value,t!=null&&io(e,!!n.multiple,t,!1)}};uy=Th;dy=hs;var uk={usingClientEntryPoint:!1,Events:[pi,eo,vc,ly,cy,Th]},ua={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dk={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=py(e),e===null?null:e.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vi.isDisabled&&Vi.supportsFiber)try{hc=Vi.inject(dk),Sn=Vi}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(t))throw Error(D(200));return ik(e,t,null,n)};Tt.createRoot=function(e,t){if(!Dh(e))throw Error(D(299));var n=!1,r="",s=qw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ah(e,1,!1,null,null,n,!1,r,s),e[Bn]=t.current,Wa(e.nodeType===8?e.parentNode:e),new Mh(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=py(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return hs(e)};Tt.hydrate=function(e,t,n){if(!kc(t))throw Error(D(200));return jc(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Dh(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=qw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Hw(t,null,e,1,n??null,s,!1,o,a),e[Bn]=t.current,Wa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Cc(t)};Tt.render=function(e,t,n){if(!kc(t))throw Error(D(200));return jc(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!kc(e))throw Error(D(40));return e._reactRootContainer?(hs(function(){jc(null,null,e,!1,function(){e._reactRootContainer=null,e[Bn]=null})}),!0):!1};Tt.unstable_batchedUpdates=Th;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kc(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return jc(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function Kw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kw)}catch(e){console.error(e)}}Kw(),Kv.exports=Tt;var ks=Kv.exports;const Gw=Dv(ks);var rg=ks;ld.createRoot=rg.createRoot,ld.hydrateRoot=rg.hydrateRoot;var Tc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pc=typeof window>"u"||"Deno"in globalThis;function Xt(){}function fk(e,t){return typeof e=="function"?e(t):e}function hk(e){return typeof e=="number"&&e>=0&&e!==1/0}function pk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tf(e,t){return typeof e=="function"?e(t):e}function mk(e,t){return typeof e=="function"?e(t):e}function sg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:i}=e;if(a){if(r){if(t.queryHash!==Ih(a,t.options))return!1}else if(!Za(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||s&&s!==t.state.fetchStatus||o&&!o(t))}function og(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ja(t.options.mutationKey)!==Ja(o))return!1}else if(!Za(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ih(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ja)(e)}function Ja(e){return JSON.stringify(e,(t,n)=>nf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Za(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Za(e[n],t[n])):!1}function Yw(e,t){if(e===t)return e;const n=ag(e)&&ag(t);if(n||nf(e)&&nf(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),a=o.length,i=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:o[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(i[f]=void 0,u++):(i[f]=Yw(e[f],t[f]),i[f]===e[f]&&e[f]!==void 0&&u++)}return s===a&&u===s?e:i}return t}function ag(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nf(e){if(!ig(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ig(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ig(e){return Object.prototype.toString.call(e)==="[object Object]"}function gk(e){return new Promise(t=>{setTimeout(t,e)})}function vk(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Yw(e,t):t}function yk(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wk(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var $h=Symbol();function Qw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$h?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ns,fr,xo,jv,xk=(jv=class extends Tc{constructor(){super();pe(this,ns);pe(this,fr);pe(this,xo);te(this,xo,t=>{if(!Pc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,fr)||this.setEventListener(R(this,xo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,fr))==null||t.call(this),te(this,fr,void 0))}setEventListener(t){var n;te(this,xo,t),(n=R(this,fr))==null||n.call(this),te(this,fr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,ns)!==t&&(te(this,ns,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,ns)=="boolean"?R(this,ns):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ns=new WeakMap,fr=new WeakMap,xo=new WeakMap,jv),Xw=new xk,bo,hr,_o,Tv,bk=(Tv=class extends Tc{constructor(){super();pe(this,bo,!0);pe(this,hr);pe(this,_o);te(this,_o,t=>{if(!Pc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,hr)||this.setEventListener(R(this,_o))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,hr))==null||t.call(this),te(this,hr,void 0))}setEventListener(t){var n;te(this,_o,t),(n=R(this,hr))==null||n.call(this),te(this,hr,t(this.setOnline.bind(this)))}setOnline(t){R(this,bo)!==t&&(te(this,bo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,bo)}},bo=new WeakMap,hr=new WeakMap,_o=new WeakMap,Tv),Yl=new bk;function _k(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Sk(e){return Math.min(1e3*2**e,3e4)}function Jw(e){return(e??"online")==="online"?Yl.isOnline():!0}var Zw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function e0(e){let t=!1,n=0,r;const s=_k(),o=()=>s.status!=="pending",a=y=>{var x;o()||(m(new Zw(y)),(x=e.abort)==null||x.call(e))},i=()=>{t=!0},l=()=>{t=!1},u=()=>Xw.isFocused()&&(e.networkMode==="always"||Yl.isOnline())&&e.canRun(),d=()=>Jw(e.networkMode)&&e.canRun(),f=y=>{o()||(r==null||r(),s.resolve(y))},m=y=>{o()||(r==null||r(),s.reject(y))},p=()=>new Promise(y=>{var x;r=w=>{(o()||u())&&y(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;r=void 0,o()||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(o())return;let y;const x=n===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var E;if(o())return;const g=e.retry??(Pc?0:3),v=e.retryDelay??Sk,_=typeof v=="function"?v(n,w):v,S=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,w);if(t||!S){m(w);return}n++,(E=e.onFail)==null||E.call(e,n,w),gk(_).then(()=>u()?void 0:p()).then(()=>{t?m(w):b()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:i,continueRetry:l,canStart:d,start:()=>(d()?b():p().then(b),s)}}var Ek=e=>setTimeout(e,0);function Ck(){let e=[],t=0,n=i=>{i()},r=i=>{i()},s=Ek;const o=i=>{t?e.push(i):s(()=>{n(i)})},a=()=>{const i=e;e=[],i.length&&s(()=>{r(()=>{i.forEach(l=>{n(l)})})})};return{batch:i=>{let l;t++;try{l=i()}finally{t--,t||a()}return l},batchCalls:i=>(...l)=>{o(()=>{i(...l)})},schedule:o,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{s=i}}}var it=Ck(),rs,Pv,t0=(Pv=class{constructor(){pe(this,rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hk(this.gcTime)&&te(this,rs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pc?1/0:5*60*1e3))}clearGcTimeout(){R(this,rs)&&(clearTimeout(R(this,rs)),te(this,rs,void 0))}},rs=new WeakMap,Pv),So,Eo,At,ss,Ve,ci,os,Jt,Rn,Nv,kk=(Nv=class extends t0{constructor(t){super();pe(this,Jt);pe(this,So);pe(this,Eo);pe(this,At);pe(this,ss);pe(this,Ve);pe(this,ci);pe(this,os);te(this,os,!1),te(this,ci,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,ss,t.client),te(this,At,R(this,ss).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,So,Tk(this.options)),this.state=t.state??R(this,So),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,Ve))==null?void 0:t.promise}setOptions(t){this.options={...R(this,ci),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,At).remove(this)}setData(t,n){const r=vk(this.state.data,t,this.options);return Ze(this,Jt,Rn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ze(this,Jt,Rn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=R(this,Ve))==null?void 0:r.promise;return(s=R(this,Ve))==null||s.cancel(t),n?n.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,So))}isActive(){return this.observers.some(t=>mk(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$h||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!pk(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Ve))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Ve))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,At).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,Ve)&&(R(this,os)?R(this,Ve).cancel({revert:!0}):R(this,Ve).cancelRetry()),this.scheduleGc()),R(this,At).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Jt,Rn).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,f,m,p,b,y,x,w,g,v;if(this.state.fetchStatus!=="idle"&&((l=R(this,Ve))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,Ve))return R(this,Ve).continueRetry(),R(this,Ve).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(te(this,os,!0),r.signal)})},o=()=>{const _=Qw(this.options,n),E=(()=>{const C={client:R(this,ss),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return te(this,os,!1),this.options.persister?this.options.persister(_,E,this):_(E)},i=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,ss),state:this.state,fetchFn:o};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(i,this),te(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&Ze(this,Jt,Rn).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta}),te(this,Ve,e0({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onFail:(_,S)=>{Ze(this,Jt,Rn).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{Ze(this,Jt,Rn).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Jt,Rn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}));try{const _=await R(this,Ve).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(m=R(this,At).config).onSuccess)==null||p.call(m,_,this),(y=(b=R(this,At).config).onSettled)==null||y.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof Zw){if(_.silent)return R(this,Ve).promise;if(_.revert)return this.setState({...R(this,Eo),fetchStatus:"idle"}),this.state.data}throw Ze(this,Jt,Rn).call(this,{type:"error",error:_}),(w=(x=R(this,At).config).onError)==null||w.call(x,_,this),(v=(g=R(this,At).config).onSettled)==null||v.call(g,this.state.data,_,this),_}finally{this.scheduleGc()}}},So=new WeakMap,Eo=new WeakMap,At=new WeakMap,ss=new WeakMap,Ve=new WeakMap,ci=new WeakMap,os=new WeakMap,Jt=new WeakSet,Rn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jk(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,Eo,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),it.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,At).notify({query:this,type:"updated",action:t})})},Nv);function jk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Tk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mn,Rv,Pk=(Rv=class extends Tc{constructor(t={}){super();pe(this,mn);this.config=t,te(this,mn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Ih(s,n);let a=this.get(o);return a||(a=new kk({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){R(this,mn).has(t.queryHash)||(R(this,mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,mn).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,mn).get(t)}getAll(){return[...R(this,mn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>sg(t,r)):n}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mn=new WeakMap,Rv),gn,ot,as,vn,sr,Av,Nk=(Av=class extends t0{constructor(t){super();pe(this,vn);pe(this,gn);pe(this,ot);pe(this,as);this.mutationId=t.mutationId,te(this,ot,t.mutationCache),te(this,gn,[]),this.state=t.state||Rk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,gn).includes(t)||(R(this,gn).push(t),this.clearGcTimeout(),R(this,ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,gn,R(this,gn).filter(n=>n!==t)),this.scheduleGc(),R(this,ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,gn).length||(this.state.status==="pending"?this.scheduleGc():R(this,ot).remove(this))}continue(){var t;return((t=R(this,as))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,i,l,u,d,f,m,p,b,y,x,w,g,v,_,S,E,C,k;const n=()=>{Ze(this,vn,sr).call(this,{type:"continue"})};te(this,as,e0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,N)=>{Ze(this,vn,sr).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Ze(this,vn,sr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,ot).canRun(this)}));const r=this.state.status==="pending",s=!R(this,as).canStart();try{if(r)n();else{Ze(this,vn,sr).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=R(this,ot).config).onMutate)==null?void 0:a.call(o,t,this));const N=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));N!==this.state.context&&Ze(this,vn,sr).call(this,{type:"pending",context:N,variables:t,isPaused:s})}const j=await R(this,as).start();return await((d=(u=R(this,ot).config).onSuccess)==null?void 0:d.call(u,j,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,j,t,this.state.context)),await((b=(p=R(this,ot).config).onSettled)==null?void 0:b.call(p,j,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,j,null,t,this.state.context)),Ze(this,vn,sr).call(this,{type:"success",data:j}),j}catch(j){try{throw await((g=(w=R(this,ot).config).onError)==null?void 0:g.call(w,j,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,j,t,this.state.context)),await((E=(S=R(this,ot).config).onSettled)==null?void 0:E.call(S,void 0,j,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,j,t,this.state.context)),j}finally{Ze(this,vn,sr).call(this,{type:"error",error:j})}}finally{R(this,ot).runNext(this)}}},gn=new WeakMap,ot=new WeakMap,as=new WeakMap,vn=new WeakSet,sr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),it.batch(()=>{R(this,gn).forEach(r=>{r.onMutationUpdate(t)}),R(this,ot).notify({mutation:this,type:"updated",action:t})})},Av);function Rk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,Zt,ui,Ov,Ak=(Ov=class extends Tc{constructor(t={}){super();pe(this,$n);pe(this,Zt);pe(this,ui);this.config=t,te(this,$n,new Set),te(this,Zt,new Map),te(this,ui,0)}build(t,n,r){const s=new Nk({mutationCache:this,mutationId:++ji(this,ui)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){R(this,$n).add(t);const n=Hi(t);if(typeof n=="string"){const r=R(this,Zt).get(n);r?r.push(t):R(this,Zt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,$n).delete(t)){const n=Hi(t);if(typeof n=="string"){const r=R(this,Zt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&R(this,Zt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Hi(t);if(typeof n=="string"){const r=R(this,Zt).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Hi(t);if(typeof n=="string"){const s=(r=R(this,Zt).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){it.batch(()=>{R(this,$n).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,$n).clear(),R(this,Zt).clear()})}getAll(){return Array.from(R(this,$n))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>og(n,r))}findAll(t={}){return this.getAll().filter(n=>og(t,n))}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return it.batch(()=>Promise.all(t.map(n=>n.continue().catch(Xt))))}},$n=new WeakMap,Zt=new WeakMap,ui=new WeakMap,Ov);function Hi(e){var t;return(t=e.options.scope)==null?void 0:t.id}function lg(e){return{onFetch:(t,n)=>{var d,f,m,p,b;const r=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],a=((b=t.state.data)==null?void 0:b.pageParams)||[];let i={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},w=Qw(t.options,t.fetchOptions),g=async(v,_,S)=>{if(y)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return x(U),U})(),k=await w(C),{maxPages:j}=t.options,N=S?wk:yk;return{pages:N(v.pages,k,j),pageParams:N(v.pageParams,_,j)}};if(s&&o.length){const v=s==="backward",_=v?Ok:cg,S={pages:o,pageParams:a},E=_(r,S);i=await g(S,E,v)}else{const v=e??o.length;do{const _=l===0?a[0]??r.initialPageParam:cg(r,i);if(l>0&&_==null)break;i=await g(i,_),l++}while(l<v)}return i};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function cg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ok(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ne,pr,mr,Co,ko,gr,jo,To,Mv,Mk=(Mv=class{constructor(e={}){pe(this,Ne);pe(this,pr);pe(this,mr);pe(this,Co);pe(this,ko);pe(this,gr);pe(this,jo);pe(this,To);te(this,Ne,e.queryCache||new Pk),te(this,pr,e.mutationCache||new Ak),te(this,mr,e.defaultOptions||{}),te(this,Co,new Map),te(this,ko,new Map),te(this,gr,0)}mount(){ji(this,gr)._++,R(this,gr)===1&&(te(this,jo,Xw.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ne).onFocus())})),te(this,To,Yl.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ne).onOnline())})))}unmount(){var e,t;ji(this,gr)._--,R(this,gr)===0&&((e=R(this,jo))==null||e.call(this),te(this,jo,void 0),(t=R(this,To))==null||t.call(this),te(this,To,void 0))}isFetching(e){return R(this,Ne).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,pr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ne).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=R(this,Ne).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(tf(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return R(this,Ne).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=R(this,Ne).get(r.queryHash),o=s==null?void 0:s.state.data,a=fk(t,o);if(a!==void 0)return R(this,Ne).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return it.batch(()=>R(this,Ne).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ne).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,Ne);it.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,Ne);return it.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=it.batch(()=>R(this,Ne).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Xt).catch(Xt)}invalidateQueries(e,t={}){return it.batch(()=>(R(this,Ne).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=it.batch(()=>R(this,Ne).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Xt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,Ne).build(this,t);return n.isStaleByTime(tf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xt).catch(Xt)}fetchInfiniteQuery(e){return e.behavior=lg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xt).catch(Xt)}ensureInfiniteQueryData(e){return e.behavior=lg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yl.isOnline()?R(this,pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Ne)}getMutationCache(){return R(this,pr)}getDefaultOptions(){return R(this,mr)}setDefaultOptions(e){te(this,mr,e)}setQueryDefaults(e,t){R(this,Co).set(Ja(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Co).values()],n={};return t.forEach(r=>{Za(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){R(this,ko).set(Ja(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,ko).values()],n={};return t.forEach(r=>{Za(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ih(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$h&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Ne).clear(),R(this,pr).clear()}},Ne=new WeakMap,pr=new WeakMap,mr=new WeakMap,Co=new WeakMap,ko=new WeakMap,gr=new WeakMap,jo=new WeakMap,To=new WeakMap,Mv),Dk=h.createContext(void 0),Ik=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Dk.Provider,{value:e,children:t}));const $k="modulepreload",Lk=function(e){return"/"+e},ug={},gi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Lk(l),l in ug)return;ug[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":$k,u||(f.as="script"),f.crossOrigin="",f.href=l,i&&f.setAttribute("nonce",i),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return s.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};var Fk=function(){return null};const Ql=["light","dark"],Lh="(prefers-color-scheme: dark)",Uk=typeof window>"u",Fh=h.createContext(void 0),zk={setTheme:e=>{},themes:[]},n0=()=>{var e;return(e=h.useContext(Fh))!==null&&e!==void 0?e:zk},r0=e=>h.useContext(Fh)?I.createElement(h.Fragment,null,e.children):I.createElement(Wk,e),Bk=["light","dark"],Wk=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=Bk,defaultTheme:a=n?"system":"light",attribute:i="data-theme",value:l,children:u,nonce:d})=>{const[f,m]=h.useState(()=>dg(s,a)),[p,b]=h.useState(()=>dg(s)),y=l?Object.values(l):o,x=h.useCallback(_=>{let S=_;if(!S)return;_==="system"&&n&&(S=fg());const E=l?l[S]:S,C=t?Hk():null,k=document.documentElement;if(i==="class"?(k.classList.remove(...y),E&&k.classList.add(E)):E?k.setAttribute(i,E):k.removeAttribute(i),r){const j=Ql.includes(a)?a:null,N=Ql.includes(S)?S:j;k.style.colorScheme=N}C==null||C()},[]),w=h.useCallback(_=>{m(_);try{localStorage.setItem(s,_)}catch{}},[e]),g=h.useCallback(_=>{const S=fg(_);b(S),f==="system"&&n&&!e&&x("system")},[f,e]);h.useEffect(()=>{const _=window.matchMedia(Lh);return _.addListener(g),g(_),()=>_.removeListener(g)},[g]),h.useEffect(()=>{const _=S=>{S.key===s&&w(S.newValue||a)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[w]),h.useEffect(()=>{x(e??f)},[e,f]);const v=h.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:n?[...o,"system"]:o,systemTheme:n?p:void 0}),[f,w,e,p,n,o]);return I.createElement(Fh.Provider,{value:v},I.createElement(Vk,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:a,attribute:i,value:l,children:u,attrs:y,nonce:d}),u)},Vk=h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:a,attrs:i,nonce:l})=>{const u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${i.map(b=>`'${b}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Ql.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,y=!1,x=!0)=>{const w=a?a[b]:b,g=y?b+"|| ''":`'${w}'`;let v="";return s&&x&&!y&&Ql.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),n==="class"?v+=y||w?`c.add(${g})`:"null":w&&(v+=`d[s](n,${g})`),v},p=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Lh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return I.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})},()=>!0),dg=(e,t)=>{if(Uk)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Hk=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},fg=e=>(e||(e=window.matchMedia(Lh)),e.matches?"dark":"light");var qk=e=>{switch(e){case"success":return Yk;case"info":return Xk;case"warning":return Qk;case"error":return Jk;default:return null}},Kk=Array(12).fill(0),Gk=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},Kk.map((n,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Yk=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qk=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xk=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jk=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Zk=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ej=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},rf=1,tj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rf++,o=this.toasts.find(i=>i.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...e,id:s,title:n}),{...i,...e,id:s,dismissible:a,title:n}):i):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,a=r.then(async l=>{if(o=["resolve",l],I.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(rj(l)&&!l.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),i=()=>new Promise((l,u)=>a.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||rf++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mt=new tj,nj=(e,t)=>{let n=(t==null?void 0:t.id)||rf++;return mt.addToast({title:e,...t,id:n}),n},rj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",sj=nj,oj=()=>mt.toasts,aj=()=>mt.getActiveToasts(),K=Object.assign(sj,{success:mt.success,info:mt.info,warning:mt.warning,error:mt.error,custom:mt.custom,message:mt.message,promise:mt.promise,dismiss:mt.dismiss,loading:mt.loading},{getHistory:oj,getToasts:aj});function ij(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ij(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qi(e){return e.label!==void 0}var lj=3,cj="32px",uj="16px",hg=4e3,dj=356,fj=14,hj=20,pj=200;function Kt(...e){return e.filter(Boolean).join(" ")}function mj(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var gj=e=>{var t,n,r,s,o,a,i,l,u,d,f;let{invert:m,toast:p,unstyled:b,interacting:y,setHeights:x,visibleToasts:w,heights:g,index:v,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:k,style:j,cancelButtonStyle:N,actionButtonStyle:U,className:A="",descriptionClassName:O="",duration:M,position:V,gap:F,loadingIcon:W,expandByDefault:P,classNames:T,icons:$,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:H}=e,[J,Q]=I.useState(null),[z,se]=I.useState(null),[L,de]=I.useState(!1),[fe,ie]=I.useState(!1),[le,he]=I.useState(!1),[Je,Nt]=I.useState(!1),[zr,Yn]=I.useState(!1),[Br,ta]=I.useState(0),[Rs,zp]=I.useState(0),na=I.useRef(p.duration||M||hg),Bp=I.useRef(null),Wr=I.useRef(null),TS=v===0,PS=v+1<=w,Rt=p.type,As=p.dismissible!==!1,NS=p.className||"",RS=p.descriptionClassName||"",ki=I.useMemo(()=>g.findIndex(ee=>ee.toastId===p.id)||0,[g,p.id]),AS=I.useMemo(()=>{var ee;return(ee=p.closeButton)!=null?ee:k},[p.closeButton,k]),Wp=I.useMemo(()=>p.duration||M||hg,[p.duration,M]),iu=I.useRef(0),Os=I.useRef(0),Vp=I.useRef(0),Ms=I.useRef(null),[OS,MS]=V.split("-"),Hp=I.useMemo(()=>g.reduce((ee,we,Ce)=>Ce>=ki?ee:ee+we.height,0),[g,ki]),qp=ej(),DS=p.invert||m,lu=Rt==="loading";Os.current=I.useMemo(()=>ki*F+Hp,[ki,Hp]),I.useEffect(()=>{na.current=Wp},[Wp]),I.useEffect(()=>{de(!0)},[]),I.useEffect(()=>{let ee=Wr.current;if(ee){let we=ee.getBoundingClientRect().height;return zp(we),x(Ce=>[{toastId:p.id,height:we,position:p.position},...Ce]),()=>x(Ce=>Ce.filter(Wt=>Wt.toastId!==p.id))}},[x,p.id]),I.useLayoutEffect(()=>{if(!L)return;let ee=Wr.current,we=ee.style.height;ee.style.height="auto";let Ce=ee.getBoundingClientRect().height;ee.style.height=we,zp(Ce),x(Wt=>Wt.find(Vt=>Vt.toastId===p.id)?Wt.map(Vt=>Vt.toastId===p.id?{...Vt,height:Ce}:Vt):[{toastId:p.id,height:Ce,position:p.position},...Wt])},[L,p.title,p.description,x,p.id]);let Qn=I.useCallback(()=>{ie(!0),ta(Os.current),x(ee=>ee.filter(we=>we.toastId!==p.id)),setTimeout(()=>{E(p)},pj)},[p,E,x,Os]);I.useEffect(()=>{if(p.promise&&Rt==="loading"||p.duration===1/0||p.type==="loading")return;let ee;return S||y||H&&qp?(()=>{if(Vp.current<iu.current){let we=new Date().getTime()-iu.current;na.current=na.current-we}Vp.current=new Date().getTime()})():na.current!==1/0&&(iu.current=new Date().getTime(),ee=setTimeout(()=>{var we;(we=p.onAutoClose)==null||we.call(p,p),Qn()},na.current)),()=>clearTimeout(ee)},[S,y,p,Rt,H,qp,Qn]),I.useEffect(()=>{p.delete&&Qn()},[Qn,p.delete]);function IS(){var ee,we,Ce;return $!=null&&$.loading?I.createElement("div",{className:Kt(T==null?void 0:T.loader,(ee=p==null?void 0:p.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":Rt==="loading"},$.loading):W?I.createElement("div",{className:Kt(T==null?void 0:T.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Rt==="loading"},W):I.createElement(Gk,{className:Kt(T==null?void 0:T.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader),visible:Rt==="loading"})}return I.createElement("li",{tabIndex:0,ref:Wr,className:Kt(A,NS,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Rt],(n=p==null?void 0:p.classNames)==null?void 0:n[Rt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":L,"data-promise":!!p.promise,"data-swiped":zr,"data-removed":fe,"data-visible":PS,"data-y-position":OS,"data-x-position":MS,"data-index":v,"data-front":TS,"data-swiping":le,"data-dismissible":As,"data-type":Rt,"data-invert":DS,"data-swipe-out":Je,"data-swipe-direction":z,"data-expanded":!!(S||P&&L),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${fe?Br:Os.current}px`,"--initial-height":P?"auto":`${Rs}px`,...j,...p.style},onDragEnd:()=>{he(!1),Q(null),Ms.current=null},onPointerDown:ee=>{lu||!As||(Bp.current=new Date,ta(Os.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(he(!0),Ms.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,we,Ce,Wt;if(Je||!As)return;Ms.current=null;let Vt=Number(((ee=Wr.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xn=Number(((we=Wr.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vr=new Date().getTime()-((Ce=Bp.current)==null?void 0:Ce.getTime()),Ht=J==="x"?Vt:Xn,Jn=Math.abs(Ht)/Vr;if(Math.abs(Ht)>=hj||Jn>.11){ta(Os.current),(Wt=p.onDismiss)==null||Wt.call(p,p),se(J==="x"?Vt>0?"right":"left":Xn>0?"down":"up"),Qn(),Nt(!0),Yn(!1);return}he(!1),Q(null)},onPointerMove:ee=>{var we,Ce,Wt,Vt;if(!Ms.current||!As||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let Xn=ee.clientY-Ms.current.y,Vr=ee.clientX-Ms.current.x,Ht=(Ce=e.swipeDirections)!=null?Ce:mj(V);!J&&(Math.abs(Vr)>1||Math.abs(Xn)>1)&&Q(Math.abs(Vr)>Math.abs(Xn)?"x":"y");let Jn={x:0,y:0};J==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&Xn<0||Ht.includes("bottom")&&Xn>0)&&(Jn.y=Xn):J==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&Vr<0||Ht.includes("right")&&Vr>0)&&(Jn.x=Vr),(Math.abs(Jn.x)>0||Math.abs(Jn.y)>0)&&Yn(!0),(Wt=Wr.current)==null||Wt.style.setProperty("--swipe-amount-x",`${Jn.x}px`),(Vt=Wr.current)==null||Vt.style.setProperty("--swipe-amount-y",`${Jn.y}px`)}},AS&&!p.jsx?I.createElement("button",{"aria-label":G,"data-disabled":lu,"data-close-button":!0,onClick:lu||!As?()=>{}:()=>{var ee;Qn(),(ee=p.onDismiss)==null||ee.call(p,p)},className:Kt(T==null?void 0:T.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=$==null?void 0:$.close)!=null?o:Zk):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:I.createElement(I.Fragment,null,Rt||p.icon||p.promise?I.createElement("div",{"data-icon":"",className:Kt(T==null?void 0:T.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||IS():null,p.type!=="loading"?p.icon||($==null?void 0:$[Rt])||qk(Rt):null):null,I.createElement("div",{"data-content":"",className:Kt(T==null?void 0:T.content,(i=p==null?void 0:p.classNames)==null?void 0:i.content)},I.createElement("div",{"data-title":"",className:Kt(T==null?void 0:T.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?I.createElement("div",{"data-description":"",className:Kt(O,RS,T==null?void 0:T.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&qi(p.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:ee=>{var we,Ce;qi(p.cancel)&&As&&((Ce=(we=p.cancel).onClick)==null||Ce.call(we,ee),Qn())},className:Kt(T==null?void 0:T.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&qi(p.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||U,onClick:ee=>{var we,Ce;qi(p.action)&&((Ce=(we=p.action).onClick)==null||Ce.call(we,ee),!ee.defaultPrevented&&Qn())},className:Kt(T==null?void 0:T.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function pg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function vj(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,a=o?"--mobile-offset":"--offset",i=o?uj:cj;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=i:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(i)}),n}var s0=h.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:a,className:i,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:b=lj,toastOptions:y,dir:x=pg(),gap:w=fj,loadingIcon:g,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,C]=I.useState([]),k=I.useMemo(()=>Array.from(new Set([r].concat(E.filter(H=>H.position).map(H=>H.position)))),[E,r]),[j,N]=I.useState([]),[U,A]=I.useState(!1),[O,M]=I.useState(!1),[V,F]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=I.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=I.useRef(null),$=I.useRef(!1),G=I.useCallback(H=>{C(J=>{var Q;return(Q=J.find(z=>z.id===H.id))!=null&&Q.delete||mt.dismiss(H.id),J.filter(({id:z})=>z!==H.id)})},[]);return I.useEffect(()=>mt.subscribe(H=>{if(H.dismiss){C(J=>J.map(Q=>Q.id===H.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Gw.flushSync(()=>{C(J=>{let Q=J.findIndex(z=>z.id===H.id);return Q!==-1?[...J.slice(0,Q),{...J[Q],...H},...J.slice(Q+1)]:[H,...J]})})})}),[]),I.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:J})=>{F(J?"dark":"light")})}catch{H.addListener(({matches:Q})=>{try{F(Q?"dark":"light")}catch(z){console.error(z)}})}},[d]),I.useEffect(()=>{E.length<=1&&A(!1)},[E]),I.useEffect(()=>{let H=J=>{var Q,z;s.every(se=>J[se]||J.code===se)&&(A(!0),(Q=W.current)==null||Q.focus()),J.code==="Escape"&&(document.activeElement===W.current||(z=W.current)!=null&&z.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),I.useEffect(()=>{if(W.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,$.current=!1)}},[W.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((H,J)=>{var Q;let[z,se]=H.split("-");return E.length?I.createElement("ol",{key:H,dir:x==="auto"?pg():x,tabIndex:-1,ref:W,className:i,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":z,"data-lifted":U&&E.length>1&&!o,"data-x-position":se,style:{"--front-toast-height":`${((Q=j[0])==null?void 0:Q.height)||0}px`,"--width":`${dj}px`,"--gap":`${w}px`,...p,...vj(l,u)},onBlur:L=>{$.current&&!L.currentTarget.contains(L.relatedTarget)&&($.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||$.current||($.current=!0,T.current=L.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{O||A(!1)},onDragEnd:()=>A(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},E.filter(L=>!L.position&&J===0||L.position===H).map((L,de)=>{var fe,ie;return I.createElement(gj,{key:L.id,icons:v,index:de,toast:L,defaultRichColors:f,duration:(fe=y==null?void 0:y.duration)!=null?fe:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ie=y==null?void 0:y.closeButton)!=null?ie:a,interacting:O,position:H,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:G,toasts:E.filter(le=>le.position==L.position),heights:j.filter(le=>le.position==L.position),setHeights:N,expandByDefault:o,gap:w,loadingIcon:g,expanded:U,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});function B(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function mg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nc(...e){return t=>{let n=!1;const r=e.map(s=>{const o=mg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():mg(e[s],null)}}}}function ue(...e){return h.useCallback(Nc(...e),e)}function yj(e,t){const n=h.createContext(t),r=o=>{const{children:a,...i}=o,l=h.useMemo(()=>i,Object.values(i));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function s(o){const a=h.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Bt(e,t=[]){let n=[];function r(o,a){const i=h.createContext(a),l=n.length;n=[...n,a];const u=f=>{var w;const{scope:m,children:p,...b}=f,y=((w=m==null?void 0:m[e])==null?void 0:w[l])||i,x=h.useMemo(()=>b,Object.values(b));return c.jsx(y.Provider,{value:x,children:p})};u.displayName=o+"Provider";function d(f,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[l])||i,b=h.useContext(p);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>h.createContext(a));return function(i){const l=(i==null?void 0:i[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return s.scopeName=e,[r,wj(s,...t)]}function wj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((i,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...i,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ps(e){const t=bj(e),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,i=h.Children.toArray(o),l=i.find(_j);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var xj=ps("Slot");function bj(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=Ej(s),i=Sj(o,s.props);return s.type!==h.Fragment&&(i.ref=r?Nc(r,a):a),h.cloneElement(s,i)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o0=Symbol("radix.slottable");function a0(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=o0,t}function _j(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o0}function Sj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...i)=>{const l=o(...i);return s(...i),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Ej(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rc(e){const t=e+"CollectionProvider",[n,r]=Bt(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:x,children:w}=y,g=I.useRef(null),v=I.useRef(new Map).current;return c.jsx(s,{scope:x,itemMap:v,collectionRef:g,children:w})};a.displayName=t;const i=e+"CollectionSlot",l=ps(i),u=I.forwardRef((y,x)=>{const{scope:w,children:g}=y,v=o(i,w),_=ue(x,v.collectionRef);return c.jsx(l,{ref:_,children:g})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=ps(d),p=I.forwardRef((y,x)=>{const{scope:w,children:g,...v}=y,_=I.useRef(null),S=ue(x,_),E=o(d,w);return I.useEffect(()=>(E.itemMap.set(_,{ref:_,...v}),()=>void E.itemMap.delete(_))),c.jsx(m,{[f]:"",ref:S,children:g})});p.displayName=d;function b(y){const x=o(e+"CollectionConsumer",y);return I.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((E,C)=>v.indexOf(E.ref.current)-v.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},b,r]}var Cj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X=Cj.reduce((e,t)=>{const n=ps(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:a,...i}=s,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Uh(e,t){e&&ks.flushSync(()=>e.dispatchEvent(t))}function ut(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kj(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var jj="DismissableLayer",sf="dismissableLayer.update",Tj="dismissableLayer.pointerDownOutside",Pj="dismissableLayer.focusOutside",gg,i0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ho=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:i,...l}=e,u=h.useContext(i0),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=ue(t,C=>f(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),g=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=w,S=Rj(C=>{const k=C.target,j=[...u.branches].some(N=>N.contains(k));!_||j||(s==null||s(C),a==null||a(C),C.defaultPrevented||i==null||i())},m),E=Aj(C=>{const k=C.target;[...u.branches].some(N=>N.contains(k))||(o==null||o(C),a==null||a(C),C.defaultPrevented||i==null||i())},m);return kj(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),vg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=gg)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),vg())},[d,u]),h.useEffect(()=>{const C=()=>p({});return document.addEventListener(sf,C),()=>document.removeEventListener(sf,C)},[]),c.jsx(X.div,{...l,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:B(e.onFocusCapture,E.onFocusCapture),onBlurCapture:B(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:B(e.onPointerDownCapture,S.onPointerDownCapture)})});Ho.displayName=jj;var Nj="DismissableLayerBranch",l0=h.forwardRef((e,t)=>{const n=h.useContext(i0),r=h.useRef(null),s=ue(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(X.div,{...e,ref:s})});l0.displayName=Nj;function Rj(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let l=function(){c0(Tj,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Aj(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&c0(Pj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vg(){const e=new CustomEvent(sf);document.dispatchEvent(e)}function c0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Uh(s,o):s.dispatchEvent(o)}var Oj=Ho,Mj=l0,Fe=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Dj="Portal",vi=h.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[s,o]=h.useState(!1);Fe(()=>o(!0),[]);const a=n||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?Gw.createPortal(c.jsx(X.div,{...r,ref:t}),a):null});vi.displayName=Dj;function Ij(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var cn=e=>{const{present:t,children:n}=e,r=$j(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=ue(r.ref,Lj(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};cn.displayName="Presence";function $j(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),a=e?"mounted":"unmounted",[i,l]=Ij(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Ki(r.current);o.current=i==="mounted"?u:"none"},[i]),Fe(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=Ki(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Fe(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const y=Ki(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=p=>{p.target===t&&(o.current=Ki(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ki(e){return(e==null?void 0:e.animationName)||"none"}function Lj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fj=Hf[" useInsertionEffect ".trim().toString()]||Fe;function ms({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=Uj({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=h.useCallback(d=>{var f;if(i){const m=zj(d)?d(e):d;m!==e&&((f=a.current)==null||f.call(a,m))}else o(d)},[i,e,o,a]);return[l,u]}function Uj({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return Fj(()=>{o.current=t},[t]),h.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function zj(e){return typeof e=="function"}var u0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Bj="VisuallyHidden",Ac=h.forwardRef((e,t)=>c.jsx(X.span,{...e,ref:t,style:{...u0,...e.style}}));Ac.displayName=Bj;var Wj=Ac,zh="ToastProvider",[Bh,Vj,Hj]=Rc("Toast"),[d0,w4]=Bt("Toast",[Hj]),[qj,Oc]=d0(zh),f0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[i,l]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zh}\`. Expected non-empty \`string\`.`),c.jsx(Bh.Provider,{scope:t,children:c.jsx(qj,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:i,onViewportChange:l,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};f0.displayName=zh;var h0="ToastViewport",Kj=["F8"],of="toast.viewportPause",af="toast.viewportResume",p0=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Kj,label:s="Notifications ({hotkey})",...o}=e,a=Oc(h0,n),i=Vj(n),l=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=ue(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;h.useEffect(()=>{const x=w=>{var v;r.length!==0&&r.every(_=>w[_]||w.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),h.useEffect(()=>{const x=l.current,w=f.current;if(b&&x&&w){const g=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(of);w.dispatchEvent(E),a.isClosePausedRef.current=!0}},v=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(af);w.dispatchEvent(E),a.isClosePausedRef.current=!1}},_=E=>{!x.contains(E.relatedTarget)&&v()},S=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[b,a.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:x})=>{const g=i().map(v=>{const _=v.ref.current,S=[_,...aT(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?g.reverse():g).flat()},[i]);return h.useEffect(()=>{const x=f.current;if(x){const w=g=>{var S,E,C;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const k=document.activeElement,j=g.shiftKey;if(g.target===x&&j){(S=u.current)==null||S.focus();return}const A=y({tabbingDirection:j?"backwards":"forwards"}),O=A.findIndex(M=>M===k);Iu(A.slice(O+1))?g.preventDefault():j?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[i,y]),c.jsxs(Mj,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(lf,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});Iu(x)}}),c.jsx(Bh.Slot,{scope:n,children:c.jsx(X.ol,{tabIndex:-1,...o,ref:m})}),b&&c.jsx(lf,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});Iu(x)}})]})});p0.displayName=h0;var m0="ToastFocusProxy",lf=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Oc(m0,n);return c.jsx(Ac,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const i=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(i))&&r()}})});lf.displayName=m0;var yi="Toast",Gj="toast.swipeStart",Yj="toast.swipeMove",Qj="toast.swipeCancel",Xj="toast.swipeEnd",g0=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[i,l]=ms({prop:r,defaultProp:s??!0,onChange:o,caller:yi});return c.jsx(cn,{present:n||i,children:c.jsx(eT,{open:i,...a,ref:t,onClose:()=>l(!1),onPause:ut(e.onPause),onResume:ut(e.onResume),onSwipeStart:B(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:B(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:B(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:B(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});g0.displayName=yi;var[Jj,Zj]=d0(yi,{onClose(){}}),eT=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:i,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...b}=e,y=Oc(yi,n),[x,w]=h.useState(null),g=ue(t,M=>w(M)),v=h.useRef(null),_=h.useRef(null),S=s||y.duration,E=h.useRef(0),C=h.useRef(S),k=h.useRef(0),{onToastAdd:j,onToastRemove:N}=y,U=ut(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),a()}),A=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(U,M))},[U]);h.useEffect(()=>{const M=y.viewport;if(M){const V=()=>{A(C.current),u==null||u()},F=()=>{const W=new Date().getTime()-E.current;C.current=C.current-W,window.clearTimeout(k.current),l==null||l()};return M.addEventListener(of,F),M.addEventListener(af,V),()=>{M.removeEventListener(of,F),M.removeEventListener(af,V)}}},[y.viewport,S,l,u,A]),h.useEffect(()=>{o&&!y.isClosePausedRef.current&&A(S)},[o,S,y.isClosePausedRef,A]),h.useEffect(()=>(j(),()=>N()),[j,N]);const O=h.useMemo(()=>x?S0(x):null,[x]);return y.viewport?c.jsxs(c.Fragment,{children:[O&&c.jsx(tT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:O}),c.jsx(Jj,{scope:n,onClose:U,children:ks.createPortal(c.jsx(Bh.ItemSlot,{scope:n,children:c.jsx(Oj,{asChild:!0,onEscapeKeyDown:B(i,()=>{y.isFocusedToastEscapeKeyDownRef.current||U(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(X.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:B(e.onKeyDown,M=>{M.key==="Escape"&&(i==null||i(M.nativeEvent),M.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:B(e.onPointerDown,M=>{M.button===0&&(v.current={x:M.clientX,y:M.clientY})}),onPointerMove:B(e.onPointerMove,M=>{if(!v.current)return;const V=M.clientX-v.current.x,F=M.clientY-v.current.y,W=!!_.current,P=["left","right"].includes(y.swipeDirection),T=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,$=P?T(0,V):0,G=P?0:T(0,F),H=M.pointerType==="touch"?10:2,J={x:$,y:G},Q={originalEvent:M,delta:J};W?(_.current=J,Gi(Yj,f,Q,{discrete:!1})):yg(J,y.swipeDirection,H)?(_.current=J,Gi(Gj,d,Q,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(V)>H||Math.abs(F)>H)&&(v.current=null)}),onPointerUp:B(e.onPointerUp,M=>{const V=_.current,F=M.target;if(F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),_.current=null,v.current=null,V){const W=M.currentTarget,P={originalEvent:M,delta:V};yg(V,y.swipeDirection,y.swipeThreshold)?Gi(Xj,p,P,{discrete:!0}):Gi(Qj,m,P,{discrete:!0}),W.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),tT=e=>{const{__scopeToast:t,children:n,...r}=e,s=Oc(yi,t),[o,a]=h.useState(!1),[i,l]=h.useState(!1);return sT(()=>a(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:c.jsx(vi,{asChild:!0,children:c.jsx(Ac,{...r,children:o&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},nT="ToastTitle",v0=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(X.div,{...r,ref:t})});v0.displayName=nT;var rT="ToastDescription",y0=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(X.div,{...r,ref:t})});y0.displayName=rT;var w0="ToastAction",x0=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(_0,{altText:n,asChild:!0,children:c.jsx(Wh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${w0}\`. Expected non-empty \`string\`.`),null)});x0.displayName=w0;var b0="ToastClose",Wh=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=Zj(b0,n);return c.jsx(_0,{asChild:!0,children:c.jsx(X.button,{type:"button",...r,ref:t,onClick:B(e.onClick,s.onClose)})})});Wh.displayName=b0;var _0=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return c.jsx(X.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function S0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),oT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...S0(r))}}),t}function Gi(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Uh(s,o):s.dispatchEvent(o)}var yg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function sT(e=()=>{}){const t=ut(e);Fe(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function oT(e){return e.nodeType===e.ELEMENT_NODE}function aT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Iu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var iT=f0,E0=p0,C0=g0,k0=v0,j0=y0,T0=x0,P0=Wh;function N0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=N0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function R0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=N0(e))&&(r&&(r+=" "),r+=t);return r}const wg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xg=R0,wi=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return xg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=wg(d)||wg(f);return s[u][m]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[y,x]=b;return Array.isArray(x)?x.includes({...o,...i}[y]):{...o,...i}[y]===x})?[...u,f,m]:u},[]);return xg(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(e,t)=>{const n=h.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:i="",children:l,...u},d)=>h.createElement("svg",{ref:d,...lT,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${cT(e)}`,i].join(" "),...u},[...t.map(([f,m])=>h.createElement(f,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ge("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ge("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ge("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qh="-",PT=e=>{const t=RT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const i=a.split(qh);return i[0]===""&&i.length!==1&&i.shift(),F0(i,t)||NT(a)},getConflictingClassGroupIds:(a,i)=>{const l=n[a]||[];return i&&r[a]?[...l,...r[a]]:l}}},F0=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?F0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(qh);return(a=t.validators.find(({validator:i})=>i(o)))==null?void 0:a.classGroupId},_g=/^\[(.+)\]$/,NT=e=>{if(_g.test(e)){const t=_g.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},RT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return OT(Object.entries(e.classGroups),n).forEach(([o,a])=>{cf(a,r,o,t)}),r},cf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Sg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(AT(s)){cf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{cf(a,Sg(t,o),n,r)})})},Sg=(e,t)=>{let n=e;return t.split(qh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AT=e=>e.isThemeGetter,OT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,i])=>[t+a,i])):o);return[n,s]}):e,MT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},U0="!",DT=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,a=i=>{const l=[];let u=0,d=0,f;for(let x=0;x<i.length;x++){let w=i[x];if(u===0){if(w===s&&(r||i.slice(x,x+o)===t)){l.push(i.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const m=l.length===0?i:i.substring(d),p=m.startsWith(U0),b=p?m.substring(1):m,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:y}};return n?i=>n({className:i,parseClassName:a}):a},IT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},$T=e=>({cache:MT(e.cacheSize),parseClassName:DT(e),...PT(e)}),LT=/\s+/,FT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(LT);let i="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let b=!!p,y=r(b?m.substring(0,p):m);if(!y){if(!b){i=u+(i.length>0?" "+i:i);continue}if(y=r(m),!y){i=u+(i.length>0?" "+i:i);continue}b=!1}const x=IT(d).join(":"),w=f?x+U0:x,g=w+y;if(o.includes(g))continue;o.push(g);const v=s(y,b);for(let _=0;_<v.length;++_){const S=v[_];o.push(w+S)}i=u+(i.length>0?" "+i:i)}return i};function UT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=z0(t))&&(r&&(r+=" "),r+=n);return r}const z0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=z0(e[r]))&&(n&&(n+=" "),n+=t);return n};function zT(e,...t){let n,r,s,o=a;function a(l){const u=t.reduce((d,f)=>f(d),e());return n=$T(u),r=n.cache.get,s=n.cache.set,o=i,i(l)}function i(l){const u=r(l);if(u)return u;const d=FT(l,n);return s(l,d),d}return function(){return o(UT.apply(null,arguments))}}const _e=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},B0=/^\[(?:([a-z-]+):)?(.+)\]$/i,BT=/^\d+\/\d+$/,WT=new Set(["px","full","screen"]),VT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=e=>po(e)||WT.has(e)||BT.test(e),er=e=>qo(e,"length",nP),po=e=>!!e&&!Number.isNaN(Number(e)),$u=e=>qo(e,"number",po),da=e=>!!e&&Number.isInteger(Number(e)),YT=e=>e.endsWith("%")&&po(e.slice(0,-1)),re=e=>B0.test(e),tr=e=>VT.test(e),QT=new Set(["length","size","percentage"]),XT=e=>qo(e,QT,W0),JT=e=>qo(e,"position",W0),ZT=new Set(["image","url"]),eP=e=>qo(e,ZT,sP),tP=e=>qo(e,"",rP),fa=()=>!0,qo=(e,t,n)=>{const r=B0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},nP=e=>HT.test(e)&&!qT.test(e),W0=()=>!1,rP=e=>KT.test(e),sP=e=>GT.test(e),oP=()=>{const e=_e("colors"),t=_e("spacing"),n=_e("blur"),r=_e("brightness"),s=_e("borderColor"),o=_e("borderRadius"),a=_e("borderSpacing"),i=_e("borderWidth"),l=_e("contrast"),u=_e("grayscale"),d=_e("hueRotate"),f=_e("invert"),m=_e("gap"),p=_e("gradientColorStops"),b=_e("gradientColorStopPositions"),y=_e("inset"),x=_e("margin"),w=_e("opacity"),g=_e("padding"),v=_e("saturate"),_=_e("scale"),S=_e("sepia"),E=_e("skew"),C=_e("space"),k=_e("translate"),j=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",re,t],A=()=>[re,t],O=()=>["",Nn,er],M=()=>["auto",po,re],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",re],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[po,re];return{cacheSize:500,separator:":",theme:{colors:[fa],spacing:[Nn,er],blur:["none","",tr,re],brightness:G(),borderColor:[e],borderRadius:["none","","full",tr,re],borderSpacing:A(),borderWidth:O(),contrast:G(),grayscale:T(),hueRotate:G(),invert:T(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[YT,er],inset:U(),margin:U(),opacity:G(),padding:A(),saturate:G(),scale:G(),sepia:T(),skew:G(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[tr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),re]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",da,re]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",da,re]}],"grid-cols":[{"grid-cols":[fa]}],"col-start-end":[{col:["auto",{span:["full",da,re]},re]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[fa]}],"row-start-end":[{row:["auto",{span:[da,re]},re]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[tr]},tr]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",tr,er]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$u]}],"font-family":[{font:[fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",po,$u]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,er]}],"underline-offset":[{"underline-offset":["auto",Nn,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),JT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Nn,re]}],"outline-w":[{outline:[Nn,er]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Nn,er]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",tr,tP]}],"shadow-color":[{shadow:[fa]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",tr,re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[da,re]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nn,er,$u]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aP=zT(oP);function Y(...e){return aP(R0(e))}const iP=iT,V0=h.forwardRef(({className:e,...t},n)=>c.jsx(E0,{ref:n,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));V0.displayName=E0.displayName;const lP=wi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),H0=h.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(C0,{ref:r,className:Y(lP({variant:t}),e),...n}));H0.displayName=C0.displayName;const cP=h.forwardRef(({className:e,...t},n)=>c.jsx(T0,{ref:n,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));cP.displayName=T0.displayName;const q0=h.forwardRef(({className:e,...t},n)=>c.jsx(P0,{ref:n,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Hh,{className:"h-4 w-4"})}));q0.displayName=P0.displayName;const K0=h.forwardRef(({className:e,...t},n)=>c.jsx(k0,{ref:n,className:Y("text-sm font-semibold",e),...t}));K0.displayName=k0.displayName;const G0=h.forwardRef(({className:e,...t},n)=>c.jsx(j0,{ref:n,className:Y("text-sm opacity-90",e),...t}));G0.displayName=j0.displayName;const uP=1,dP=1e6;let Lu=0;function fP(){return Lu=(Lu+1)%Number.MAX_SAFE_INTEGER,Lu.toString()}const Fu=new Map,Eg=e=>{if(Fu.has(e))return;const t=setTimeout(()=>{Fu.delete(e),Ra({type:"REMOVE_TOAST",toastId:e})},dP);Fu.set(e,t)},hP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Eg(n):e.toasts.forEach(r=>{Eg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},gl=[];let vl={toasts:[]};function Ra(e){vl=hP(vl,e),gl.forEach(t=>{t(vl)})}function pP({...e}){const t=fP(),n=s=>Ra({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ra({type:"DISMISS_TOAST",toastId:t});return Ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Y0(){const[e,t]=h.useState(vl);return h.useEffect(()=>(gl.push(t),()=>{const n=gl.indexOf(t);n>-1&&gl.splice(n,1)}),[e]),{...e,toast:pP,dismiss:n=>Ra({type:"DISMISS_TOAST",toastId:n})}}function mP(){const{toasts:e}=Y0();return c.jsxs(iP,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return c.jsxs(H0,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(K0,{children:n}),r&&c.jsx(G0,{children:r})]}),s,c.jsx(q0,{})]},t)}),c.jsx(V0,{})]})}const gP=({...e})=>{const{theme:t="system"}=n0();return c.jsx(s0,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var vP=Hf[" useId ".trim().toString()]||(()=>{}),yP=0;function Cn(e){const[t,n]=h.useState(vP());return Fe(()=>{n(r=>r??String(yP++))},[e]),t?`radix-${t}`:""}const wP=["top","right","bottom","left"],Rr=Math.min,St=Math.max,Xl=Math.round,Yi=Math.floor,kn=e=>({x:e,y:e}),xP={left:"right",right:"left",bottom:"top",top:"bottom"},bP={start:"end",end:"start"};function uf(e,t,n){return St(e,Rr(t,n))}function Hn(e,t){return typeof e=="function"?e(t):e}function qn(e){return e.split("-")[0]}function Ko(e){return e.split("-")[1]}function Kh(e){return e==="x"?"y":"x"}function Gh(e){return e==="y"?"height":"width"}const _P=new Set(["top","bottom"]);function _n(e){return _P.has(qn(e))?"y":"x"}function Yh(e){return Kh(_n(e))}function SP(e,t,n){n===void 0&&(n=!1);const r=Ko(e),s=Yh(e),o=Gh(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Jl(a)),[a,Jl(a)]}function EP(e){const t=Jl(e);return[df(e),t,df(t)]}function df(e){return e.replace(/start|end/g,t=>bP[t])}const Cg=["left","right"],kg=["right","left"],CP=["top","bottom"],kP=["bottom","top"];function jP(e,t,n){switch(e){case"top":case"bottom":return n?t?kg:Cg:t?Cg:kg;case"left":case"right":return t?CP:kP;default:return[]}}function TP(e,t,n,r){const s=Ko(e);let o=jP(qn(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(df)))),o}function Jl(e){return e.replace(/left|right|bottom|top/g,t=>xP[t])}function PP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Q0(e){return typeof e!="number"?PP(e):{top:e,right:e,bottom:e,left:e}}function Zl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jg(e,t,n){let{reference:r,floating:s}=e;const o=_n(t),a=Yh(t),i=Gh(a),l=qn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[i]/2-s[i]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ko(t)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const NP=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,i=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=jg(u,r,l),m=r,p={},b=0;for(let y=0;y<i.length;y++){const{name:x,fn:w}=i[y],{x:g,y:v,data:_,reset:S}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=g??d,f=v??f,p={...p,[x]:{...p[x],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=jg(u,m,l)),y=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function ei(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:i,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Hn(t,e),b=Q0(p),x=i[m?f==="floating"?"reference":"floating":f],w=Zl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:l})),g=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},S=Zl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:v,strategy:l}):g);return{top:(w.top-S.top+b.top)/_.y,bottom:(S.bottom-w.bottom+b.bottom)/_.y,left:(w.left-S.left+b.left)/_.x,right:(S.right-w.right+b.right)/_.x}}const RP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:i,middlewareData:l}=t,{element:u,padding:d=0}=Hn(e,t)||{};if(u==null)return{};const f=Q0(d),m={x:n,y:r},p=Yh(s),b=Gh(p),y=await a.getDimensions(u),x=p==="y",w=x?"top":"left",g=x?"bottom":"right",v=x?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[p]-m[p]-o.floating[b],S=m[p]-o.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=E?E[v]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=i.floating[v]||o.floating[b]);const k=_/2-S/2,j=C/2-y[b]/2-1,N=Rr(f[w],j),U=Rr(f[g],j),A=N,O=C-y[b]-U,M=C/2-y[b]/2+k,V=uf(A,M,O),F=!l.arrow&&Ko(s)!=null&&M!==V&&o.reference[b]/2-(M<A?N:U)-y[b]/2<0,W=F?M<A?M-A:M-O:0;return{[p]:m[p]+W,data:{[p]:V,centerOffset:M-V-W,...F&&{alignmentOffset:W}},reset:F}}}),AP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:i,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...x}=Hn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=qn(s),g=_n(i),v=qn(i)===i,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=m||(v||!y?[Jl(i)]:EP(i)),E=b!=="none";!m&&E&&S.push(...TP(i,y,b,_));const C=[i,...S],k=await ei(t,x),j=[];let N=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&j.push(k[w]),f){const M=SP(s,a,_);j.push(k[M[0]],k[M[1]])}if(N=[...N,{placement:s,overflows:j}],!j.every(M=>M<=0)){var U,A;const M=(((U=o.flip)==null?void 0:U.index)||0)+1,V=C[M];if(V&&(!(f==="alignment"?g!==_n(V):!1)||N.every(P=>_n(P.placement)===g?P.overflows[0]>0:!0)))return{data:{index:M,overflows:N},reset:{placement:V}};let F=(A=N.filter(W=>W.overflows[0]<=0).sort((W,P)=>W.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!F)switch(p){case"bestFit":{var O;const W=(O=N.filter(P=>{if(E){const T=_n(P.placement);return T===g||T==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(T=>T>0).reduce((T,$)=>T+$,0)]).sort((P,T)=>P[1]-T[1])[0])==null?void 0:O[0];W&&(F=W);break}case"initialPlacement":F=i;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function Tg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pg(e){return wP.some(t=>e[t]>=0)}const OP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Hn(e,t);switch(r){case"referenceHidden":{const o=await ei(t,{...s,elementContext:"reference"}),a=Tg(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Pg(a)}}}case"escaped":{const o=await ei(t,{...s,altBoundary:!0}),a=Tg(o,n.floating);return{data:{escapedOffsets:a,escaped:Pg(a)}}}default:return{}}}}},X0=new Set(["left","top"]);async function MP(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=qn(n),i=Ko(n),l=_n(n)==="y",u=X0.has(a)?-1:1,d=o&&l?-1:1,f=Hn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof b=="number"&&(p=i==="end"?b*-1:b),l?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const DP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:i}=t,l=await MP(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:a}}}}},IP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:x=>{let{x:w,y:g}=x;return{x:w,y:g}}},...l}=Hn(e,t),u={x:n,y:r},d=await ei(t,l),f=_n(qn(s)),m=Kh(f);let p=u[m],b=u[f];if(o){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",g=p+d[x],v=p-d[w];p=uf(g,p,v)}if(a){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",g=b+d[x],v=b-d[w];b=uf(g,b,v)}const y=i.fn({...t,[m]:p,[f]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[f]:a}}}}}},$P=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:i=0,mainAxis:l=!0,crossAxis:u=!0}=Hn(e,t),d={x:n,y:r},f=_n(s),m=Kh(f);let p=d[m],b=d[f];const y=Hn(i,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const v=m==="y"?"height":"width",_=o.reference[m]-o.floating[v]+x.mainAxis,S=o.reference[m]+o.reference[v]-x.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var w,g;const v=m==="y"?"width":"height",_=X0.has(qn(s)),S=o.reference[f]-o.floating[v]+(_&&((w=a.offset)==null?void 0:w[f])||0)+(_?0:x.crossAxis),E=o.reference[f]+o.reference[v]+(_?0:((g=a.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[m]:p,[f]:b}}}},LP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:i}=t,{apply:l=()=>{},...u}=Hn(e,t),d=await ei(t,u),f=qn(s),m=Ko(s),p=_n(s)==="y",{width:b,height:y}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=m===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(w=f,x=m==="end"?"top":"bottom");const g=y-d.top-d.bottom,v=b-d.left-d.right,_=Rr(y-d[x],g),S=Rr(b-d[w],v),E=!t.middlewareData.shift;let C=_,k=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=g),E&&!m){const N=St(d.left,0),U=St(d.right,0),A=St(d.top,0),O=St(d.bottom,0);p?k=b-2*(N!==0||U!==0?N+U:St(d.left,d.right)):C=y-2*(A!==0||O!==0?A+O:St(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:C});const j=await a.getDimensions(i.floating);return b!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}};function Mc(){return typeof window<"u"}function Go(e){return J0(e)?(e.nodeName||"").toLowerCase():"#document"}function kt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tn(e){var t;return(t=(J0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function J0(e){return Mc()?e instanceof Node||e instanceof kt(e).Node:!1}function an(e){return Mc()?e instanceof Element||e instanceof kt(e).Element:!1}function jn(e){return Mc()?e instanceof HTMLElement||e instanceof kt(e).HTMLElement:!1}function Ng(e){return!Mc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kt(e).ShadowRoot}const FP=new Set(["inline","contents"]);function xi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FP.has(s)}const UP=new Set(["table","td","th"]);function zP(e){return UP.has(Go(e))}const BP=[":popover-open",":modal"];function Dc(e){return BP.some(t=>{try{return e.matches(t)}catch{return!1}})}const WP=["transform","translate","scale","rotate","perspective"],VP=["transform","translate","scale","rotate","perspective","filter"],HP=["paint","layout","strict","content"];function Qh(e){const t=Xh(),n=an(e)?ln(e):e;return WP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||VP.some(r=>(n.willChange||"").includes(r))||HP.some(r=>(n.contain||"").includes(r))}function qP(e){let t=Ar(e);for(;jn(t)&&!Io(t);){if(Qh(t))return t;if(Dc(t))return null;t=Ar(t)}return null}function Xh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KP=new Set(["html","body","#document"]);function Io(e){return KP.has(Go(e))}function ln(e){return kt(e).getComputedStyle(e)}function Ic(e){return an(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ar(e){if(Go(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ng(e)&&e.host||Tn(e);return Ng(t)?t.host:t}function Z0(e){const t=Ar(e);return Io(t)?e.ownerDocument?e.ownerDocument.body:e.body:jn(t)&&xi(t)?t:Z0(t)}function ti(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Z0(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=kt(s);if(o){const i=ff(a);return t.concat(a,a.visualViewport||[],xi(s)?s:[],i&&n?ti(i):[])}return t.concat(s,ti(s,[],n))}function ff(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ex(e){const t=ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=jn(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,i=Xl(n)!==o||Xl(r)!==a;return i&&(n=o,r=a),{width:n,height:r,$:i}}function Jh(e){return an(e)?e:e.contextElement}function mo(e){const t=Jh(e);if(!jn(t))return kn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=ex(t);let a=(o?Xl(n.width):n.width)/r,i=(o?Xl(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const GP=kn(0);function tx(e){const t=kt(e);return!Xh()||!t.visualViewport?GP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kt(e)?!1:t}function vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Jh(e);let a=kn(1);t&&(r?an(r)&&(a=mo(r)):a=mo(e));const i=YP(o,n,r)?tx(o):kn(0);let l=(s.left+i.x)/a.x,u=(s.top+i.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const m=kt(o),p=r&&an(r)?kt(r):r;let b=m,y=ff(b);for(;y&&r&&p!==b;){const x=mo(y),w=y.getBoundingClientRect(),g=ln(y),v=w.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,_=w.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=v,u+=_,b=kt(y),y=ff(b)}}return Zl({width:d,height:f,x:l,y:u})}function Zh(e,t){const n=Ic(e).scrollLeft;return t?t.left+n:vs(Tn(e)).left+n}function nx(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Zh(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function QP(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=Tn(r),i=t?Dc(t.floating):!1;if(r===a||i&&o)return n;let l={scrollLeft:0,scrollTop:0},u=kn(1);const d=kn(0),f=jn(r);if((f||!f&&!o)&&((Go(r)!=="body"||xi(a))&&(l=Ic(r)),jn(r))){const p=vs(r);u=mo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=a&&!f&&!o?nx(a,l,!0):kn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function XP(e){return Array.from(e.getClientRects())}function JP(e){const t=Tn(e),n=Ic(e),r=e.ownerDocument.body,s=St(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=St(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Zh(e);const i=-n.scrollTop;return ln(r).direction==="rtl"&&(a+=St(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:i}}function ZP(e,t){const n=kt(e),r=Tn(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,i=0,l=0;if(s){o=s.width,a=s.height;const u=Xh();(!u||u&&t==="fixed")&&(i=s.offsetLeft,l=s.offsetTop)}return{width:o,height:a,x:i,y:l}}const eN=new Set(["absolute","fixed"]);function tN(e,t){const n=vs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=jn(e)?mo(e):kn(1),a=e.clientWidth*o.x,i=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:a,height:i,x:l,y:u}}function Rg(e,t,n){let r;if(t==="viewport")r=ZP(e,n);else if(t==="document")r=JP(Tn(e));else if(an(t))r=tN(t,n);else{const s=tx(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Zl(r)}function rx(e,t){const n=Ar(e);return n===t||!an(n)||Io(n)?!1:ln(n).position==="fixed"||rx(n,t)}function nN(e,t){const n=t.get(e);if(n)return n;let r=ti(e,[],!1).filter(i=>an(i)&&Go(i)!=="body"),s=null;const o=ln(e).position==="fixed";let a=o?Ar(e):e;for(;an(a)&&!Io(a);){const i=ln(a),l=Qh(a);!l&&i.position==="fixed"&&(s=null),(o?!l&&!s:!l&&i.position==="static"&&!!s&&eN.has(s.position)||xi(a)&&!l&&rx(e,a))?r=r.filter(d=>d!==a):s=i,a=Ar(a)}return t.set(e,r),r}function rN(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Dc(t)?[]:nN(t,this._c):[].concat(n),r],i=a[0],l=a.reduce((u,d)=>{const f=Rg(t,d,s);return u.top=St(f.top,u.top),u.right=Rr(f.right,u.right),u.bottom=Rr(f.bottom,u.bottom),u.left=St(f.left,u.left),u},Rg(t,i,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sN(e){const{width:t,height:n}=ex(e);return{width:t,height:n}}function oN(e,t,n){const r=jn(t),s=Tn(t),o=n==="fixed",a=vs(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=kn(0);function u(){l.x=Zh(s)}if(r||!r&&!o)if((Go(t)!=="body"||xi(s))&&(i=Ic(t)),r){const p=vs(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?nx(s,i):kn(0),f=a.left+i.scrollLeft-l.x-d.x,m=a.top+i.scrollTop-l.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function Uu(e){return ln(e).position==="static"}function Ag(e,t){if(!jn(e)||ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Tn(e)===n&&(n=n.ownerDocument.body),n}function sx(e,t){const n=kt(e);if(Dc(e))return n;if(!jn(e)){let s=Ar(e);for(;s&&!Io(s);){if(an(s)&&!Uu(s))return s;s=Ar(s)}return n}let r=Ag(e,t);for(;r&&zP(r)&&Uu(r);)r=Ag(r,t);return r&&Io(r)&&Uu(r)&&!Qh(r)?n:r||qP(e)||n}const aN=async function(e){const t=this.getOffsetParent||sx,n=this.getDimensions,r=await n(e.floating);return{reference:oN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iN(e){return ln(e).direction==="rtl"}const lN={convertOffsetParentRelativeRectToViewportRelativeRect:QP,getDocumentElement:Tn,getClippingRect:rN,getOffsetParent:sx,getElementRects:aN,getClientRects:XP,getDimensions:sN,getScale:mo,isElement:an,isRTL:iN};function ox(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cN(e,t){let n=null,r;const s=Tn(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(i||t(),!m||!p)return;const b=Yi(f),y=Yi(s.clientWidth-(d+m)),x=Yi(s.clientHeight-(f+p)),w=Yi(d),v={rootMargin:-b+"px "+-y+"px "+-x+"px "+-w+"px",threshold:St(0,Rr(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!ox(u,e.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(S,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return a(!0),o}function uN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Jh(e),d=s||o?[...u?ti(u):[],...ti(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=u&&i?cN(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let b,y=l?vs(e):null;l&&x();function x(){const w=vs(e);y&&!ox(y,w)&&n(),y=w,b=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(b)}}const dN=DP,fN=IP,hN=AP,pN=LP,mN=OP,Og=RP,gN=$P,vN=(e,t,n)=>{const r=new Map,s={platform:lN,...n},o={...s.platform,_c:r};return NP(e,t,{...s,platform:o})};var yN=typeof document<"u",wN=function(){},yl=yN?h.useLayoutEffect:wN;function ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ec(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ax(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mg(e,t){const n=ax(e);return Math.round(t*n)/n}function zu(e){const t=h.useRef(e);return yl(()=>{t.current=e}),t}function xN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:l,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);ec(m,r)||p(r);const[b,y]=h.useState(null),[x,w]=h.useState(null),g=h.useCallback(P=>{P!==E.current&&(E.current=P,y(P))},[]),v=h.useCallback(P=>{P!==C.current&&(C.current=P,w(P))},[]),_=o||b,S=a||x,E=h.useRef(null),C=h.useRef(null),k=h.useRef(d),j=l!=null,N=zu(l),U=zu(s),A=zu(u),O=h.useCallback(()=>{if(!E.current||!C.current)return;const P={placement:t,strategy:n,middleware:m};U.current&&(P.platform=U.current),vN(E.current,C.current,P).then(T=>{const $={...T,isPositioned:A.current!==!1};M.current&&!ec(k.current,$)&&(k.current=$,ks.flushSync(()=>{f($)}))})},[m,t,n,U,A]);yl(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const M=h.useRef(!1);yl(()=>(M.current=!0,()=>{M.current=!1}),[]),yl(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(N.current)return N.current(_,S,O);O()}},[_,S,O,N,j]);const V=h.useMemo(()=>({reference:E,floating:C,setReference:g,setFloating:v}),[g,v]),F=h.useMemo(()=>({reference:_,floating:S}),[_,S]),W=h.useMemo(()=>{const P={position:n,left:0,top:0};if(!F.floating)return P;const T=Mg(F.floating,d.x),$=Mg(F.floating,d.y);return i?{...P,transform:"translate("+T+"px, "+$+"px)",...ax(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:$}},[n,i,F.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:O,refs:V,elements:F,floatingStyles:W}),[d,O,V,F,W])}const bN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Og({element:r.current,padding:s}).fn(n):{}:r?Og({element:r,padding:s}).fn(n):{}}}},_N=(e,t)=>({...dN(e),options:[e,t]}),SN=(e,t)=>({...fN(e),options:[e,t]}),EN=(e,t)=>({...gN(e),options:[e,t]}),CN=(e,t)=>({...hN(e),options:[e,t]}),kN=(e,t)=>({...pN(e),options:[e,t]}),jN=(e,t)=>({...mN(e),options:[e,t]}),TN=(e,t)=>({...bN(e),options:[e,t]});var PN="Arrow",ix=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(X.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});ix.displayName=PN;var NN=ix;function RN(e){const[t,n]=h.useState(void 0);return Fe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,i;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,i=u.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ep="Popper",[lx,Yo]=Bt(ep),[AN,cx]=lx(ep),ux=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return c.jsx(AN,{scope:t,anchor:r,onAnchorChange:s,children:n})};ux.displayName=ep;var dx="PopperAnchor",fx=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=cx(dx,n),a=h.useRef(null),i=ue(t,a),l=h.useRef(null);return h.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||a.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(X.div,{...s,ref:i})});fx.displayName=dx;var tp="PopperContent",[ON,MN]=lx(tp),hx=h.forwardRef((e,t)=>{var L,de,fe,ie,le,he;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...y}=e,x=cx(tp,n),[w,g]=h.useState(null),v=ue(t,Je=>g(Je)),[_,S]=h.useState(null),E=RN(_),C=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,j=r+(o!=="center"?"-"+o:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],A=U.length>0,O={padding:N,boundary:U.filter(IN),altBoundary:A},{refs:M,floatingStyles:V,placement:F,isPositioned:W,middlewareData:P}=xN({strategy:"fixed",placement:j,whileElementsMounted:(...Je)=>uN(...Je,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[_N({mainAxis:s+k,alignmentAxis:a}),l&&SN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?EN():void 0,...O}),l&&CN({...O}),kN({...O,apply:({elements:Je,rects:Nt,availableWidth:zr,availableHeight:Yn})=>{const{width:Br,height:ta}=Nt.reference,Rs=Je.floating.style;Rs.setProperty("--radix-popper-available-width",`${zr}px`),Rs.setProperty("--radix-popper-available-height",`${Yn}px`),Rs.setProperty("--radix-popper-anchor-width",`${Br}px`),Rs.setProperty("--radix-popper-anchor-height",`${ta}px`)}}),_&&TN({element:_,padding:i}),$N({arrowWidth:C,arrowHeight:k}),m&&jN({strategy:"referenceHidden",...O})]}),[T,$]=gx(F),G=ut(b);Fe(()=>{W&&(G==null||G())},[W,G]);const H=(L=P.arrow)==null?void 0:L.x,J=(de=P.arrow)==null?void 0:de.y,Q=((fe=P.arrow)==null?void 0:fe.centerOffset)!==0,[z,se]=h.useState();return Fe(()=>{w&&se(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ie=P.transformOrigin)==null?void 0:ie.x,(le=P.transformOrigin)==null?void 0:le.y].join(" "),...((he=P.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(ON,{scope:n,placedSide:T,onArrowChange:S,arrowX:H,arrowY:J,shouldHideArrow:Q,children:c.jsx(X.div,{"data-side":T,"data-align":$,...y,ref:v,style:{...y.style,animation:W?void 0:"none"}})})})});hx.displayName=tp;var px="PopperArrow",DN={top:"bottom",right:"left",bottom:"top",left:"right"},mx=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=MN(px,r),a=DN[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(NN,{...s,ref:n,style:{...s.style,display:"block"}})})});mx.displayName=px;function IN(e){return e!==null}var $N=e=>({name:"transformOrigin",options:e,fn(t){var x,w,g;const{placement:n,rects:r,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,i=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[u,d]=gx(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+i/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let b="",y="";return u==="bottom"?(b=a?f:`${m}px`,y=`${-l}px`):u==="top"?(b=a?f:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,y=a?f:`${p}px`):u==="left"&&(b=`${r.floating.width+l}px`,y=a?f:`${p}px`),{data:{x:b,y}}}});function gx(e){const[t,n="center"]=e.split("-");return[t,n]}var vx=ux,np=fx,rp=hx,sp=mx,[$c,x4]=Bt("Tooltip",[Yo]),op=Yo(),yx="TooltipProvider",LN=700,Dg="tooltip.open",[FN,wx]=$c(yx),xx=e=>{const{__scopeTooltip:t,delayDuration:n=LN,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,a=h.useRef(!0),i=h.useRef(!1),l=h.useRef(0);return h.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(FN,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:h.useCallback(u=>{i.current=u},[]),disableHoverableContent:s,children:o})};xx.displayName=yx;var bx="Tooltip",[b4,Lc]=$c(bx),hf="TooltipTrigger",UN=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Lc(hf,n),o=wx(hf,n),a=op(n),i=h.useRef(null),l=ue(t,i,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(np,{asChild:!0,...a,children:c.jsx(X.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:B(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:B(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:B(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:B(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:B(e.onBlur,s.onClose),onClick:B(e.onClick,s.onClose)})})});UN.displayName=hf;var zN="TooltipPortal",[_4,BN]=$c(zN,{forceMount:void 0}),$o="TooltipContent",_x=h.forwardRef((e,t)=>{const n=BN($o,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,a=Lc($o,e.__scopeTooltip);return c.jsx(cn,{present:r||a.open,children:a.disableHoverableContent?c.jsx(Sx,{side:s,...o,ref:t}):c.jsx(WN,{side:s,...o,ref:t})})}),WN=h.forwardRef((e,t)=>{const n=Lc($o,e.__scopeTooltip),r=wx($o,e.__scopeTooltip),s=h.useRef(null),o=ue(t,s),[a,i]=h.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{i(null),f(!1)},[f]),p=h.useCallback((b,y)=>{const x=b.currentTarget,w={x:b.clientX,y:b.clientY},g=GN(w,x.getBoundingClientRect()),v=YN(w,g),_=QN(y.getBoundingClientRect()),S=JN([...v,..._]);i(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(l&&d){const b=x=>p(x,d),y=x=>p(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",y)}}},[l,d,p,m]),h.useEffect(()=>{if(a){const b=y=>{const x=y.target,w={x:y.clientX,y:y.clientY},g=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),v=!XN(w,a);g?m():v&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,a,u,m]),c.jsx(Sx,{...e,ref:o})}),[VN,HN]=$c(bx,{isInside:!1}),qN=a0("TooltipContent"),Sx=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...i}=e,l=Lc($o,n),u=op(n),{onClose:d}=l;return h.useEffect(()=>(document.addEventListener(Dg,d),()=>document.removeEventListener(Dg,d)),[d]),h.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Ho,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(rp,{"data-state":l.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(qN,{children:r}),c.jsx(VN,{scope:n,isInside:!0,children:c.jsx(Wj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});_x.displayName=$o;var Ex="TooltipArrow",KN=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=op(n);return HN(Ex,n).isInside?null:c.jsx(sp,{...s,...r,ref:t})});KN.displayName=Ex;function GN(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YN(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function QN(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function XN(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],l=t[a],u=i.x,d=i.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function JN(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZN(t)}function ZN(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var eR=xx,Cx=_x;const tR=eR,nR=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(Cx,{ref:r,sideOffset:t,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));nR.displayName=Cx.displayName;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(this,arguments)}var wr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wr||(wr={}));const Ig="popstate";function rR(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:i}=r.location;return pf("",{pathname:o,search:a,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tc(s)}return oR(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sR(){return Math.random().toString(36).substr(2,8)}function $g(e,t){return{usr:e.state,key:e.key,idx:t}}function pf(e,t,n,r){return n===void 0&&(n=null),ni({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qo(t):t,{state:n,key:t&&t.key||r||sR()})}function tc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oR(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,i=wr.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(ni({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){i=wr.Pop;let x=d(),w=x==null?null:x-u;u=x,l&&l({action:i,location:y.location,delta:w})}function m(x,w){i=wr.Push;let g=pf(y.location,x,w);u=d()+1;let v=$g(g,u),_=y.createHref(g);try{a.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:i,location:y.location,delta:1})}function p(x,w){i=wr.Replace;let g=pf(y.location,x,w);u=d();let v=$g(g,u),_=y.createHref(g);a.replaceState(v,"",_),o&&l&&l({action:i,location:y.location,delta:0})}function b(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:tc(x);return g=g.replace(/ $/,"%20"),De(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let y={get action(){return i},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ig,f),l=x,()=>{s.removeEventListener(Ig,f),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let w=b(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(x){return a.go(x)}};return y}var Lg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lg||(Lg={}));function aR(e,t,n){return n===void 0&&(n="/"),iR(e,t,n)}function iR(e,t,n,r){let s=typeof t=="string"?Qo(t):t,o=ap(s.pathname||"/",n);if(o==null)return null;let a=jx(e);lR(a);let i=null;for(let l=0;i==null&&l<a.length;++l){let u=xR(o);i=vR(a[l],u)}return i}function jx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(De(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:mR(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))s(o,a);else for(let l of Tx(o.path))s(o,a,l)}),t}function Tx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=Tx(r.join("/")),i=[];return i.push(...a.map(l=>l===""?o:[o,l].join("/"))),s&&i.push(...a),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function lR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cR=/^:[\w-]+$/,uR=3,dR=2,fR=1,hR=10,pR=-2,Fg=e=>e==="*";function mR(e,t){let n=e.split("/"),r=n.length;return n.some(Fg)&&(r+=pR),t&&(r+=dR),n.filter(s=>!Fg(s)).reduce((s,o)=>s+(cR.test(o)?uR:o===""?fR:hR),r)}function gR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function vR(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let i=0;i<r.length;++i){let l=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=yR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Tr([o,f.pathname]),pathnameBase:ER(Tr([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Tr([o,f.pathnameBase]))}return a}function yR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let y=i[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=i[f];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function wR(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,l)=>(r.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function xR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ap(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bR(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Qo(e):e;return{pathname:n?n.startsWith("/")?n:_R(n,t):t,search:CR(r),hash:kR(s)}}function _R(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ip(e,t){let n=SR(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lp(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Qo(e):(s=ni({},e),De(!s.pathname||!s.pathname.includes("?"),Bu("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Bu("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Bu("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}i=f>=0?t[f]:"/"}let l=bR(s,i),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Tr=e=>e.join("/").replace(/\/\/+/g,"/"),ER=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Px=["post","put","patch","delete"];new Set(Px);const TR=["get",...Px];new Set(TR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri.apply(this,arguments)}const cp=h.createContext(null),PR=h.createContext(null),Ir=h.createContext(null),Fc=h.createContext(null),$r=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Nx=h.createContext(null);function NR(e,t){let{relative:n}=t===void 0?{}:t;Xo()||De(!1);let{basename:r,navigator:s}=h.useContext(Ir),{hash:o,pathname:a,search:i}=Ox(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Tr([r,a])),s.createHref({pathname:l,search:i,hash:o})}function Xo(){return h.useContext(Fc)!=null}function js(){return Xo()||De(!1),h.useContext(Fc).location}function Rx(e){h.useContext(Ir).static||h.useLayoutEffect(e)}function Ax(){let{isDataRoute:e}=h.useContext($r);return e?WR():RR()}function RR(){Xo()||De(!1);let e=h.useContext(cp),{basename:t,future:n,navigator:r}=h.useContext(Ir),{matches:s}=h.useContext($r),{pathname:o}=js(),a=JSON.stringify(ip(s,n.v7_relativeSplatPath)),i=h.useRef(!1);return Rx(()=>{i.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=lp(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Tr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}function Ox(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(Ir),{matches:s}=h.useContext($r),{pathname:o}=js(),a=JSON.stringify(ip(s,r.v7_relativeSplatPath));return h.useMemo(()=>lp(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function AR(e,t){return OR(e,t)}function OR(e,t,n,r){Xo()||De(!1);let{navigator:s}=h.useContext(Ir),{matches:o}=h.useContext($r),a=o[o.length-1],i=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=js(),d;if(t){var f;let x=typeof t=="string"?Qo(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||De(!1),d=x}else d=u;let m=d.pathname||"/",p=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=aR(e,{pathname:p}),y=LR(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:Tr([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Tr([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&y?h.createElement(Fc.Provider,{value:{location:ri({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wr.Pop}},y):y}function MR(){let e=BR(),t=jR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const DR=h.createElement(MR,null);class IR extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement($r.Provider,{value:this.props.routeContext},h.createElement(Nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $R(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(cp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement($r.Provider,{value:t},r)}function LR(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);d>=0||De(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let p,b=!1,y=null,x=null;n&&(p=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||DR,l&&(u<0&&m===0?(VR("route-fallback"),b=!0,x=null):u===m&&(b=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),g=()=>{let v;return p?v=y:b?v=x:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,h.createElement($R,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(IR,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var Mx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mx||{}),Dx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dx||{});function FR(e){let t=h.useContext(cp);return t||De(!1),t}function UR(e){let t=h.useContext(PR);return t||De(!1),t}function zR(e){let t=h.useContext($r);return t||De(!1),t}function Ix(e){let t=zR(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function BR(){var e;let t=h.useContext(Nx),n=UR(),r=Ix();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function WR(){let{router:e}=FR(Mx.UseNavigateStable),t=Ix(Dx.UseNavigateStable),n=h.useRef(!1);return Rx(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ri({fromRouteId:t},o)))},[e,t])}const Ug={};function VR(e,t,n){Ug[e]||(Ug[e]=!0)}function HR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $x(e){let{to:t,replace:n,state:r,relative:s}=e;Xo()||De(!1);let{future:o,static:a}=h.useContext(Ir),{matches:i}=h.useContext($r),{pathname:l}=js(),u=Ax(),d=lp(t,ip(i,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function An(e){De(!1)}function qR(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wr.Pop,navigator:o,static:a=!1,future:i}=e;Xo()&&De(!1);let l=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:l,navigator:o,static:a,future:ri({v7_relativeSplatPath:!1},i)}),[l,i,o,a]);typeof r=="string"&&(r=Qo(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:b="default"}=r,y=h.useMemo(()=>{let x=ap(d,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:b},navigationType:s}},[l,d,f,m,p,b,s]);return y==null?null:h.createElement(Ir.Provider,{value:u},h.createElement(Fc.Provider,{children:n,value:y}))}function KR(e){let{children:t,location:n}=e;return AR(mf(t),n)}new Promise(()=>{});function mf(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,mf(r.props.children,o));return}r.type!==An&&De(!1),!r.props.index||!r.props.children||De(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mf(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}function GR(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function YR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QR(e,t){return e.button===0&&(!t||t==="_self")&&!YR(e)}const XR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JR="6";try{window.__reactRouterVersion=JR}catch{}const ZR="startTransition",zg=Hf[ZR];function eA(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=rR({window:s,v5Compat:!0}));let a=o.current,[i,l]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&zg?zg(()=>l(f)):l(f)},[l,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>HR(r),[r]),h.createElement(qR,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}const tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wu=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:i,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,m=GR(t,XR),{basename:p}=h.useContext(Ir),b,y=!1;if(typeof u=="string"&&nA.test(u)&&(b=u,tA))try{let v=new URL(window.location.href),_=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=ap(_.pathname,p);_.origin===v.origin&&S!=null?u=S+_.search+_.hash:y=!0}catch{}let x=NR(u,{relative:s}),w=rA(u,{replace:a,state:i,target:l,preventScrollReset:d,relative:s,viewTransition:f});function g(v){r&&r(v),v.defaultPrevented||w(v)}return h.createElement("a",gf({},m,{href:b||x,onClick:y||o?r:g,ref:n,target:l}))});var Bg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bg||(Bg={}));var Wg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wg||(Wg={}));function rA(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:i}=t===void 0?{}:t,l=Ax(),u=js(),d=Ox(e,{relative:a});return h.useCallback(f=>{if(QR(f,n)){f.preventDefault();let m=r!==void 0?r:tc(u)===tc(d);l(e,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:i})}},[u,l,d,r,s,n,e,o,a,i])}const sA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:r}=await Promise.resolve().then(()=>Jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class up extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class oA extends up{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Vg extends up{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hg extends up{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vf||(vf={}));var aA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};class iA{constructor(t,{headers:n={},customFetch:r,region:s=vf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=sA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return aA(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let i={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(i["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(i["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(i["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),s),body:d}).catch(y=>{throw new oA(y)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Vg(f);if(!f.ok)throw new Hg(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield f.json():p==="application/octet-stream"?b=yield f.blob():p==="text/event-stream"?b=f:p==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Hg||s instanceof Vg?s.context:void 0}}})}}var vt={},dp={},Uc={},bi={},zc={},Bc={},lA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lo=lA();const cA=Lo.fetch,Lx=Lo.fetch.bind(Lo),Fx=Lo.Headers,uA=Lo.Request,dA=Lo.Response,Jo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fx,Request:uA,Response:dA,default:Lx,fetch:cA},Symbol.toStringTag,{value:"Module"})),fA=US(Jo);var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});let hA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wc.default=hA;var Ux=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bc,"__esModule",{value:!0});const pA=Ux(fA),mA=Ux(Wc);let gA=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,i,l;let u=null,d=null,f=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(i=o.headers.get("content-range"))===null||i===void 0?void 0:i.split("/");y&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,p="OK")}catch{o.status===404&&y===""?(m=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new mA.default(u)}return{error:u,data:d,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,i,l;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(i=o==null?void 0:o.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Bc.default=gA;var vA=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});const yA=vA(Bc);let wA=class extends yA.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var i;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(i=this.headers.Accept)!==null&&i!==void 0?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};zc.default=wA;var xA=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});const bA=xA(zc);let _A=class extends bA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bi.default=_A;var SA=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const ha=SA(bi);let EA=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(i=>/\s/.test(i)&&!o?"":(i==='"'&&(o=!o),i)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new ha.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(a.length>0){const i=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new ha.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const a="POST",i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),o||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ha.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ha.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ha.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Uc.default=EA;var Vc={},Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.version=void 0;Hc.version="0.0.0-automated";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.DEFAULT_HEADERS=void 0;const CA=Hc;Vc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${CA.version}`};var zx=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dp,"__esModule",{value:!0});const kA=zx(Uc),jA=zx(bi),TA=Vc;let PA=class Bx{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},TA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new kA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Bx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let a;const i=new URL(`${this.url}/rpc/${t}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{i.searchParams.append(d,f)})):(a="POST",l=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new jA.default({method:a,url:i,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};dp.default=PA;var Zo=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vt,"__esModule",{value:!0});vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const Wx=Zo(dp);vt.PostgrestClient=Wx.default;const Vx=Zo(Uc);vt.PostgrestQueryBuilder=Vx.default;const Hx=Zo(bi);vt.PostgrestFilterBuilder=Hx.default;const qx=Zo(zc);vt.PostgrestTransformBuilder=qx.default;const Kx=Zo(Bc);vt.PostgrestBuilder=Kx.default;const Gx=Zo(Wc);vt.PostgrestError=Gx.default;var NA=vt.default={PostgrestClient:Wx.default,PostgrestQueryBuilder:Vx.default,PostgrestFilterBuilder:Hx.default,PostgrestTransformBuilder:qx.default,PostgrestBuilder:Kx.default,PostgrestError:Gx.default};const{PostgrestClient:RA,PostgrestQueryBuilder:T4,PostgrestFilterBuilder:P4,PostgrestTransformBuilder:N4,PostgrestBuilder:R4,PostgrestError:A4}=NA;class AA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const OA="2.15.1",MA=`realtime-js/${OA}`,DA="1.0.0",yf=1e4,IA=1e3,$A=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var wf;(function(e){e.websocket="websocket"})(wf||(wf={}));var Xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xr||(Xr={}));class LA{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const i=r.decode(t.slice(a,a+s));a=a+s;const l=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:i,event:l,payload:u}}}class Yx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const qg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=FA(a,e,t,s),o),{})},FA=(e,t,n,r)=>{const s=t.find(i=>i.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?Qx(o,a):xf(a)},Qx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return WA(t,n)}switch(e){case xe.bool:return UA(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return zA(t);case xe.json:case xe.jsonb:return BA(t);case xe.timestamp:return VA(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return xf(t);default:return xf(t)}},xf=e=>e,UA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WA=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(i=>Qx(t,i))}return e},VA=e=>typeof e=="string"?e.replace(" ","T"):e,Xx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Vu{constructor(t,n,r={},s=yf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kg||(Kg={}));class Oa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oa.syncState(this.state,s,o,a),this.pendingDiffs.forEach(l=>{this.state=Oa.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Oa.syncDiff(this.state,s,o,a),i())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),i={},l={};return this.map(o,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const m=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),b=d.filter(x=>p.indexOf(x.presence_ref)<0),y=f.filter(x=>m.indexOf(x.presence_ref)<0);b.length>0&&(i[u]=b),y.length>0&&(l[u]=y)}else i[u]=d}),this.syncDiff(o,{joins:i,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(i,l)=>{var u;const d=(u=t[i])!==null&&u!==void 0?u:[];if(t[i]=this.cloneDeep(l),d.length>0){const f=t[i].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[i].unshift(...m)}r(i,d,l)}),this.map(a,(i,l)=>{let u=t[i];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[i]=u,s(i,u,l),u.length===0&&delete t[i]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gg||(Gg={}));var Ma;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ma||(Ma={}));var Dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class fp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vu(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Yx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Oa(this),this.broadcastEndpointURL=Xx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:a,private:i}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Ma.PRESENCE]&&this.bindings[Ma.PRESENCE].length>0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Dn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Dn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,x=[];for(let w=0;w<y;w++){const g=b[w],{filter:{event:v,schema:_,table:S,filter:E}}=g,C=m&&m[w];if(C&&C.event===v&&C.schema===_&&C.table===S&&C.filter===E)x.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=Ue.errored,t==null||t(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Dn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ue.errored,t==null||t(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ue.joined&&t===Ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,i,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(i=(a=this.params)===null||a===void 0?void 0:a.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Vu(this,tn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vu(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$A){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:i,error:l,leave:u,join:d}=tn;if(r&&[i,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,y,x;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(m,r)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var b,y,x,w,g,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,S=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:y,table:x,commit_timestamp:w,type:g,errors:v}=b;m=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:w,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}p.callback(m,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&fp.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qg(t.columns,t.old_record)),n}}const Yg=()=>{},Qi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HA=[1e3,2e3,5e3,1e4],qA=1e4,KA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GA{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yf,this.transport=null,this.heartbeatIntervalMs=Qi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yg,this.ref=0,this.reconnectTimer=null,this.logger=Yg,this.conn=null,this.sendBuffer=[],this.serializer=new LA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>gi(async()=>{const{default:i}=await Promise.resolve().then(()=>Jo);return{default:i}},void 0).then(({default:i})=>i(...a)).catch(i=>{throw new Error(`Failed to load @supabase/node-fetch: ${i.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${wf.websocket}`,this.httpEndpoint=Xx(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DA}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return Xr.Connecting;case Aa.open:return Xr.Open;case Aa.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new fp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,i=>{var l;(l=this.conn)===null||l===void 0||l.send(i)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IA,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,i=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${s} ${i}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([KA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:MA};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Yx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,i,l,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:yf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Qi.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(i=t==null?void 0:t.reconnectAfterMs)!==null&&i!==void 0?i:d=>HA[d-1]||qA,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class hp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class YA extends hp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bf extends hp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var QA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const Jx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:r}=await Promise.resolve().then(()=>Jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},XA=()=>QA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gi(()=>Promise.resolve().then(()=>Jo),void 0)).Response:Response}),_f=e=>{if(Array.isArray(e))return e.map(n=>_f(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=_f(r)}),t},JA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ts=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const Hu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZA=(e,t,n)=>Ts(void 0,void 0,void 0,function*(){const r=yield XA();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new YA(Hu(s),o,a))}).catch(s=>{t(new bf(Hu(s),s))}):t(new bf(Hu(e),e))}),e2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(JA(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function _i(e,t,n,r,s,o){return Ts(this,void 0,void 0,function*(){return new Promise((a,i)=>{e(n,e2(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ZA(l,i,r))})})}function nc(e,t,n,r){return Ts(this,void 0,void 0,function*(){return _i(e,"GET",t,n,r)})}function pn(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return _i(e,"POST",t,r,s,n)})}function Sf(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return _i(e,"PUT",t,r,s,n)})}function t2(e,t,n,r){return Ts(this,void 0,void 0,function*(){return _i(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zx(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return _i(e,"DELETE",t,r,s,n)})}var st=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const n2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r2{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Jx(s)}uploadOrUpdate(t,n,r,s){return st(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Qg),s);let i=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,l&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(i=Object.assign(Object.assign({},i),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Sf:pn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:i},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return st(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Qg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Sf(this.fetch,i.toString(),l,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return st(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield pn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),i=a.searchParams.get("token");if(!i)throw new hp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:i},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield pn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return st(this,void 0,void 0,function*(){try{const s=yield pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}download(t,n){return st(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const i=this._getFinalPath(t);return{data:yield(yield nc(this.fetch,`${this.url}/${s}/${i}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}info(t){return st(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield nc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_f(r),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}exists(t){return st(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield t2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ze(r)&&r instanceof bf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const i=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield Zx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},n2),n),{prefix:t||""});return{data:yield pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}listV2(t,n){return st(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const s2="2.11.0",o2={"X-Client-Info":`storage-js/${s2}`};var Is=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};class a2{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},o2),n),this.fetch=Jx(r)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}})}getBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Is(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield Zx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}}class i2 extends a2{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new r2(this.url,this.headers,t,this.fetch)}}const l2="2.55.0";let ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";const c2={"X-Client-Info":`supabase-js-${ya}/${l2}`},u2={headers:c2},d2={schema:"public"},f2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h2={};var p2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};const m2=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lx:t=fetch,(...n)=>t(...n)},g2=()=>typeof Headers>"u"?Fx:Headers,v2=(e,t,n)=>{const r=m2(n),s=g2();return(o,a)=>p2(void 0,void 0,void 0,function*(){var i;const l=(i=yield t())!==null&&i!==void 0?i:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};var y2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};function w2(e){return e.endsWith("/")?e:e+"/"}function x2(e,t){var n,r;const{db:s,auth:o,realtime:a,global:i}=e,{db:l,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),i),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=i==null?void 0:i.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>y2(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const eb="2.71.1",Ks=30*1e3,Ef=3,qu=Ef*Ks,b2="http://localhost:9999",_2="supabase.auth.token",S2={"X-Client-Info":`gotrue-js/${eb}`},Cf="X-Supabase-Api-Version",tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C2=10*60*1e3;class pp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class k2 extends pp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j2(e){return ne(e)&&e.name==="AuthApiError"}class nb extends pp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Lr extends pp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class or extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T2(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Xi extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ji extends Lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zi extends Lr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P2(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xg extends Lr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kf extends Lr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ku(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Jg extends Lr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jf extends Lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zg=` 	
\r=`.split(""),N2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zg.length;t+=1)e[Zg[t].charCodeAt(0)]=-2;for(let t=0;t<rc.length;t+=1)e[rc[t].charCodeAt(0)]=t;return e})();function ev(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rc[r]),t.queuedBits-=6}}function rb(e,t,n){const r=N2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tv(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{O2(a,r,n)};for(let a=0;a<e.length;a+=1)rb(e.charCodeAt(a),s,o);return t.join("")}function R2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function A2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}R2(r,t)}}function O2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function M2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)rb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function D2(e){const t=[];return A2(e,n=>t.push(n)),new Uint8Array(t)}function I2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ev(s,n,r)),ev(null,n,r),t.join("")}function $2(e){return Math.round(Date.now()/1e3)+e}function L2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gt=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},sb=()=>{if(!Gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function F2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ob=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:r}=await Promise.resolve().then(()=>Jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},U2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},qr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nr=async(e,t)=>{await e.removeItem(t)};class qc{constructor(){this.promise=new qc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}qc.promiseConstructor=Promise;function Gu(e){const t=e.split(".");if(t.length!==3)throw new jf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!E2.test(t[r]))throw new jf("JWT not in base64url format");return{header:JSON.parse(tv(t[0])),payload:JSON.parse(tv(t[1])),signature:M2(t[2]),raw:{header:t[0],payload:t[1]}}}async function z2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function B2(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function W2(e){return("0"+e.toString(16)).substr(-2)}function V2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,W2).join("")}async function H2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function q2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await H2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,n=!1){const r=V2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Gs(e,`${t}-code-verifier`,s);const o=await q2(r);return[o,r===o?"plain":"s256"]}const K2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G2(e){const t=e.headers.get(Cf);if(!t||!t.match(K2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(e){if(!X2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nv(e){return JSON.parse(JSON.stringify(e))}var J2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z2=[502,503,504];async function rv(e){var t;if(!U2(e))throw new kf(Yr(e),0);if(Z2.includes(e.status))throw new kf(Yr(e),e.status);let n;try{n=await e.json()}catch(o){throw new nb(Yr(o),o)}let r;const s=G2(e);if(s&&s.getTime()>=tb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jg(Yr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new or}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Jg(Yr(n),e.status,n.weak_password.reasons);throw new k2(Yr(n),e.status||500,r)}const eO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function oe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Cf]||(o[Cf]=tb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const i=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tO(e,t,n+i,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tO(e,t,n,r,s,o){const a=eO(t,r,s,o);let i;try{i=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new kf(Yr(l),0)}if(i.ok||await rv(i),r!=null&&r.noResolveJson)return i;try{return await i.json()}catch(l){await rv(l)}}function On(e){var t;let n=null;oO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=$2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sv(e){const t=On(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nO(e){return{data:e,error:null}}function rO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=J2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},a);return{data:{properties:i,user:l},error:null}}function sO(e){return e}function oO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qu=["global","local","others"];var aO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class iO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ob(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Qu[0]){if(Qu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qu.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=aO(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,i,l;try{const u={nextPage:null,lastPage:0,total:0},d=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:sO});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ls(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ls(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:dr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ls(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:dr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ls(t.userId);try{const{data:n,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ls(t.userId),Ls(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function ov(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function lO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&sb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ab extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cO extends ab{}async function uO(e,t,n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}lO();const dO={url:b2,storageKey:_2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function av(e,t,n){return await n()}const Us={};class si{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=si.nextInstanceID,si.nextInstanceID+=1,this.instanceID>0&&Gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ob(s.fetch),this.lock=s.lock||av,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Gt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uO:this.lock=av,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:sb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ov(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ov(this.memoryStorage)),Gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Us[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Us[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=F2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Gt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),P2(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?{error:n}:{error:new nb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:On}),{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ne(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await $s(this.storage,this.storageKey)),o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:On})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:On})}else throw new Ji("You must provide either an email or phone number and a password");const{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ne(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:i}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:sv})}else if("phone"in t){const{phone:o,password:a,options:i}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:sv})}else throw new Ji("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,i,l,u,d,f,m,p;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:x,wallet:w,statement:g,options:v}=t;let _;if(Gt())if(typeof w=="object")_=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:x,error:w}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:I2(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:On});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Xi}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(ne(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await qr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:On});if(await nr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Xi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(ne(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,i=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:On}),{data:l,error:u}=i;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:i,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $s(this.storage,this.storageKey));const{error:f}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:i,options:l}=t,{data:u,error:d}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ji("You must provide either an email or phone number.")}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:i}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:On});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await $s(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:nO})}catch(o){if(ne(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new or;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:i}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:i}}throw new Ji("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await qr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Yu()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dr}):await this._useSession(async n=>{var r,s,o;const{data:a,error:i}=n;if(i)throw i;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new or}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:dr})})}catch(n){if(ne(n))return T2(n)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new or;const a=s.session;let i=null,l=null;this.flowType==="pkce"&&t.email!=null&&([i,l]=await $s(this.storage,this.storageKey));const{data:u,error:d}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:l}),jwt:a.access_token,xform:dr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new or;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Gu(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!i)return{data:{user:null,session:null},error:null};o=i}else{const{data:i,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:i}=n;if(i)throw i;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new or;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Gt())throw new Zi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xg("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:i,expires_at:l,token_type:u}=t;if(!o||!i||!a||!u)throw new Zi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(i);let m=d+f;l&&(m=parseInt(l));const p=m-d;p*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:y,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:i}=await this.admin.signOut(a,t);if(i&&!(j2(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return t!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=L2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await $s(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ne(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,i,l,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Gt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ne(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await B2(async s=>(s>0&&await z2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Ku(o)&&Date.now()+a-r<Ks})}catch(r){if(this._debug(n,"error",r),ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Gt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Gs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Yu()}else if(s&&!s.user&&!s.user){const a=await qr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await nr(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,s)):s.user=Yu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qu;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ku(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:i}=await this._getUser(s.access_token);!i&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new or;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const i={session:o.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(o){if(this._debug(s,"error",o),ne(o)){const a={session:null,error:o};return Ku(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let i=0;i<o.length;i+=1)console.error(o[i]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=nv(s);await Gs(this.storage,this.storageKey,o)}else{const s=nv(n);await Gs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await nr(this.storage,this.storageKey),await nr(this.storage,this.storageKey+"-code-verifier"),await nr(this.storage,this.storageKey+"-user"),this.userStorage&&await nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ks}ms, refresh threshold is ${Ef} ticks`),s<=Ef&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ab)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await $s(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(i.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:i}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Gu(s.access_token);let i=null;a.aal&&(i=a.aal);let l=i;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+C2>s)return r;const{data:o,error:a}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(i=>i.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};r=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:i,payload:l}}=Gu(r);n!=null&&n.allowExpired||Y2(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const d=Q2(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,D2(`${i}.${l}`)))throw new jf("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}si.nextInstanceID=0;const fO=si;class hO extends fO{constructor(t){super(t)}}var pO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(i,l)}u((r=r.apply(e,t||[])).next())})};class mO{constructor(t,n,r){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const i=w2(t),l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:d2,realtime:h2,auth:Object.assign(Object.assign({},f2),{storageKey:u}),global:u2},f=x2(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=v2(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new RA(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new i2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new iA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return pO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:a,lock:i,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hO({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:i,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new GA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gO=(e,t,n)=>new mO(e,t,n);function vO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vO()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yO="https://avkpygwhymnxotwqzknz.supabase.co",wO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2a3B5Z3doeW1ueG90d3F6a256Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMjEyMDcsImV4cCI6MjA2ODg5NzIwN30.p97K1S3WYNAeYb-ExRpRp3J_pqFegFJ11VOe5th_xHk",Z=gO(yO,wO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ib=h.createContext(void 0);function xO({children:e}){const[t,n]=h.useState(null),[r,s]=h.useState(null),[o,a]=h.useState(null),[i,l]=h.useState(!0);h.useEffect(()=>{const{data:{subscription:m}}=Z.auth.onAuthStateChange(async(p,b)=>{var y;console.log("🔄 Auth state changed:",p,(y=b==null?void 0:b.user)==null?void 0:y.email),s(b),n((b==null?void 0:b.user)??null),b!=null&&b.user&&(p==="SIGNED_IN"||p==="TOKEN_REFRESHED")?setTimeout(async()=>{console.log("🔍 Buscando perfil para usuario:",b.user.email);let{data:x,error:w}=await Z.from("profiles").select("*").eq("email",b.user.email||"").single();if(w)console.error("❌ Error buscando perfil por email:",w),console.log("⚠️ No se encontró perfil para:",b.user.email);else if(x){if(console.log("✅ Perfil encontrado por email:",x),x.status==="pending"){console.log(`🔄 Activando agente pendiente: ${b.user.email}`);const{data:g,error:v}=await Z.from("profiles").update({status:"active"}).eq("email",b.user.email||"").select().single();v?console.error("❌ Error activando perfil:",v):(console.log(`✅ Agente activado exitosamente: ${b.user.email}`),x=g)}x.status!=="active"&&(console.log("⚠️ Perfil no está activo:",x.status),x=null)}console.log("🏁 Perfil final cargado en Auth:",x),a(x)},100):(console.log("👤 Usuario no autenticado o evento no relevante"),a(null)),l(!1)});return Z.auth.getSession().then(({data:{session:p}})=>{s(p),n((p==null?void 0:p.user)??null),p!=null&&p.user,l(!1)}),()=>m.unsubscribe()},[]);const u=async m=>{const p=`${window.location.origin}/auth`,{error:b}=await Z.auth.signInWithOtp({email:m,options:{emailRedirectTo:p}});return b?{error:b}:{error:null,message:"Se ha enviado un enlace mágico a tu correo electrónico. Revisa tu bandeja de entrada."}},d=async(m,p,b)=>{try{const y=`${window.location.origin}/`,{error:x}=await Z.auth.signUp({email:m,password:p,options:{emailRedirectTo:y,data:{name:b}}});return{error:x}}catch(y){return{error:y}}},f=async()=>{await Z.auth.signOut()};return c.jsx(ib.Provider,{value:{user:t,session:r,profile:o,loading:i,signInWithMagicLink:u,signUp:d,signOut:f},children:e})}function un(){const e=h.useContext(ib);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const mp=wi("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?xj:"button";return c.jsx(a,{className:Y(mp({variant:t,size:n,className:e})),ref:o,...s})});me.displayName="Button";var lb={exports:{}},cb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=h;function bO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _O=typeof Object.is=="function"?Object.is:bO,SO=Fo.useState,EO=Fo.useEffect,CO=Fo.useLayoutEffect,kO=Fo.useDebugValue;function jO(e,t){var n=t(),r=SO({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return CO(function(){s.value=n,s.getSnapshot=t,Xu(s)&&o({inst:s})},[e,n,t]),EO(function(){return Xu(s)&&o({inst:s}),e(function(){Xu(s)&&o({inst:s})})},[e]),kO(n),n}function Xu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_O(e,n)}catch{return!0}}function TO(e,t){return t()}var PO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TO:jO;cb.useSyncExternalStore=Fo.useSyncExternalStore!==void 0?Fo.useSyncExternalStore:PO;lb.exports=cb;var NO=lb.exports;function RO(){return NO.useSyncExternalStore(AO,()=>!0,()=>!1)}function AO(){return()=>{}}var gp="Avatar",[OO,O4]=Bt(gp),[MO,ub]=OO(gp),db=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return c.jsx(MO,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(X.span,{...r,ref:t})})});db.displayName=gp;var fb="AvatarImage",hb=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,a=ub(fb,n),i=DO(r,o),l=ut(u=>{s(u),a.onImageLoadingStatusChange(u)});return Fe(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?c.jsx(X.img,{...o,ref:t,src:r}):null});hb.displayName=fb;var pb="AvatarFallback",mb=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=ub(pb,n),[a,i]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?c.jsx(X.span,{...s,ref:t}):null});mb.displayName=pb;function iv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function DO(e,{referrerPolicy:t,crossOrigin:n}){const r=RO(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,i]=h.useState(()=>iv(o,e));return Fe(()=>{i(iv(o,e))},[o,e]),Fe(()=>{const l=f=>()=>{i(f)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),a}var gb=db,vb=hb,yb=mb;const oi=h.forwardRef(({className:e,...t},n)=>c.jsx(gb,{ref:n,className:Y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));oi.displayName=gb.displayName;const vp=h.forwardRef(({className:e,...t},n)=>c.jsx(vb,{ref:n,className:Y("aspect-square h-full w-full",e),...t}));vp.displayName=vb.displayName;const ai=h.forwardRef(({className:e,...t},n)=>c.jsx(yb,{ref:n,className:Y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ai.displayName=yb.displayName;var IO=h.createContext(void 0);function Kc(e){const t=h.useContext(IO);return e||t||"ltr"}var Ju=0;function yp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lv()),document.body.insertAdjacentElement("beforeend",e[1]??lv()),Ju++,()=>{Ju===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ju--}},[])}function lv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zu="focusScope.autoFocusOnMount",ed="focusScope.autoFocusOnUnmount",cv={bubbles:!1,cancelable:!0},$O="FocusScope",Gc=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[i,l]=h.useState(null),u=ut(s),d=ut(o),f=h.useRef(null),m=ue(t,y=>l(y)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(v){if(p.paused||!i)return;const _=v.target;i.contains(_)?f.current=_:ar(f.current,{select:!0})},x=function(v){if(p.paused||!i)return;const _=v.relatedTarget;_!==null&&(i.contains(_)||ar(f.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&ar(i)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const g=new MutationObserver(w);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),g.disconnect()}}},[r,i,p.paused]),h.useEffect(()=>{if(i){dv.add(p);const y=document.activeElement;if(!i.contains(y)){const w=new CustomEvent(Zu,cv);i.addEventListener(Zu,u),i.dispatchEvent(w),w.defaultPrevented||(LO(WO(wb(i)),{select:!0}),document.activeElement===y&&ar(i))}return()=>{i.removeEventListener(Zu,u),setTimeout(()=>{const w=new CustomEvent(ed,cv);i.addEventListener(ed,d),i.dispatchEvent(w),w.defaultPrevented||ar(y??document.body,{select:!0}),i.removeEventListener(ed,d),dv.remove(p)},0)}}},[i,u,d,p]);const b=h.useCallback(y=>{if(!n&&!r||p.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(x&&w){const g=y.currentTarget,[v,_]=FO(g);v&&_?!y.shiftKey&&w===_?(y.preventDefault(),n&&ar(v,{select:!0})):y.shiftKey&&w===v&&(y.preventDefault(),n&&ar(_,{select:!0})):w===g&&y.preventDefault()}},[n,r,p.paused]);return c.jsx(X.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});Gc.displayName=$O;function LO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ar(r,{select:t}),document.activeElement!==n)return}function FO(e){const t=wb(e),n=uv(t,e),r=uv(t.reverse(),e);return[n,r]}function wb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uv(e,t){for(const n of e)if(!UO(n,{upTo:t}))return n}function UO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zO(e){return e instanceof HTMLInputElement&&"select"in e}function ar(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zO(e)&&t&&e.select()}}var dv=BO();function BO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=fv(e,t),e.unshift(t)},remove(t){var n;e=fv(e,t),(n=e[0])==null||n.resume()}}}function fv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function WO(e){return e.filter(t=>t.tagName!=="A")}var td="rovingFocusGroup.onEntryFocus",VO={bubbles:!1,cancelable:!0},Si="RovingFocusGroup",[Tf,xb,HO]=Rc(Si),[qO,Yc]=Bt(Si,[HO]),[KO,GO]=qO(Si),bb=h.forwardRef((e,t)=>c.jsx(Tf.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Tf.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(YO,{...e,ref:t})})}));bb.displayName=Si;var YO=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=ue(t,m),b=Kc(o),[y,x]=ms({prop:a,defaultProp:i??null,onChange:l,caller:Si}),[w,g]=h.useState(!1),v=ut(u),_=xb(n),S=h.useRef(!1),[E,C]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(td,v),()=>k.removeEventListener(td,v)},[v]),c.jsx(KO,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(k=>x(k),[x]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>C(k=>k-1),[]),children:c.jsx(X.div,{tabIndex:w||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:B(e.onMouseDown,()=>{S.current=!0}),onFocus:B(e.onFocus,k=>{const j=!S.current;if(k.target===k.currentTarget&&j&&!w){const N=new CustomEvent(td,VO);if(k.currentTarget.dispatchEvent(N),!N.defaultPrevented){const U=_().filter(F=>F.focusable),A=U.find(F=>F.active),O=U.find(F=>F.id===y),V=[A,O,...U].filter(Boolean).map(F=>F.ref.current);Eb(V,d)}}S.current=!1}),onBlur:B(e.onBlur,()=>g(!1))})})}),_b="RovingFocusGroupItem",Sb=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...i}=e,l=Cn(),u=o||l,d=GO(_b,n),f=d.currentTabStopId===u,m=xb(n),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:y}=d;return h.useEffect(()=>{if(r)return p(),()=>b()},[r,p,b]),c.jsx(Tf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(X.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:B(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:B(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:B(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=JO(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")v.reverse();else if(w==="prev"||w==="next"){w==="prev"&&v.reverse();const _=v.indexOf(x.currentTarget);v=d.loop?ZO(v,_+1):v.slice(_+1)}setTimeout(()=>Eb(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});Sb.displayName=_b;var QO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JO(e,t,n){const r=XO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QO[r]}function Eb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ZO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Cb=bb,kb=Sb,eM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zs=new WeakMap,el=new WeakMap,tl={},nd=0,jb=function(e){return e&&(e.host||jb(e.parentNode))},tM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=jb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nM=function(e,t,n,r){var s=tM(t,Array.isArray(e)?e:[e]);tl[n]||(tl[n]=new WeakMap);var o=tl[n],a=[],i=new Set,l=new Set(s),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(i.has(m))d(m);else try{var p=m.getAttribute(r),b=p!==null&&p!=="false",y=(zs.get(m)||0)+1,x=(o.get(m)||0)+1;zs.set(m,y),o.set(m,x),a.push(m),y===1&&b&&el.set(m,!0),x===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),i.clear(),nd++,function(){a.forEach(function(f){var m=zs.get(f)-1,p=o.get(f)-1;zs.set(f,m),o.set(f,p),m||(el.has(f)||f.removeAttribute(r),el.delete(f)),p||f.removeAttribute(n)}),nd--,nd||(zs=new WeakMap,zs=new WeakMap,el=new WeakMap,tl={})}},wp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=eM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),nM(r,s,n,"aria-hidden")):function(){return null}},wn=function(){return wn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},wn.apply(this,arguments)};function Tb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function rM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var wl="right-scroll-bar-position",xl="width-before-scroll-bar",sM="with-scroll-bars-hidden",oM="--removed-body-scroll-bar-size";function rd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aM(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var iM=typeof window<"u"?h.useLayoutEffect:h.useEffect,hv=new WeakMap;function lM(e,t){var n=aM(null,function(r){return e.forEach(function(s){return rd(s,r)})});return iM(function(){var r=hv.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(i){o.has(i)||rd(i,null)}),o.forEach(function(i){s.has(i)||rd(i,a)})}hv.set(n,e)},[e]),n}function cM(e){return e}function uM(e,t){t===void 0&&(t=cM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function dM(e){e===void 0&&(e={});var t=uM(null);return t.options=wn({async:!0,ssr:!1},e),t}var Pb=function(e){var t=e.sideCar,n=Tb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,wn({},n))};Pb.isSideCarExport=!0;function fM(e,t){return e.useMedium(t),Pb}var Nb=dM(),sd=function(){},Qc=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:sd,onWheelCapture:sd,onTouchMoveCapture:sd}),s=r[0],o=r[1],a=e.forwardProps,i=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,b=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,v=e.gapMode,_=Tb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,E=lM([n,t]),C=wn(wn({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:Nb,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:y,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:v}),a?h.cloneElement(h.Children.only(i),wn(wn({},C),{ref:E})):h.createElement(g,wn({},C,{className:l,ref:E}),i))});Qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qc.classNames={fullWidth:xl,zeroRight:wl};var hM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hM();return t&&e.setAttribute("nonce",t),e}function mM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pM())&&(mM(t,n),gM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yM=function(){var e=vM();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Rb=function(){var e=yM(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},wM={left:0,top:0,right:0,gap:0},od=function(e){return parseInt(e||"",10)||0},xM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[od(n),od(r),od(s)]},bM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wM;var t=xM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_M=Rb(),go="data-scroll-locked",SM=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(go,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wl,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(xl,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(wl," .").concat(wl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xl," .").concat(xl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(go,`] {
    `).concat(oM,": ").concat(i,`px;
  }
`)},pv=function(){var e=parseInt(document.body.getAttribute(go)||"0",10);return isFinite(e)?e:0},EM=function(){h.useEffect(function(){return document.body.setAttribute(go,(pv()+1).toString()),function(){var e=pv()-1;e<=0?document.body.removeAttribute(go):document.body.setAttribute(go,e.toString())}},[])},CM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;EM();var o=h.useMemo(function(){return bM(s)},[s]);return h.createElement(_M,{styles:SM(o,!t,s,n?"":"!important")})},Pf=!1;if(typeof window<"u")try{var nl=Object.defineProperty({},"passive",{get:function(){return Pf=!0,!0}});window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Pf=!1}var Bs=Pf?{passive:!1}:!1,kM=function(e){return e.tagName==="TEXTAREA"},Ab=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kM(e)&&n[t]==="visible")},jM=function(e){return Ab(e,"overflowY")},TM=function(e){return Ab(e,"overflowX")},mv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ob(e,r);if(s){var o=Mb(e,r),a=o[1],i=o[2];if(a>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},NM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ob=function(e,t){return e==="v"?jM(t):TM(t)},Mb=function(e,t){return e==="v"?PM(t):NM(t)},RM=function(e,t){return e==="h"&&t==="rtl"?-1:1},AM=function(e,t,n,r,s){var o=RM(e,window.getComputedStyle(t).direction),a=o*r,i=n.target,l=t.contains(i),u=!1,d=a>0,f=0,m=0;do{if(!i)break;var p=Mb(e,i),b=p[0],y=p[1],x=p[2],w=y-x-o*b;(b||w)&&Ob(e,i)&&(f+=w,m+=b);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},rl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gv=function(e){return[e.deltaX,e.deltaY]},vv=function(e){return e&&"current"in e?e.current:e},OM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},MM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DM=0,Ws=[];function IM(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(DM++)[0],o=h.useState(Rb)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=rM([e.lockRef.current],(e.shards||[]).map(vv),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=h.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var w=rl(y),g=n.current,v="deltaX"in y?y.deltaX:g[0]-w[0],_="deltaY"in y?y.deltaY:g[1]-w[1],S,E=y.target,C=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in y&&C==="h"&&E.type==="range")return!1;var k=mv(C,E);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=mv(C,E)),!k)return!1;if(!r.current&&"changedTouches"in y&&(v||_)&&(r.current=S),!S)return!0;var j=r.current||S;return AM(j,x,y,j==="h"?v:_)},[]),l=h.useCallback(function(y){var x=y;if(!(!Ws.length||Ws[Ws.length-1]!==o)){var w="deltaY"in x?gv(x):rl(x),g=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&OM(S.delta,w)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var v=(a.current.shards||[]).map(vv).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=v.length>0?i(x,v[0]):!a.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(y,x,w,g){var v={name:y,delta:x,target:w,should:g,shadowParent:$M(w)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=h.useCallback(function(y){n.current=rl(y),r.current=void 0},[]),f=h.useCallback(function(y){u(y.type,gv(y),y.target,i(y,e.lockRef.current))},[]),m=h.useCallback(function(y){u(y.type,rl(y),y.target,i(y,e.lockRef.current))},[]);h.useEffect(function(){return Ws.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Bs),document.addEventListener("touchmove",l,Bs),document.addEventListener("touchstart",d,Bs),function(){Ws=Ws.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Bs),document.removeEventListener("touchmove",l,Bs),document.removeEventListener("touchstart",d,Bs)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:MM(s)}):null,p?h.createElement(CM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $M(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LM=fM(Nb,IM);var Xc=h.forwardRef(function(e,t){return h.createElement(Qc,wn({},e,{ref:t,sideCar:LM}))});Xc.classNames=Qc.classNames;var Nf=["Enter"," "],FM=["ArrowDown","PageUp","Home"],Db=["ArrowUp","PageDown","End"],UM=[...FM,...Db],zM={ltr:[...Nf,"ArrowRight"],rtl:[...Nf,"ArrowLeft"]},BM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ei="Menu",[ii,WM,VM]=Rc(Ei),[Ps,Ib]=Bt(Ei,[VM,Yo,Yc]),Jc=Yo(),$b=Yc(),[HM,Ns]=Ps(Ei),[qM,Ci]=Ps(Ei),Lb=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=e,i=Jc(t),[l,u]=h.useState(null),d=h.useRef(!1),f=ut(o),m=Kc(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),c.jsx(vx,{...i,children:c.jsx(HM,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(qM,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};Lb.displayName=Ei;var KM="MenuAnchor",xp=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Jc(n);return c.jsx(np,{...s,...r,ref:t})});xp.displayName=KM;var bp="MenuPortal",[GM,Fb]=Ps(bp,{forceMount:void 0}),Ub=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Ns(bp,t);return c.jsx(GM,{scope:t,forceMount:n,children:c.jsx(cn,{present:n||o.open,children:c.jsx(vi,{asChild:!0,container:s,children:r})})})};Ub.displayName=bp;var Lt="MenuContent",[YM,_p]=Ps(Lt),zb=h.forwardRef((e,t)=>{const n=Fb(Lt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ns(Lt,e.__scopeMenu),a=Ci(Lt,e.__scopeMenu);return c.jsx(ii.Provider,{scope:e.__scopeMenu,children:c.jsx(cn,{present:r||o.open,children:c.jsx(ii.Slot,{scope:e.__scopeMenu,children:a.modal?c.jsx(QM,{...s,ref:t}):c.jsx(XM,{...s,ref:t})})})})}),QM=h.forwardRef((e,t)=>{const n=Ns(Lt,e.__scopeMenu),r=h.useRef(null),s=ue(t,r);return h.useEffect(()=>{const o=r.current;if(o)return wp(o)},[]),c.jsx(Sp,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:B(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),XM=h.forwardRef((e,t)=>{const n=Ns(Lt,e.__scopeMenu);return c.jsx(Sp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JM=ps("MenuContent.ScrollLock"),Sp=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:b,...y}=e,x=Ns(Lt,n),w=Ci(Lt,n),g=Jc(n),v=$b(n),_=WM(n),[S,E]=h.useState(null),C=h.useRef(null),k=ue(t,C,x.onContentChange),j=h.useRef(0),N=h.useRef(""),U=h.useRef(0),A=h.useRef(null),O=h.useRef("right"),M=h.useRef(0),V=b?Xc:h.Fragment,F=b?{as:JM,allowPinchZoom:!0}:void 0,W=T=>{var L,de;const $=N.current+T,G=_().filter(fe=>!fe.disabled),H=document.activeElement,J=(L=G.find(fe=>fe.ref.current===H))==null?void 0:L.textValue,Q=G.map(fe=>fe.textValue),z=uD(Q,$,J),se=(de=G.find(fe=>fe.textValue===z))==null?void 0:de.ref.current;(function fe(ie){N.current=ie,window.clearTimeout(j.current),ie!==""&&(j.current=window.setTimeout(()=>fe(""),1e3))})($),se&&setTimeout(()=>se.focus())};h.useEffect(()=>()=>window.clearTimeout(j.current),[]),yp();const P=h.useCallback(T=>{var G,H;return O.current===((G=A.current)==null?void 0:G.side)&&fD(T,(H=A.current)==null?void 0:H.area)},[]);return c.jsx(YM,{scope:n,searchRef:N,onItemEnter:h.useCallback(T=>{P(T)&&T.preventDefault()},[P]),onItemLeave:h.useCallback(T=>{var $;P(T)||(($=C.current)==null||$.focus(),E(null))},[P]),onTriggerLeave:h.useCallback(T=>{P(T)&&T.preventDefault()},[P]),pointerGraceTimerRef:U,onPointerGraceIntentChange:h.useCallback(T=>{A.current=T},[]),children:c.jsx(V,{...F,children:c.jsx(Gc,{asChild:!0,trapped:s,onMountAutoFocus:B(o,T=>{var $;T.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(Ho,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:c.jsx(Cb,{asChild:!0,...v,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:B(l,T=>{w.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(rp,{role:"menu","aria-orientation":"vertical","data-state":r_(x.open),"data-radix-menu-content":"",dir:w.dir,...g,...y,ref:k,style:{outline:"none",...y.style},onKeyDown:B(y.onKeyDown,T=>{const G=T.target.closest("[data-radix-menu-content]")===T.currentTarget,H=T.ctrlKey||T.altKey||T.metaKey,J=T.key.length===1;G&&(T.key==="Tab"&&T.preventDefault(),!H&&J&&W(T.key));const Q=C.current;if(T.target!==Q||!UM.includes(T.key))return;T.preventDefault();const se=_().filter(L=>!L.disabled).map(L=>L.ref.current);Db.includes(T.key)&&se.reverse(),lD(se)}),onBlur:B(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(j.current),N.current="")}),onPointerMove:B(e.onPointerMove,li(T=>{const $=T.target,G=M.current!==T.clientX;if(T.currentTarget.contains($)&&G){const H=T.clientX>M.current?"right":"left";O.current=H,M.current=T.clientX}}))})})})})})})});zb.displayName=Lt;var ZM="MenuGroup",Ep=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(X.div,{role:"group",...r,ref:t})});Ep.displayName=ZM;var eD="MenuLabel",Bb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(X.div,{...r,ref:t})});Bb.displayName=eD;var sc="MenuItem",yv="menu.itemSelect",Zc=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),a=Ci(sc,e.__scopeMenu),i=_p(sc,e.__scopeMenu),l=ue(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const m=new CustomEvent(yv,{bubbles:!0,cancelable:!0});f.addEventListener(yv,p=>r==null?void 0:r(p),{once:!0}),Uh(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return c.jsx(Wb,{...s,ref:l,disabled:n,onClick:B(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:B(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:B(e.onKeyDown,f=>{const m=i.searchRef.current!=="";n||m&&f.key===" "||Nf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zc.displayName=sc;var Wb=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,a=_p(sc,n),i=$b(n),l=h.useRef(null),u=ue(t,l),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const b=l.current;b&&p((b.textContent??"").trim())},[o.children]),c.jsx(ii.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:c.jsx(kb,{asChild:!0,...i,focusable:!r,children:c.jsx(X.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:B(e.onPointerMove,li(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:B(e.onPointerLeave,li(b=>a.onItemLeave(b))),onFocus:B(e.onFocus,()=>f(!0)),onBlur:B(e.onBlur,()=>f(!1))})})})}),tD="MenuCheckboxItem",Vb=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return c.jsx(Yb,{scope:e.__scopeMenu,checked:n,children:c.jsx(Zc,{role:"menuitemcheckbox","aria-checked":oc(n)?"mixed":n,...s,ref:t,"data-state":kp(n),onSelect:B(s.onSelect,()=>r==null?void 0:r(oc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Vb.displayName=tD;var Hb="MenuRadioGroup",[nD,rD]=Ps(Hb,{value:void 0,onValueChange:()=>{}}),qb=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=ut(r);return c.jsx(nD,{scope:e.__scopeMenu,value:n,onValueChange:o,children:c.jsx(Ep,{...s,ref:t})})});qb.displayName=Hb;var Kb="MenuRadioItem",Gb=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=rD(Kb,e.__scopeMenu),o=n===s.value;return c.jsx(Yb,{scope:e.__scopeMenu,checked:o,children:c.jsx(Zc,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":kp(o),onSelect:B(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});Gb.displayName=Kb;var Cp="MenuItemIndicator",[Yb,sD]=Ps(Cp,{checked:!1}),Qb=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=sD(Cp,n);return c.jsx(cn,{present:r||oc(o.checked)||o.checked===!0,children:c.jsx(X.span,{...s,ref:t,"data-state":kp(o.checked)})})});Qb.displayName=Cp;var oD="MenuSeparator",Xb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(X.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Xb.displayName=oD;var aD="MenuArrow",Jb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Jc(n);return c.jsx(sp,{...s,...r,ref:t})});Jb.displayName=aD;var iD="MenuSub",[M4,Zb]=Ps(iD),wa="MenuSubTrigger",e_=h.forwardRef((e,t)=>{const n=Ns(wa,e.__scopeMenu),r=Ci(wa,e.__scopeMenu),s=Zb(wa,e.__scopeMenu),o=_p(wa,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),l(null)}},[i,l]),c.jsx(xp,{asChild:!0,...u,children:c.jsx(Wb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":r_(n.open),...e,ref:Nc(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:B(e.onPointerMove,li(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:B(e.onPointerLeave,li(f=>{var p,b;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(b=n.content)==null?void 0:b.dataset.side,x=y==="right",w=x?-5:5,g=m[x?"left":"right"],v=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:g,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x:g,y:m.bottom}],side:y}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:B(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||zM[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});e_.displayName=wa;var t_="MenuSubContent",n_=h.forwardRef((e,t)=>{const n=Fb(Lt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ns(Lt,e.__scopeMenu),a=Ci(Lt,e.__scopeMenu),i=Zb(t_,e.__scopeMenu),l=h.useRef(null),u=ue(t,l);return c.jsx(ii.Provider,{scope:e.__scopeMenu,children:c.jsx(cn,{present:r||o.open,children:c.jsx(ii.Slot,{scope:e.__scopeMenu,children:c.jsx(Sp,{id:i.contentId,"aria-labelledby":i.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:B(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:B(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:B(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=BM[a.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=i.trigger)==null||p.focus(),d.preventDefault())})})})})})});n_.displayName=t_;function r_(e){return e?"open":"closed"}function oc(e){return e==="indeterminate"}function kp(e){return oc(e)?"indeterminate":e?"checked":"unchecked"}function lD(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function cD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function uD(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=cD(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function dD(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],l=t[a],u=i.x,d=i.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function fD(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return dD(n,t)}function li(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hD=Lb,pD=xp,mD=Ub,gD=zb,vD=Ep,yD=Bb,wD=Zc,xD=Vb,bD=qb,_D=Gb,SD=Qb,ED=Xb,CD=Jb,kD=e_,jD=n_,eu="DropdownMenu",[TD,D4]=Bt(eu,[Ib]),ht=Ib(),[PD,s_]=TD(eu),o_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=ht(t),u=h.useRef(null),[d,f]=ms({prop:s,defaultProp:o??!1,onChange:a,caller:eu});return c.jsx(PD,{scope:t,triggerId:Cn(),triggerRef:u,contentId:Cn(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:i,children:c.jsx(hD,{...l,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};o_.displayName=eu;var a_="DropdownMenuTrigger",i_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=s_(a_,n),a=ht(n);return c.jsx(pD,{asChild:!0,...a,children:c.jsx(X.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Nc(t,o.triggerRef),onPointerDown:B(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:B(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});i_.displayName=a_;var ND="DropdownMenuPortal",l_=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ht(t);return c.jsx(mD,{...r,...n})};l_.displayName=ND;var c_="DropdownMenuContent",u_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=s_(c_,n),o=ht(n),a=h.useRef(!1);return c.jsx(gD,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:B(e.onCloseAutoFocus,i=>{var l;a.current||(l=s.triggerRef.current)==null||l.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:B(e.onInteractOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});u_.displayName=c_;var RD="DropdownMenuGroup",AD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(vD,{...s,...r,ref:t})});AD.displayName=RD;var OD="DropdownMenuLabel",d_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(yD,{...s,...r,ref:t})});d_.displayName=OD;var MD="DropdownMenuItem",f_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(wD,{...s,...r,ref:t})});f_.displayName=MD;var DD="DropdownMenuCheckboxItem",h_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(xD,{...s,...r,ref:t})});h_.displayName=DD;var ID="DropdownMenuRadioGroup",$D=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(bD,{...s,...r,ref:t})});$D.displayName=ID;var LD="DropdownMenuRadioItem",p_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(_D,{...s,...r,ref:t})});p_.displayName=LD;var FD="DropdownMenuItemIndicator",m_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(SD,{...s,...r,ref:t})});m_.displayName=FD;var UD="DropdownMenuSeparator",g_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(ED,{...s,...r,ref:t})});g_.displayName=UD;var zD="DropdownMenuArrow",BD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(CD,{...s,...r,ref:t})});BD.displayName=zD;var WD="DropdownMenuSubTrigger",v_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(kD,{...s,...r,ref:t})});v_.displayName=WD;var VD="DropdownMenuSubContent",y_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return c.jsx(jD,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});y_.displayName=VD;var HD=o_,qD=i_,KD=l_,w_=u_,x_=d_,b_=f_,__=h_,S_=p_,E_=m_,C_=g_,k_=v_,j_=y_;const T_=HD,P_=qD,GD=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>c.jsxs(k_,{ref:s,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(dT,{className:"ml-auto h-4 w-4"})]}));GD.displayName=k_.displayName;const YD=h.forwardRef(({className:e,...t},n)=>c.jsx(j_,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=open]:slide-in-from-left-2 data-[state=open]:slide-in-from-top-[2%] data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[1%]",e),...t}));YD.displayName=j_.displayName;const jp=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(KD,{children:c.jsx(w_,{ref:r,sideOffset:t,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=open]:slide-in-from-top-2 data-[state=closed]:slide-out-to-top-2",e),...n})}));jp.displayName=w_.displayName;const vo=h.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(b_,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));vo.displayName=b_.displayName;const QD=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>c.jsxs(__,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(E_,{children:c.jsx(M0,{className:"h-4 w-4"})})}),t]}));QD.displayName=__.displayName;const XD=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(S_,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(E_,{children:c.jsx(hT,{className:"h-2 w-2 fill-current"})})}),t]}));XD.displayName=S_.displayName;const JD=h.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(x_,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));JD.displayName=x_.displayName;const Rf=h.forwardRef(({className:e,...t},n)=>c.jsx(C_,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));Rf.displayName=C_.displayName;function Tp(){const{setTheme:e}=n0();return c.jsxs(T_,{children:[c.jsx(P_,{asChild:!0,children:c.jsxs(me,{variant:"outline",size:"icon",children:[c.jsx(kT,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),c.jsx(yT,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),c.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),c.jsxs(jp,{align:"end",children:[c.jsx(vo,{onClick:()=>e("light"),children:"Light"}),c.jsx(vo,{onClick:()=>e("dark"),children:"Dark"}),c.jsx(vo,{onClick:()=>e("system"),children:"System"})]})]})}const ZD=[{name:"Dashboard",href:"/dashboard",icon:gs},{name:"Agentes",href:"/agents",icon:Vh},{name:"Métricas",href:"/metrics",icon:A0},{name:"Debug",href:"/debug",icon:uT},{name:"Configuración",href:"/settings",icon:$0}];function eI({isOpen:e,onToggle:t}){const n=js(),{user:r,profile:s,signOut:o}=un(),[a,i]=h.useState(!1);h.useEffect(()=>{const d=()=>{i(window.innerWidth<1024)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const l=async()=>{try{await o()}catch(d){console.error("Error signing out:",d)}},u=()=>{var d;return c.jsxs("div",{className:"flex h-full flex-col bg-background border-r",children:[c.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[c.jsxs(Wu,{to:"/dashboard",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"TB"})}),c.jsx("span",{className:"font-semibold text-lg",children:"TrueBlue"})]}),a&&c.jsx(me,{variant:"ghost",size:"icon",onClick:()=>t(),children:c.jsx(Hh,{className:"h-5 w-5"})})]}),c.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:ZD.map(f=>{const m=n.pathname===f.href;return c.jsxs(Wu,{to:f.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                ${m?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}
              `,onClick:()=>{a&&t()},children:[c.jsx(f.icon,{className:"mr-3 h-5 w-5"}),f.name]},f.name)})}),c.jsxs("div",{className:"border-t p-4 space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(Tp,{})}),r&&s&&c.jsxs(T_,{children:[c.jsx(P_,{asChild:!0,children:c.jsxs(me,{variant:"ghost",className:"w-full justify-start p-2 h-auto",children:[c.jsxs(oi,{className:"h-8 w-8 mr-3",children:[c.jsx(vp,{src:void 0,alt:s.name}),c.jsx(ai,{children:((d=s.name)==null?void 0:d.charAt(0).toUpperCase())||"U"})]}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"text-sm font-medium",children:s.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]})}),c.jsxs(jp,{align:"end",className:"w-56",children:[c.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:c.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[c.jsx("p",{className:"font-medium",children:s.name}),c.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:s.email})]})}),c.jsx(Rf,{}),c.jsx(vo,{asChild:!0,children:c.jsxs(Wu,{to:"/settings",className:"cursor-pointer",children:[c.jsx($0,{className:"mr-2 h-4 w-4"}),"Configuración"]})}),c.jsx(Rf,{}),c.jsxs(vo,{onClick:l,className:"cursor-pointer",children:[c.jsx(mT,{className:"mr-2 h-4 w-4"}),"Cerrar sesión"]})]})]})]})]})};return a?c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>t()}),c.jsx("div",{className:`
          fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out lg:hidden
          ${e?"translate-x-0":"-translate-x-full"}
        `,children:c.jsx(u,{})})]}):c.jsx("div",{className:`
      hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 transition-all duration-300 ease-in-out
      ${e?"lg:w-64":"lg:w-16"}
    `,children:c.jsx(u,{})})}class tI{constructor(){Gp(this,"webhookUrl","https://aztec.app.n8n.cloud/webhook/feb40c09-7947-4523-a263-9647125a03ec")}async sendMessageToWebhook(t){try{console.log("🚀 Enviando mensaje a n8n webhook:",{url:this.webhookUrl,payload:{...t,message:t.message.substring(0,100)+(t.message.length>100?"...":"")}});const n=await fetch(this.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("📡 Respuesta del servidor n8n:",{status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries())}),!n.ok){const s=await n.text();throw console.error("❌ Error HTTP del webhook n8n:",{status:n.status,statusText:n.statusText,errorText:s}),new Error(`HTTP error! status: ${n.status} - ${s}`)}const r=await n.json();return console.log("✅ Respuesta exitosa del webhook n8n:",r),{success:!0,data:r,message:"Mensaje enviado exitosamente a n8n"}}catch(n){return console.error("❌ Error enviando mensaje a n8n:",{error:n instanceof Error?n.message:"Error desconocido",stack:n instanceof Error?n.stack:void 0,payload:{...t,message:t.message.substring(0,100)+(t.message.length>100?"...":"")}}),{success:!1,error:n instanceof Error?n.message:"Error desconocido",message:"Error al enviar mensaje a n8n"}}}detectChannel(t){return t.channel&&t.channel!=="web"?t.channel:t.phone_number?t.phone_number.includes("@c.us")?"whatsapp":"sms":t.username&&t.username.startsWith("@")?"telegram":"web"}prepareWebhookPayload(t,n,r,s,o){const a=this.detectChannel(n),i=n.user_id,l=s;return console.log("🔍 Preparando payload para n8n:",{conversationId:t,messageContent:r.substring(0,100)+(r.length>100?"...":""),channel:a,senderId:l,chatId:i,conversationData:n}),{conversationId:t,message:r,channel:a,senderId:l,chatId:i}}}const Af=new tI;function Pp(){const[e,t]=h.useState([]),[n,r]=h.useState([]),[s,o]=h.useState(!0),[a,i]=h.useState(null),[l,u]=h.useState(!1),{user:d,profile:f}=un(),m=h.useCallback(async()=>{if(!d){console.log("❌ fetchConversations: No user available");return}try{o(!0),console.log("🔍 fetchConversations: Starting fetch...");let g=Z.from("tb_conversations").select("*").order("updated_at",{ascending:!1});(f==null?void 0:f.role)!=="admin"?f!=null&&f.id?(console.log("🔒 Non-admin user, filtering conversations"),g=g.or(`assigned_agent_id.eq.${f.id},status.eq.pending_human`)):(console.log("🔒 No profile ID, showing only pending"),g=g.eq("status","pending_human")):console.log("👑 Admin user, showing all conversations");const{data:v,error:_}=await g;if(_){console.error("❌ Error fetching conversations:",_),K.error("Error al cargar las conversaciones");return}console.log("✅ fetchConversations: Conversations fetched successfully:",(v==null?void 0:v.length)||0),console.log("🔍 fetchConversations: Obteniendo último mensaje de cada conversación...");const S=await Promise.all((v||[]).map(async E=>{try{const{data:C}=await Z.from("tb_messages").select("sender_role").eq("conversation_id",E.id).order("created_at",{ascending:!1}).limit(1).single();return{...E,last_message_sender_role:(C==null?void 0:C.sender_role)||null}}catch{return{...E,last_message_sender_role:null}}}));console.log("✅ fetchConversations: Último mensaje obtenido para cada conversación"),console.log("🔍 fetchConversations: Setting conversations in state..."),t(S),u(!0)}catch(g){console.error("❌ Exception fetching conversations:",g),K.error("Error al cargar las conversaciones")}finally{o(!1)}},[d,f]),p=h.useCallback(async g=>{if(!g){console.log("❌ fetchMessages: No conversationId provided");return}try{console.log("🔍 fetchMessages: Fetching messages for conversation:",g);const{data:v,error:_}=await Z.from("tb_messages").select("*").eq("conversation_id",g).order("created_at",{ascending:!0});if(_){console.error("❌ Error fetching messages:",_),K.error("Error al cargar los mensajes");return}console.log("✅ Messages fetched successfully:",v),r(v||[])}catch(v){console.error("❌ Exception fetching messages:",v),K.error("Error al cargar los mensajes")}},[]),b=h.useCallback(async(g,v,_)=>{if(!d||!f){K.error("Debes estar autenticado para enviar mensajes");return}try{const S={conversation_id:g,content:v,sender_role:_,agent_email:f.email,agent_name:f.name,responded_by_agent_id:f.id},{error:E}=await Z.from("tb_messages").insert(S);if(E){console.error("Error sending message:",E),K.error("Error al enviar el mensaje");return}if(await Z.from("tb_conversations").update({status:"active_human",assigned_agent_id:f.id,assigned_agent_email:f.email,assigned_agent_name:f.name}).eq("id",g),_==="agent"){console.log('🔍 senderRole es "agent", procediendo con webhook...');try{console.log("🔍 Buscando conversación en BD:",g);const{data:C,error:k}=await Z.from("tb_conversations").select("*").eq("id",g).single();if(k){console.error("❌ Error buscando conversación:",k);return}if(C){console.log("✅ Conversación encontrada:",C);const j=Af.prepareWebhookPayload(g,C,v,f.id,f.name);console.log("📤 Payload preparado para n8n:",j),console.log("📤 Enviando mensaje a n8n webhook...");const N=await Af.sendMessageToWebhook(j);N.success?console.log("✅ Mensaje enviado exitosamente a n8n"):console.warn("⚠️ Advertencia: El mensaje se guardó pero hubo un problema con n8n:",N.error)}else console.warn("⚠️ No se encontró la conversación para el webhook")}catch(C){console.error("❌ Error con n8n webhook:",C)}}else console.log('🔍 senderRole NO es "agent":',_);K.success("Mensaje enviado"),await p(g)}catch(S){console.error("Error sending message:",S),K.error("Error al enviar el mensaje")}},[d,f,p]),y=h.useCallback(async(g,v)=>{try{console.log("🔄 Actualizando estado de conversación:",{conversationId:g,status:v});const _={status:v,updated_at:new Date().toISOString()};v==="active_ai"&&(_.assigned_agent_id=null,_.assigned_agent_email=null,_.assigned_agent_name=null),t(E=>{const C=E.map(k=>k.id===g?{...k,..._,assigned_agent_id:_.assigned_agent_id!==void 0?_.assigned_agent_id:k.assigned_agent_id,assigned_agent_email:_.assigned_agent_email!==void 0?_.assigned_agent_email:k.assigned_agent_email,assigned_agent_name:_.assigned_agent_name!==void 0?_.assigned_agent_name:k.assigned_agent_name}:k);return console.log("✅ Estado local actualizado inmediatamente para cambio de status:",{conversationId:g,status:v,updateData:_}),C});const{error:S}=await Z.from("tb_conversations").update(_).eq("id",g);if(S){console.error("❌ Error updating conversation status:",S),K.error("Error al actualizar el estado"),t(E=>E.map(C=>C.id===g?{...C,status:C.status}:C));return}console.log("✅ Estado de conversación actualizado exitosamente en BD"),K.success("Estado actualizado exitosamente"),setTimeout(()=>{t(E=>{const C=E.find(k=>k.id===g);return C&&(C.status!==v||v==="active_ai"&&(C.assigned_agent_id!==null||C.assigned_agent_email!==null||C.assigned_agent_name!==null))?(console.log("🔄 Forzando sincronización adicional para cambio de status...",{current:C,expected:_}),E.map(k=>k.id===g?{...k,..._,assigned_agent_id:_.assigned_agent_id!==void 0?_.assigned_agent_id:k.assigned_agent_id,assigned_agent_email:_.assigned_agent_email!==void 0?_.assigned_agent_email:k.assigned_agent_email,assigned_agent_name:_.assigned_agent_name!==void 0?_.assigned_agent_name:k.assigned_agent_name}:k)):E})},100)}catch(_){console.error("❌ Error updating conversation status:",_),K.error("Error al actualizar el estado"),t(S=>S.map(E=>E.id===g?{...E,status:E.status}:E))}},[]),x=h.useCallback(async(g,v)=>{try{console.log("🎯 Asignando agente:",{conversationId:g,agentId:v});const{data:_,error:S}=await Z.from("profiles").select("name, email").eq("id",v).single();if(S||!_){console.error("Error fetching agent profile:",S),K.error("Error al obtener el perfil del agente");return}const E={assigned_agent_id:v,assigned_agent_email:_.email,assigned_agent_name:_.name,status:"active_human",updated_at:new Date().toISOString()};t(k=>{const j=k.find(A=>A.id===g);console.log("🔄 assignAgent: Estado ANTES de la actualización:",j);const N=k.map(A=>A.id===g?{...A,...E}:A),U=N.find(A=>A.id===g);return console.log("✅ assignAgent: Estado DESPUÉS de la actualización local:",U),console.log("🔄 assignAgent: Conversaciones totales actualizadas:",N.length),N});const{error:C}=await Z.from("tb_conversations").update(E).eq("id",g);if(C){console.error("Error assigning agent:",C),K.error("Error al asignar el agente"),t(k=>k.map(j=>j.id===g?{...j}:j));return}console.log("✅ Agente asignado exitosamente en BD"),K.success("Agente asignado exitosamente"),setTimeout(()=>{console.log("⏰ assignAgent: Timeout ejecutándose para verificar sincronización..."),t(k=>{const j=k.find(N=>N.id===g);return console.log("🔍 assignAgent: Estado actual en timeout:",j),j&&(j.status!=="active_human"||j.assigned_agent_id!==v)?(console.log("🔄 assignAgent: Forzando sincronización adicional...",{currentStatus:j.status,expectedStatus:"active_human",currentAgentId:j.assigned_agent_id,expectedAgentId:v}),k.map(N=>N.id===g?{...N,...E}:N)):(console.log("✅ assignAgent: Estado ya sincronizado correctamente"),k)})},200)}catch(_){console.error("Error assigning agent:",_),K.error("Error al asignar el agente"),t(S=>S.map(E=>E.id===g?{...E}:E))}},[]),w=h.useCallback(async g=>{console.log("🎯 selectConversation called with:",g),i(g),console.log("📨 Fetching messages for conversation:",g),await p(g)},[p]);return h.useEffect(()=>{a&&(console.log("🔄 useEffect: selectedConversationId changed, fetching messages for:",a),p(a))},[a,p]),h.useEffect(()=>{if(!d)return;console.log("🔌 Configurando suscripciones de real-time...");const g=Z.channel("conversations").on("postgres_changes",{event:"*",schema:"public",table:"tb_conversations"},_=>{if(console.log("📡 Real-time conversation update:",_),_.eventType==="UPDATE"){const{id:S,status:E,assigned_agent_id:C,assigned_agent_email:k,assigned_agent_name:j,updated_at:N}=_.new;console.log("🔄 Real-time: Actualizando conversación:",{id:S,status:E,assigned_agent_id:C,assigned_agent_email:k,assigned_agent_name:j,updated_at:N}),t(U=>{const A=U.find(O=>O.id===S);if(A){const O=new Date(A.updated_at).getTime(),M=new Date(N).getTime(),V=A.status!==E||A.assigned_agent_id!==C||A.assigned_agent_email!==k||A.assigned_agent_name!==j;return M>=O||V?(console.log("✅ Aplicando actualización remota:",{remote:M,local:O,forceUpdate:V,changes:{status:E,assigned_agent_id:C,assigned_agent_email:k,assigned_agent_name:j}}),U.map(W=>W.id===S?{...W,status:E!==void 0?E:W.status,assigned_agent_id:C!==void 0?C:W.assigned_agent_id,assigned_agent_email:k!==void 0?k:W.assigned_agent_email,assigned_agent_name:j!==void 0?j:W.assigned_agent_name,updated_at:N||W.updated_at}:W)):(console.log("⏭️ Ignorando actualización remota (local es más reciente y sin cambios importantes)"),U)}return U})}else _.eventType==="INSERT"&&(console.log("🆕 Nueva conversación detectada, refrescando lista..."),m())}).subscribe(_=>{console.log("📡 Estado de suscripción de conversaciones:",_)}),v=Z.channel("messages").on("postgres_changes",{event:"*",schema:"public",table:"tb_messages"},_=>{if(console.log("📡 Real-time message update:",_),_.eventType==="INSERT"&&a){const S=_.new;S.conversation_id===a&&(console.log("📨 Nuevo mensaje agregado en tiempo real"),r(E=>[...E,S]))}}).subscribe(_=>{console.log("📡 Estado de suscripción de mensajes:",_)});return()=>{console.log("🔌 Desconectando suscripciones de real-time..."),g.unsubscribe(),v.unsubscribe()}},[d,a]),h.useEffect(()=>{console.log("🚀 useEffect initial fetch triggered"),console.log("👤 User:",d),console.log("👤 Profile:",f),console.log("🔄 isInitialized:",l),d&&f&&!l?(console.log("✅ User and profile available, fetching conversations (first time)"),m()):!d||!f?(console.log("❌ User or profile not available yet"),u(!1)):l&&console.log("⏭️ Already initialized, skipping fetch")},[d,f,l,m]),{conversations:e,messages:n,loading:s,selectedConversationId:a,sendMessage:b,updateConversationStatus:y,assignAgent:x,selectConversation:w,fetchConversations:m,fetchMessages:p}}function Np(){const[e,t]=h.useState([]),[n,r]=h.useState([]),[s,o]=h.useState(!0),{user:a,profile:i}=un(),l=h.useCallback(async()=>{if(a)try{o(!0),console.log("🔍 fetchAgents: Obteniendo agentes de la tabla profiles...");const{data:w,error:g}=await Z.from("profiles").select("id, email, name, role, created_at").in("role",["agent","admin"]).not("email","ilike","deleted_%").order("name",{ascending:!0});if(g){console.error("❌ Error fetching agents from profiles:",g),K.error("Error al cargar los agentes");return}console.log("✅ fetchAgents: Agentes obtenidos:",(w==null?void 0:w.length)||0),t(w||[])}catch(w){console.error("❌ Exception fetching agents:",w),K.error("Error al cargar los agentes")}finally{o(!1)}},[a]),u=h.useCallback(async()=>{console.log("🔍 fetchAgentStats: Estadísticas temporalmente deshabilitadas"),r([])},[a]),d=h.useCallback(async(w,g,v)=>{if(!a||(i==null?void 0:i.role)!=="admin"){K.error("No tienes permisos para crear agentes");return}try{o(!0),console.log("➕ createAgent: Creando nuevo agente:",{email:w,name:g,role:v});const{data:_}=await Z.from("profiles").select("id").eq("email",w).single();if(_){K.error("Ya existe un agente con este email");return}const{error:S}=await Z.from("profiles").insert({email:w,name:g,role:v});if(S){console.error("❌ Error creando agente:",S),K.error("Error al crear el agente");return}console.log("✅ createAgent: Agente creado exitosamente"),K.success("Agente creado exitosamente"),await l()}catch(_){console.error("❌ Exception creando agente:",_),K.error("Error inesperado al crear el agente")}finally{o(!1)}},[a,i,l]),f=h.useCallback(async(w,g)=>{if(!a||(i==null?void 0:i.role)!=="admin"){K.error("No tienes permisos para actualizar agentes");return}try{o(!0),console.log("✏️ updateAgent: Actualizando agente con ID:",w,"Updates:",g);const{error:v}=await Z.from("profiles").update({name:g.name,role:g.role}).eq("id",w);if(v){console.error("❌ Error actualizando agente:",v),K.error("Error al actualizar el agente");return}console.log("✅ updateAgent: Agente actualizado exitosamente"),K.success("Agente actualizado exitosamente"),await l()}catch(v){console.error("❌ Exception actualizando agente:",v),K.error("Error inesperado al actualizar el agente")}finally{o(!1)}},[a,i,l]),m=h.useCallback(async w=>{var g;if(!a||(i==null?void 0:i.role)!=="admin"){K.error("No tienes permisos para eliminar agentes");return}try{o(!0),console.log("🗑️ deleteAgent: Eliminando agente con ID:",w),console.log("🔍 deleteAgent: Usuario actual:",a==null?void 0:a.id),console.log("🔍 deleteAgent: Perfil actual:",i);const{data:v,error:_}=await Z.auth.getUser();console.log("🔍 deleteAgent: Usuario autenticado:",{currentUser:(g=v.user)==null?void 0:g.id,authError:_});const{data:S,error:E}=await Z.from("profiles").select("id, email, name, role").eq("id",w).single();if(console.log("🔍 deleteAgent: Verificando si el agente existe:",{existingAgent:S,checkError:E}),E||!S){console.error("❌ deleteAgent: El agente no existe:",E),K.error("El agente no existe o ya fue eliminado");return}console.log("🔄 deleteAgent: Intentando eliminación con RPC...");const{data:C,error:k}=await Z.rpc("delete_agent_profile",{agent_id:w});if(console.log("🔍 deleteAgent: Respuesta de RPC:",{rpcData:C,rpcError:k}),k){console.log("⚠️ deleteAgent: RPC falló, intentando eliminación directa...");const{data:j,error:N,count:U}=await Z.from("profiles").delete().eq("id",w).select();if(console.log("🔍 deleteAgent: Respuesta de eliminación directa:",{data:j,error:N,count:U}),N){console.error("❌ Error eliminando agente directamente:",N),K.error(`Error al eliminar el agente: ${N.message}`);return}if(!j||j.length===0){console.error("⚠️ deleteAgent: No se eliminó ningún registro - posible problema de RLS"),console.log("🔄 deleteAgent: Intentando soft delete cambiando el email...");const{data:A,error:O}=await Z.from("profiles").update({email:`deleted_${Date.now()}_${S.email}`,name:`[ELIMINADO] ${S.name}`}).eq("id",w).select();if(console.log("🔍 deleteAgent: Resultado de soft delete:",{softDeleteData:A,softDeleteError:O}),O){K.error("No se pudo eliminar el agente. Las políticas de seguridad impiden esta operación.");return}if(A&&A.length>0){K.success("Agente eliminado (marcado como eliminado)"),await l();return}else{K.error("No se pudo eliminar el agente. Contacta al administrador del sistema.");return}}console.log("✅ deleteAgent: Agente eliminado exitosamente (directo):",j)}else console.log("✅ deleteAgent: Agente eliminado exitosamente (RPC):",C);K.success("Agente eliminado exitosamente"),await l()}catch(v){console.error("❌ Exception eliminando agente:",v),K.error("Error inesperado al eliminar el agente")}finally{o(!1)}},[a,i,l]);h.useCallback(async w=>{if(!a||(i==null?void 0:i.role)!=="admin"){K.error("No tienes permisos para cambiar el estado de agentes");return}try{o(!0),console.log("🔄 toggleAgentStatus: Cambiando estado del agente:",w.id),K.info("Estado del agente actualizado (funcionalidad simplificada)"),await l()}catch(g){console.error("❌ Exception cambiando estado del agente:",g),K.error("Error inesperado al cambiar el estado")}finally{o(!1)}},[a,i,l]),h.useCallback(async w=>{if(!a||(i==null?void 0:i.role)!=="admin"){K.error("No tienes permisos para reenviar invitaciones");return}try{K.success("Invitación reenviada exitosamente")}catch(g){console.error("Error resending invitation:",g),K.error("Error al reenviar la invitación")}},[a,i]);const p=h.useCallback(w=>e.find(g=>g.id===w),[e]),b=h.useCallback(w=>e.filter(g=>g.role===w),[e]),y=h.useCallback(()=>n.filter(w=>w.last_activity&&new Date(w.last_activity)>new Date(Date.now()-24*60*60*1e3)),[n]),x=h.useCallback(()=>e.filter(w=>w.role==="agent"||w.role==="admin"),[e]);return h.useEffect(()=>{l(),u()},[l,u]),{agents:e,agentStats:n,loading:s,createAgent:d,updateAgent:f,deleteAgent:m,getAgentById:p,getAgentsByRole:b,getActiveAgents:y,getAvailableAgents:x,fetchAgents:l,fetchAgentStats:u}}const lt=h.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));lt.displayName="Input";const nI=wi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dt({className:e,variant:t,...n}){return c.jsx("div",{className:Y(nI({variant:t}),e),...n})}function wv(e,[t,n]){return Math.min(n,Math.max(t,e))}function rI(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sI=[" ","Enter","ArrowUp","ArrowDown"],oI=[" ","Enter"],ys="Select",[tu,nu,aI]=Rc(ys),[ea,I4]=Bt(ys,[aI,Yo]),ru=Yo(),[iI,Fr]=ea(ys),[lI,cI]=ea(ys),N_=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:i,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:b}=e,y=ru(t),[x,w]=h.useState(null),[g,v]=h.useState(null),[_,S]=h.useState(!1),E=Kc(u),[C,k]=ms({prop:r,defaultProp:s??!1,onChange:o,caller:ys}),[j,N]=ms({prop:a,defaultProp:i,onChange:l,caller:ys}),U=h.useRef(null),A=x?b||!!x.closest("form"):!0,[O,M]=h.useState(new Set),V=Array.from(O).map(F=>F.props.value).join(";");return c.jsx(vx,{...y,children:c.jsxs(iI,{required:p,scope:t,trigger:x,onTriggerChange:w,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Cn(),value:j,onValueChange:N,open:C,onOpenChange:k,dir:E,triggerPointerDownPosRef:U,disabled:m,children:[c.jsx(tu.Provider,{scope:t,children:c.jsx(lI,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{M(W=>new Set(W).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{M(W=>{const P=new Set(W);return P.delete(F),P})},[]),children:n})}),A?c.jsxs(e1,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:F=>N(F.target.value),disabled:m,form:b,children:[j===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},V):null]})})};N_.displayName=ys;var R_="SelectTrigger",A_=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=ru(n),a=Fr(R_,n),i=a.disabled||r,l=ue(t,a.onTriggerChange),u=nu(n),d=h.useRef("touch"),[f,m,p]=n1(y=>{const x=u().filter(v=>!v.disabled),w=x.find(v=>v.value===a.value),g=r1(x,y,w);g!==void 0&&a.onValueChange(g.value)}),b=y=>{i||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(np,{asChild:!0,...o,children:c.jsx(X.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":t1(a.value)?"":void 0,...s,ref:l,onClick:B(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&b(y)}),onPointerDown:B(s.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:B(s.onKeyDown,y=>{const x=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(x&&y.key===" ")&&sI.includes(y.key)&&(b(),y.preventDefault())})})})});A_.displayName=R_;var O_="SelectValue",M_=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...i}=e,l=Fr(O_,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=ue(t,l.onValueNodeChange);return Fe(()=>{u(d)},[u,d]),c.jsx(X.span,{...i,ref:f,style:{pointerEvents:"none"},children:t1(l.value)?c.jsx(c.Fragment,{children:a}):o})});M_.displayName=O_;var uI="SelectIcon",D_=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(X.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});D_.displayName=uI;var dI="SelectPortal",I_=e=>c.jsx(vi,{asChild:!0,...e});I_.displayName=dI;var ws="SelectContent",$_=h.forwardRef((e,t)=>{const n=Fr(ws,e.__scopeSelect),[r,s]=h.useState();if(Fe(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ks.createPortal(c.jsx(L_,{scope:e.__scopeSelect,children:c.jsx(tu.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(F_,{...e,ref:t})});$_.displayName=ws;var Yt=10,[L_,Ur]=ea(ws),fI="SelectContentImpl",hI=ps("SelectContent.RemoveScroll"),F_=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:i,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:y,avoidCollisions:x,...w}=e,g=Fr(ws,n),[v,_]=h.useState(null),[S,E]=h.useState(null),C=ue(t,L=>_(L)),[k,j]=h.useState(null),[N,U]=h.useState(null),A=nu(n),[O,M]=h.useState(!1),V=h.useRef(!1);h.useEffect(()=>{if(v)return wp(v)},[v]),yp();const F=h.useCallback(L=>{const[de,...fe]=A().map(he=>he.ref.current),[ie]=fe.slice(-1),le=document.activeElement;for(const he of L)if(he===le||(he==null||he.scrollIntoView({block:"nearest"}),he===de&&S&&(S.scrollTop=0),he===ie&&S&&(S.scrollTop=S.scrollHeight),he==null||he.focus(),document.activeElement!==le))return},[A,S]),W=h.useCallback(()=>F([k,v]),[F,k,v]);h.useEffect(()=>{O&&W()},[O,W]);const{onOpenChange:P,triggerPointerDownPosRef:T}=g;h.useEffect(()=>{if(v){let L={x:0,y:0};const de=ie=>{var le,he;L={x:Math.abs(Math.round(ie.pageX)-(((le=T.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((he=T.current)==null?void 0:he.y)??0))}},fe=ie=>{L.x<=10&&L.y<=10?ie.preventDefault():v.contains(ie.target)||P(!1),document.removeEventListener("pointermove",de),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",fe,{capture:!0})}}},[v,P,T]),h.useEffect(()=>{const L=()=>P(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[P]);const[$,G]=n1(L=>{const de=A().filter(le=>!le.disabled),fe=de.find(le=>le.ref.current===document.activeElement),ie=r1(de,L,fe);ie&&setTimeout(()=>ie.ref.current.focus())}),H=h.useCallback((L,de,fe)=>{const ie=!V.current&&!fe;(g.value!==void 0&&g.value===de||ie)&&(j(L),ie&&(V.current=!0))},[g.value]),J=h.useCallback(()=>v==null?void 0:v.focus(),[v]),Q=h.useCallback((L,de,fe)=>{const ie=!V.current&&!fe;(g.value!==void 0&&g.value===de||ie)&&U(L)},[g.value]),z=r==="popper"?Of:U_,se=z===Of?{side:i,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:y,avoidCollisions:x}:{};return c.jsx(L_,{scope:n,content:v,viewport:S,onViewportChange:E,itemRefCallback:H,selectedItem:k,onItemLeave:J,itemTextRefCallback:Q,focusSelectedItem:W,selectedItemText:N,position:r,isPositioned:O,searchRef:$,children:c.jsx(Xc,{as:hI,allowPinchZoom:!0,children:c.jsx(Gc,{asChild:!0,trapped:g.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:B(s,L=>{var de;(de=g.trigger)==null||de.focus({preventScroll:!0}),L.preventDefault()}),children:c.jsx(Ho,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(z,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:L=>L.preventDefault(),...w,...se,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:B(w.onKeyDown,L=>{const de=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!de&&L.key.length===1&&G(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let ie=A().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(L.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const le=L.target,he=ie.indexOf(le);ie=ie.slice(he+1)}setTimeout(()=>F(ie)),L.preventDefault()}})})})})})})});F_.displayName=fI;var pI="SelectItemAlignedPosition",U_=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Fr(ws,n),a=Ur(ws,n),[i,l]=h.useState(null),[u,d]=h.useState(null),f=ue(t,C=>d(C)),m=nu(n),p=h.useRef(!1),b=h.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:w,focusSelectedItem:g}=a,v=h.useCallback(()=>{if(o.trigger&&o.valueNode&&i&&u&&y&&x&&w){const C=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(o.dir!=="rtl"){const le=N.left-k.left,he=j.left-le,Je=C.left-he,Nt=C.width+Je,zr=Math.max(Nt,k.width),Yn=window.innerWidth-Yt,Br=wv(he,[Yt,Math.max(Yt,Yn-zr)]);i.style.minWidth=Nt+"px",i.style.left=Br+"px"}else{const le=k.right-N.right,he=window.innerWidth-j.right-le,Je=window.innerWidth-C.right-he,Nt=C.width+Je,zr=Math.max(Nt,k.width),Yn=window.innerWidth-Yt,Br=wv(he,[Yt,Math.max(Yt,Yn-zr)]);i.style.minWidth=Nt+"px",i.style.right=Br+"px"}const U=m(),A=window.innerHeight-Yt*2,O=y.scrollHeight,M=window.getComputedStyle(u),V=parseInt(M.borderTopWidth,10),F=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),P=parseInt(M.paddingBottom,10),T=V+F+O+P+W,$=Math.min(x.offsetHeight*5,T),G=window.getComputedStyle(y),H=parseInt(G.paddingTop,10),J=parseInt(G.paddingBottom,10),Q=C.top+C.height/2-Yt,z=A-Q,se=x.offsetHeight/2,L=x.offsetTop+se,de=V+F+L,fe=T-de;if(de<=Q){const le=U.length>0&&x===U[U.length-1].ref.current;i.style.bottom="0px";const he=u.clientHeight-y.offsetTop-y.offsetHeight,Je=Math.max(z,se+(le?J:0)+he+W),Nt=de+Je;i.style.height=Nt+"px"}else{const le=U.length>0&&x===U[0].ref.current;i.style.top="0px";const Je=Math.max(Q,V+y.offsetTop+(le?H:0)+se)+fe;i.style.height=Je+"px",y.scrollTop=de-Q+y.offsetTop}i.style.margin=`${Yt}px 0`,i.style.minHeight=$+"px",i.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,i,u,y,x,w,o.dir,r]);Fe(()=>v(),[v]);const[_,S]=h.useState();Fe(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(C=>{C&&b.current===!0&&(v(),g==null||g(),b.current=!1)},[v,g]);return c.jsx(gI,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(X.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});U_.displayName=pI;var mI="SelectPopperPosition",Of=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Yt,...o}=e,a=ru(n);return c.jsx(rp,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Of.displayName=mI;var[gI,Rp]=ea(ws,{}),Mf="SelectViewport",z_=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Ur(Mf,n),a=Rp(Mf,n),i=ue(t,o.onViewportChange),l=h.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(tu.Slot,{scope:n,children:c.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:B(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const b=window.innerHeight-Yt*2,y=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(y,x);if(w<b){const g=w+p,v=Math.min(b,g),_=g-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});z_.displayName=Mf;var B_="SelectGroup",[vI,yI]=ea(B_),wI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cn();return c.jsx(vI,{scope:n,id:s,children:c.jsx(X.div,{role:"group","aria-labelledby":s,...r,ref:t})})});wI.displayName=B_;var W_="SelectLabel",V_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=yI(W_,n);return c.jsx(X.div,{id:s.id,...r,ref:t})});V_.displayName=W_;var ac="SelectItem",[xI,H_]=ea(ac),q_=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,i=Fr(ac,n),l=Ur(ac,n),u=i.value===r,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),b=ue(t,g=>{var v;return(v=l.itemRefCallback)==null?void 0:v.call(l,g,r,s)}),y=Cn(),x=h.useRef("touch"),w=()=>{s||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(xI,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:h.useCallback(g=>{f(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(tu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(X.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:B(a.onFocus,()=>p(!0)),onBlur:B(a.onBlur,()=>p(!1)),onClick:B(a.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:B(a.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:B(a.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:B(a.onPointerMove,g=>{var v;x.current=g.pointerType,s?(v=l.onItemLeave)==null||v.call(l):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:B(a.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=l.onItemLeave)==null||v.call(l))}),onKeyDown:B(a.onKeyDown,g=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(oI.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});q_.displayName=ac;var xa="SelectItemText",K_=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=Fr(xa,n),i=Ur(xa,n),l=H_(xa,n),u=cI(xa,n),[d,f]=h.useState(null),m=ue(t,w=>f(w),l.onItemTextChange,w=>{var g;return(g=i.itemTextRefCallback)==null?void 0:g.call(i,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,b=h.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return Fe(()=>(y(b),()=>x(b)),[y,x,b]),c.jsxs(c.Fragment,{children:[c.jsx(X.span,{id:l.textId,...o,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ks.createPortal(o.children,a.valueNode):null]})});K_.displayName=xa;var G_="SelectItemIndicator",Y_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return H_(G_,n).isSelected?c.jsx(X.span,{"aria-hidden":!0,...r,ref:t}):null});Y_.displayName=G_;var Df="SelectScrollUpButton",Q_=h.forwardRef((e,t)=>{const n=Ur(Df,e.__scopeSelect),r=Rp(Df,e.__scopeSelect),[s,o]=h.useState(!1),a=ue(t,r.onScrollButtonChange);return Fe(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?c.jsx(J_,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop-l.offsetHeight)}}):null});Q_.displayName=Df;var If="SelectScrollDownButton",X_=h.forwardRef((e,t)=>{const n=Ur(If,e.__scopeSelect),r=Rp(If,e.__scopeSelect),[s,o]=h.useState(!1),a=ue(t,r.onScrollButtonChange);return Fe(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?c.jsx(J_,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop+l.offsetHeight)}}):null});X_.displayName=If;var J_=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Ur("SelectScrollButton",n),a=h.useRef(null),i=nu(n),l=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),Fe(()=>{var d;const u=i().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),c.jsx(X.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:B(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:B(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:B(s.onPointerLeave,()=>{l()})})}),bI="SelectSeparator",Z_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(X.div,{"aria-hidden":!0,...r,ref:t})});Z_.displayName=bI;var $f="SelectArrow",_I=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ru(n),o=Fr($f,n),a=Ur($f,n);return o.open&&a.position==="popper"?c.jsx(sp,{...s,...r,ref:t}):null});_I.displayName=$f;var SI="SelectBubbleInput",e1=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=ue(r,s),a=rI(t);return h.useEffect(()=>{const i=s.current;if(!i)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(f)}},[a,t]),c.jsx(X.select,{...n,style:{...u0,...n.style},ref:o,defaultValue:t})});e1.displayName=SI;function t1(e){return e===""||e===void 0}function n1(e){const t=ut(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(a=>{const i=n.current+a;t(i),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(i)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function r1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=EI(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function EI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var CI=N_,s1=A_,kI=M_,jI=D_,TI=I_,o1=$_,PI=z_,a1=V_,i1=q_,NI=K_,RI=Y_,l1=Q_,c1=X_,u1=Z_;const Uo=CI,zo=kI,xs=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(s1,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(jI,{asChild:!0,children:c.jsx(D0,{className:"h-4 w-4 opacity-50"})})]}));xs.displayName=s1.displayName;const d1=h.forwardRef(({className:e,...t},n)=>c.jsx(l1,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(fT,{className:"h-4 w-4"})}));d1.displayName=l1.displayName;const f1=h.forwardRef(({className:e,...t},n)=>c.jsx(c1,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(D0,{className:"h-4 w-4"})}));f1.displayName=c1.displayName;const bs=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>c.jsx(TI,{children:c.jsxs(o1,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(d1,{}),c.jsx(PI,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(f1,{})]})}));bs.displayName=o1.displayName;const AI=h.forwardRef(({className:e,...t},n)=>c.jsx(a1,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));AI.displayName=a1.displayName;const qe=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(i1,{ref:r,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(RI,{children:c.jsx(M0,{className:"h-4 w-4"})})}),c.jsx(NI,{children:t})]}));qe.displayName=i1.displayName;const OI=h.forwardRef(({className:e,...t},n)=>c.jsx(u1,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));OI.displayName=u1.displayName;const xv={active_ai:{label:"AI Activo",icon:I0,variant:"secondary",color:"text-blue-600"},active_human:{label:"Humano Activo",icon:gs,variant:"default",color:"text-green-600"},pending_human:{label:"Pendiente",icon:Na,variant:"destructive",color:"text-orange-600"},closed:{label:"Cerrado",icon:O0,variant:"outline",color:"text-gray-600"}};function MI({onSelectConversation:e,selectedConversationId:t}){const[n,r]=h.useState(""),[s,o]=h.useState("all"),[a,i]=h.useState("all"),{conversations:l,loading:u}=Pp();if(console.log("🔄 ConversationList: Re-renderizando con conversaciones:",l.length),console.log("🔍 ConversationList: Array de conversaciones completo:",l),t){const x=l.find(w=>w.id===t);console.log("🔍 ConversationList: Conversación seleccionada:",x)}const d=h.useMemo(()=>l.filter(g=>g.assigned_agent_email&&g.assigned_agent_name).map(g=>({email:g.assigned_agent_email,name:g.assigned_agent_name})).filter((g,v,_)=>v===_.findIndex(S=>S.email===g.email)).sort((g,v)=>g.name.localeCompare(v.name)),[l]),f=x=>x.status==="pending_human"||x.status==="active_human"&&x.last_message_sender_role==="user",m=h.useMemo(()=>{const x=l.map(v=>`${v.id}-${v.status}-${v.updated_at}-${v.assigned_agent_id||"none"}-${v.assigned_agent_name||"none"}-${v.last_message_sender_role||"none"}`).join(","),w=l.filter(v=>{var C,k;const _=((C=v.username)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||v.user_id.toLowerCase().includes(n.toLowerCase())||((k=v.phone_number)==null?void 0:k.toLowerCase().includes(n.toLowerCase())),S=s==="all"||v.status===s,E=a==="all"||v.assigned_agent_email===a;return _&&S&&E}),g=w.sort((v,_)=>{const S=f(v),E=f(_);if(S&&!E)return-1;if(!S&&E)return 1;const C=new Date(v.updated_at).getTime();return new Date(_.updated_at).getTime()-C});return console.log("🔄 ConversationList: Filtrando y ordenando conversaciones:",{total:l.length,filtered:w.length,urgentCount:g.filter(f).length,conversationsHash:x.substring(0,100)+"..."}),g},[l,n,s,a]),p=x=>xv[x]||xv.pending_human,b=x=>x.summary?x.summary:x.username||x.user_id||"Sin nombre",y=x=>{try{const w=new Date(x),v=Math.floor((new Date().getTime()-w.getTime())/(1e3*60));return v<1?"Ahora":v<60?`${v}m`:v<1440?`${Math.floor(v/60)}h`:`${Math.floor(v/1440)}d`}catch{return"N/A"}};return u?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"flex flex-col h-full bg-background border-r max-h-screen",children:[c.jsxs("div",{className:"p-4 border-b",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Conversaciones"}),c.jsxs("div",{className:"relative mb-3",children:[c.jsx(ST,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(lt,{placeholder:"Buscar conversaciones...",value:n,onChange:x=>r(x.target.value),className:"pl-10"})]}),c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx(pT,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs(Uo,{value:s,onValueChange:x=>o(x),children:[c.jsx(xs,{className:"w-full",children:c.jsx(zo,{placeholder:"Filtrar por estado"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"all",children:"Todos los estados"}),c.jsx(qe,{value:"active_ai",children:"AI Activo"}),c.jsx(qe,{value:"active_human",children:"Humano Activo"}),c.jsx(qe,{value:"pending_human",children:"Pendiente"}),c.jsx(qe,{value:"closed",children:"Cerrado"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Vh,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs(Uo,{value:a,onValueChange:i,children:[c.jsx(xs,{className:"w-full",children:c.jsx(zo,{placeholder:"Filtrar por agente"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"all",children:"Todos los agentes"}),d.map(x=>c.jsx(qe,{value:x.email,children:x.name},x.email))]})]})]})]}),c.jsx("div",{className:"px-4 py-2 bg-muted/20",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," conversación",m.length!==1?"es":""]})}),c.jsx("div",{className:"flex-1 overflow-y-auto h-[60vh] max-h-[600px] min-h-[300px] scroll-smooth",children:m.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[c.jsx(gs,{className:"h-12 w-12 text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:n||s!=="all"||a!=="all"?"No se encontraron conversaciones con los filtros aplicados":"No hay conversaciones aún"}),(n||s!=="all"||a!=="all")&&c.jsx(me,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{r(""),o("all"),i("all")},children:"Limpiar filtros"})]}):c.jsx("div",{className:"space-y-1 p-2",children:m.map(x=>{var S;const w=p(x.status),g=t===x.id,v=f(x),_=x.status==="pending_human"?"unassigned":x.status==="active_human"&&x.last_message_sender_role==="user"?"awaiting_response":"none";return x.id===t&&console.log(`🎯 ConversationList: Renderizando tarjeta para conversación ${x.id}:`,{status:x.status,assigned_agent_id:x.assigned_agent_id,assigned_agent_name:x.assigned_agent_name,assigned_agent_email:x.assigned_agent_email,updated_at:x.updated_at,last_message_sender_role:x.last_message_sender_role,isUrgent:v,urgencyType:_,urgentReason:v?x.status==="pending_human"?"pending_human":"active_human_user_waiting":"not_urgent",statusConfig:w}),c.jsx("div",{className:`
                    relative p-3 rounded-lg cursor-pointer transition-colors border
                    ${g?"bg-primary text-primary-foreground border-primary":"hover:bg-accent hover:border-accent-foreground/20"}
                    ${_==="unassigned"?"border-l-4 border-l-red-500 bg-red-50 hover:bg-red-100":_==="awaiting_response"?"border-l-4 border-l-orange-500 bg-orange-50 hover:bg-orange-100":""}
                  `,onClick:E=>{E.preventDefault(),e(x.id)},children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(oi,{className:"h-10 w-10 flex-shrink-0",children:c.jsx(ai,{children:((S=x.username)==null?void 0:S.charAt(0).toUpperCase())||"U"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[c.jsx("h4",{className:`font-medium truncate ${g?"text-primary-foreground":"text-foreground"}`,children:x.username||x.user_id}),v&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${_==="unassigned"?"bg-red-500":"bg-orange-500"}`}),c.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_==="unassigned"?"text-red-600 bg-red-100":"text-orange-600 bg-orange-100"}`,children:_==="unassigned"?"URGENTE":"RESPONDER"})]})]}),c.jsx("span",{className:`text-xs ${g?"text-primary-foreground/70":"text-muted-foreground"}`,children:y(x.updated_at)})]}),c.jsx("p",{className:`text-sm truncate mb-2 ${g?"text-primary-foreground/80":"text-muted-foreground"}`,children:b(x)}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Dt,{variant:w.variant,className:"text-xs",children:[c.jsx(w.icon,{className:"h-3 w-3 mr-1"}),w.label]}),x.assigned_agent_name&&c.jsx("span",{className:`text-xs ${g?"text-primary-foreground/70":"text-muted-foreground"}`,children:x.assigned_agent_name})]})]})]})},`${x.id}-${x.status}-${x.updated_at}-${x.assigned_agent_id||"none"}-${x.assigned_agent_name||"none"}-${x.last_message_sender_role||"none"}`)})})})]})}function DI({onSelectConversation:e,selectedConversationId:t}){return c.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:c.jsx(MI,{onSelectConversation:e,selectedConversationId:t})})}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function _s(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function pt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Pn(e){pt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ic(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function II(e,t){pt(2,arguments);var n=Pn(e).getTime(),r=_s(t);return new Date(n+r)}var $I={};function su(){return $I}function LI(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function FI(e){return pt(1,arguments),e instanceof Date||ic(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UI(e){if(pt(1,arguments),!FI(e)&&typeof e!="number")return!1;var t=Pn(e);return!isNaN(Number(t))}function zI(e,t){pt(2,arguments);var n=_s(t);return II(e,-n)}var BI=864e5;function WI(e){pt(1,arguments);var t=Pn(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/BI)+1}function lc(e){pt(1,arguments);var t=1,n=Pn(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function h1(e){pt(1,arguments);var t=Pn(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=lc(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=lc(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function VI(e){pt(1,arguments);var t=h1(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=lc(n);return r}var HI=6048e5;function qI(e){pt(1,arguments);var t=Pn(e),n=lc(t).getTime()-VI(t).getTime();return Math.round(n/HI)+1}function cc(e,t){var n,r,s,o,a,i,l,u;pt(1,arguments);var d=su(),f=_s((n=(r=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Pn(e),p=m.getUTCDay(),b=(p<f?7:0)+p-f;return m.setUTCDate(m.getUTCDate()-b),m.setUTCHours(0,0,0,0),m}function p1(e,t){var n,r,s,o,a,i,l,u;pt(1,arguments);var d=Pn(e),f=d.getUTCFullYear(),m=su(),p=_s((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(l=m.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(f+1,0,p),b.setUTCHours(0,0,0,0);var y=cc(b,t),x=new Date(0);x.setUTCFullYear(f,0,p),x.setUTCHours(0,0,0,0);var w=cc(x,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=w.getTime()?f:f-1}function KI(e,t){var n,r,s,o,a,i,l,u;pt(1,arguments);var d=su(),f=_s((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=p1(e,t),p=new Date(0);p.setUTCFullYear(m,0,f),p.setUTCHours(0,0,0,0);var b=cc(p,t);return b}var GI=6048e5;function YI(e,t){pt(1,arguments);var n=Pn(e),r=cc(n,t).getTime()-KI(n,t).getTime();return Math.round(r/GI)+1}function ve(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var rr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return ve(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):ve(r+1,2)},d:function(t,n){return ve(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return ve(t.getUTCHours()%12||12,n.length)},H:function(t,n){return ve(t.getUTCHours(),n.length)},m:function(t,n){return ve(t.getUTCMinutes(),n.length)},s:function(t,n){return ve(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return ve(o,n.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QI={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return rr.y(t,n)},Y:function(t,n,r,s){var o=p1(t,s),a=o>0?o:1-o;if(n==="YY"){var i=a%100;return ve(i,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):ve(a,n.length)},R:function(t,n){var r=h1(t);return ve(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return ve(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ve(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ve(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return rr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ve(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var o=YI(t,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):ve(o,n.length)},I:function(t,n,r){var s=qI(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):ve(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):rr.d(t,n)},D:function(t,n,r){var s=WI(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ve(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return ve(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return ve(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return ve(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),o;switch(s===12?o=Vs.noon:s===0?o=Vs.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),o;switch(s>=17?o=Vs.evening:s>=12?o=Vs.afternoon:s>=4?o=Vs.morning:o=Vs.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return rr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):rr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ve(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):ve(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):rr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):rr.s(t,n)},S:function(t,n){return rr.S(t,n)},X:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return _v(a);case"XXXX":case"XX":return Qr(a);case"XXXXX":case"XXX":default:return Qr(a,":")}},x:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"x":return _v(a);case"xxxx":case"xx":return Qr(a);case"xxxxx":case"xxx":default:return Qr(a,":")}},O:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+bv(a,":");case"OOOO":default:return"GMT"+Qr(a,":")}},z:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+bv(a,":");case"zzzz":default:return"GMT"+Qr(a,":")}},t:function(t,n,r,s){var o=s._originalDate||t,a=Math.floor(o.getTime()/1e3);return ve(a,n.length)},T:function(t,n,r,s){var o=s._originalDate||t,a=o.getTime();return ve(a,n.length)}};function bv(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var a=t;return n+String(s)+a+ve(o,2)}function _v(e,t){if(e%60===0){var n=e>0?"-":"+";return n+ve(Math.abs(e)/60,2)}return Qr(e,t)}function Qr(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),o=ve(Math.floor(s/60),2),a=ve(s%60,2);return r+o+n+a}var Sv=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},m1=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},XI=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Sv(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Sv(s,n)).replace("{{time}}",m1(o,n))},JI={p:m1,P:XI},ZI=["D","DD"],e$=["YY","YYYY"];function t$(e){return ZI.indexOf(e)!==-1}function n$(e){return e$.indexOf(e)!==-1}function Ev(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var r$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s$=function(t,n,r){var s,o=r$[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function yo(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var o$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},i$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l$={date:yo({formats:o$,defaultWidth:"full"}),time:yo({formats:a$,defaultWidth:"full"}),dateTime:yo({formats:i$,defaultWidth:"full"})},c$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u$=function(t,n,r,s){return c$[t]};function xn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{var i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var d$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},f$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v$=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},y$={ordinalNumber:v$,era:xn({values:d$,defaultWidth:"wide"}),quarter:xn({values:f$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:xn({values:h$,defaultWidth:"wide"}),day:xn({values:p$,defaultWidth:"wide"}),dayPeriod:xn({values:m$,defaultWidth:"wide",formattingValues:g$,defaultFormattingWidth:"wide"})};function bn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var a=o[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?x$(i,function(f){return f.test(a)}):w$(i,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function w$(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function x$(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function g1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var i=t.slice(s.length);return{value:a,rest:i}}}var b$=/^(\d+)(th|st|nd|rd)?/i,_$=/\d+/i,S$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E$={any:[/^b/i,/^(a|c)/i]},C$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k$={any:[/1/i,/2/i,/3/i,/4/i]},j$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},T$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},N$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O$={ordinalNumber:g1({matchPattern:b$,parsePattern:_$,valueCallback:function(t){return parseInt(t,10)}}),era:bn({matchPatterns:S$,defaultMatchWidth:"wide",parsePatterns:E$,defaultParseWidth:"any"}),quarter:bn({matchPatterns:C$,defaultMatchWidth:"wide",parsePatterns:k$,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:bn({matchPatterns:j$,defaultMatchWidth:"wide",parsePatterns:T$,defaultParseWidth:"any"}),day:bn({matchPatterns:P$,defaultMatchWidth:"wide",parsePatterns:N$,defaultParseWidth:"any"}),dayPeriod:bn({matchPatterns:R$,defaultMatchWidth:"any",parsePatterns:A$,defaultParseWidth:"any"})},M$={code:"en-US",formatDistance:s$,formatLong:l$,formatRelative:u$,localize:y$,match:O$,options:{weekStartsOn:0,firstWeekContainsDate:1}},D$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$$=/^'([^]*?)'?$/,L$=/''/g,F$=/[a-zA-Z]/;function ad(e,t,n){var r,s,o,a,i,l,u,d,f,m,p,b,y,x,w,g,v,_;pt(2,arguments);var S=String(t),E=su(),C=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:E.locale)!==null&&r!==void 0?r:M$,k=_s((o=(a=(i=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:E.firstWeekContainsDate)!==null&&a!==void 0?a:(f=E.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=_s((p=(b=(y=(x=n==null?void 0:n.weekStartsOn)!==null&&x!==void 0?x:n==null||(w=n.locale)===null||w===void 0||(g=w.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&y!==void 0?y:E.weekStartsOn)!==null&&b!==void 0?b:(v=E.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var N=Pn(e);if(!UI(N))throw new RangeError("Invalid time value");var U=LI(N),A=zI(N,U),O={firstWeekContainsDate:k,weekStartsOn:j,locale:C,_originalDate:N},M=S.match(I$).map(function(V){var F=V[0];if(F==="p"||F==="P"){var W=JI[F];return W(V,C.formatLong)}return V}).join("").match(D$).map(function(V){if(V==="''")return"'";var F=V[0];if(F==="'")return U$(V);var W=QI[F];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&n$(V)&&Ev(V,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&t$(V)&&Ev(V,t,String(e)),W(A,V,C.localize,O);if(F.match(F$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return V}).join("");return M}function U$(e){var t=e.match($$);return t?t[1].replace(L$,"'"):e}var z$={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},B$=function(t,n,r){var s,o=z$[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+s:"hace "+s:s},W$={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},V$={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},H$={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q$={date:yo({formats:W$,defaultWidth:"full"}),time:yo({formats:V$,defaultWidth:"full"}),dateTime:yo({formats:H$,defaultWidth:"full"})},K$={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},G$={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Y$=function(t,n,r,s){return n.getUTCHours()!==1?G$[t]:K$[t]},Q$={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},X$={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},J$={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Z$={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},eL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},tL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},nL=function(t,n){var r=Number(t);return r+"º"},rL={ordinalNumber:nL,era:xn({values:Q$,defaultWidth:"wide"}),quarter:xn({values:X$,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:xn({values:J$,defaultWidth:"wide"}),day:xn({values:Z$,defaultWidth:"wide"}),dayPeriod:xn({values:eL,defaultWidth:"wide",formattingValues:tL,defaultFormattingWidth:"wide"})},sL=/^(\d+)(º)?/i,oL=/\d+/i,aL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},iL={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},lL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},cL={any:[/1/i,/2/i,/3/i,/4/i]},uL={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},dL={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},fL={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},hL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},pL={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},mL={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},gL={ordinalNumber:g1({matchPattern:sL,parsePattern:oL,valueCallback:function(t){return parseInt(t,10)}}),era:bn({matchPatterns:aL,defaultMatchWidth:"wide",parsePatterns:iL,defaultParseWidth:"any"}),quarter:bn({matchPatterns:lL,defaultMatchWidth:"wide",parsePatterns:cL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:bn({matchPatterns:uL,defaultMatchWidth:"wide",parsePatterns:dL,defaultParseWidth:"any"}),day:bn({matchPatterns:fL,defaultMatchWidth:"wide",parsePatterns:hL,defaultParseWidth:"any"}),dayPeriod:bn({matchPatterns:pL,defaultMatchWidth:"any",parsePatterns:mL,defaultParseWidth:"any"})},id={code:"es",formatDistance:B$,formatLong:q$,formatRelative:Y$,localize:rL,match:gL,options:{weekStartsOn:1,firstWeekContainsDate:1}};function vL({conversationId:e,messages:t,loading:n,onSendMessage:r,onForceRefresh:s}){var G,H,J,Q;const[o,a]=h.useState(""),[i,l]=h.useState([]),[u,d]=h.useState(!1),f=h.useRef(null),m=h.useRef(null),{profile:p}=un(),{sendMessage:b,messages:y,loading:x,fetchMessages:w,fetchConversations:g,updateConversationStatus:v,conversations:_,assignAgent:S}=Pp(),{getAvailableAgents:E}=Np(),C=t||y,k=n!==void 0?n:x,j=h.useMemo(()=>!e||!_?null:_.find(z=>z.id===e)||null,[e,_]),N=h.useMemo(()=>E(),[E]);h.useEffect(()=>{e&&w&&(console.log("🔄 ChatWindow: Loading messages for conversation:",e),w(e))},[e,w]),h.useEffect(()=>{C&&l(C)},[C]);const U=h.useCallback((z="smooth")=>{f.current&&f.current.scrollIntoView({behavior:z})},[]),A=h.useCallback(()=>{U("auto")},[U]);h.useEffect(()=>{i.length>0&&A()},[i.length,A]),h.useEffect(()=>{if(i.length>0){const z=setTimeout(()=>{U("smooth")},100);return()=>clearTimeout(z)}},[i,U]);const O=async z=>{if(z.preventDefault(),!(!o.trim()||!e))try{r?await r(e,o,"agent"):await b(e,o,"agent"),a("")}catch(se){console.error("Error sending message:",se)}},M=async z=>{if(!(!e||!v))try{d(!0),console.log("🔄 ChatWindow: Iniciando cambio de estado:",{conversationId:e,newStatus:z}),await v(e,z),console.log("✅ ChatWindow: Status actualizado"),console.log("🔄 ChatWindow: Forzando re-fetch de conversaciones para sincronización inmediata"),await g(),s&&(console.log("🔄 ChatWindow: Forzando refresh desde Dashboard también"),await s())}catch(se){console.error("❌ ChatWindow: Error updating conversation status:",se),K.error("Error al actualizar el estado de la conversación")}finally{d(!1)}},V=async z=>{if(e){console.log("🎯 ChatWindow: handleAssignAgent iniciado:",{conversationId:e,agentId:z});try{if(z==="none")console.log("🤖 ChatWindow: Desasignando conversación (cambiar a IA):",e),await v(e,"active_ai"),console.log("✅ ChatWindow: Conversación desasignada exitosamente"),K.success("Conversación desasignada y regresada a IA");else{console.log("👤 ChatWindow: Asignando agente:",{conversationId:e,agentId:z});const se=N.find(L=>L.id===z);console.log("🔍 ChatWindow: Agente encontrado:",se),await S(e,z),console.log("✅ ChatWindow: Agente asignado exitosamente"),K.success("Agente asignado exitosamente")}console.log("🔄 ChatWindow: Forzando re-fetch de conversaciones para sincronización inmediata"),await g(),s&&(console.log("🔄 ChatWindow: Forzando refresh desde Dashboard también"),await s())}catch(se){console.error("❌ ChatWindow: Error al asignar/desasignar agente:",se),K.error("Error al modificar la asignación")}}},F=z=>{switch(z){case"active_ai":return"default";case"active_human":return"secondary";case"closed":return"destructive";case"pending_human":return"outline";default:return"secondary"}},W=z=>{switch(z){case"active_ai":return"🤖 IA Activa";case"active_human":return"👤 Agente Activo";case"closed":return"🔒 Cerrada";case"pending_human":return"⏳ Pendiente";default:return z}},P=z=>{switch(z){case"active_ai":return"text-blue-600";case"active_human":return"text-green-600";case"closed":return"text-red-600";case"pending_human":return"text-orange-600";default:return"text-gray-600"}},T=z=>z.sender_role==="agent"?{name:z.agent_name||"Agente",avatar:(z.agent_email===(p==null?void 0:p.email),void 0),isCurrentUser:z.agent_email===(p==null?void 0:p.email)}:{name:z.sender_role==="user"?"Usuario":"AI",avatar:void 0,isCurrentUser:!1},$=z=>z.sender_role==="user"?"justify-start":"justify-end";return e?c.jsxs("div",{className:"flex-1 flex flex-col bg-background",children:[c.jsx("div",{className:"border-b px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(oi,{className:"h-10 w-10",children:c.jsx(ai,{children:((H=(G=j==null?void 0:j.username)==null?void 0:G.charAt(0))==null?void 0:H.toUpperCase())||((Q=(J=j==null?void 0:j.phone_number)==null?void 0:J.charAt(0))==null?void 0:Q.toUpperCase())||"U"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:(j==null?void 0:j.username)||(j==null?void 0:j.phone_number)||`Conversación #${e==null?void 0:e.slice(0,8)}`}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{variant:F((j==null?void 0:j.status)||"closed"),children:W((j==null?void 0:j.status)||"Cerrada")}),(j==null?void 0:j.assigned_agent_name)&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Agente: ",j.assigned_agent_name]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Estado de la conversación"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Uo,{onValueChange:M,value:(j==null?void 0:j.status)||"closed",disabled:u,children:[c.jsx(xs,{className:"h-8 w-[160px]",children:c.jsx(zo,{placeholder:"Cambiar estado"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"pending_human",children:"⏳ Pendiente"}),c.jsx(qe,{value:"active_ai",children:"🤖 IA Activa"}),c.jsx(qe,{value:"active_human",children:"👤 Agente Activo"}),c.jsx(qe,{value:"closed",children:"🔒 Cerrada"})]})]}),u&&c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Asignar agente"}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs(Uo,{onValueChange:V,value:(j==null?void 0:j.assigned_agent_id)||"none",children:[c.jsx(xs,{className:"h-8 w-[160px]",children:c.jsx(zo,{placeholder:"Seleccionar agente"})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"none",children:"Sin asignar"}),N.map(z=>c.jsxs(qe,{value:z.id,children:["👤 ",z.name]},z.id))]})]})})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Última actividad"}),c.jsx("span",{className:`text-sm font-medium ${P((j==null?void 0:j.status)||"closed")}`,children:j!=null&&j.updated_at?ad(new Date(j.updated_at),"dd/MM HH:mm",{locale:id}):ad(new Date,"dd/MM HH:mm",{locale:id})})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[j&&j.status!=="active_human"&&j.status!=="pending_human"&&c.jsx("div",{className:"p-2 border-b bg-muted/20",children:c.jsx(me,{onClick:async()=>{if(!(!(p!=null&&p.id)||!e))try{console.log('🎯 ChatWindow: Botón "Tomar conversación" presionado'),console.log("🎯 ChatWindow: conversationId:",e),console.log("🎯 ChatWindow: profile.id:",p.id),console.log("🎯 ChatWindow: Estado actual de la conversación ANTES:",j),await S(e,p.id),console.log("🎯 ChatWindow: assignAgent completado exitosamente"),setTimeout(()=>{console.log("🎯 ChatWindow: Verificando estado DESPUÉS de tomar conversación:",j)},200),K.success("Conversación tomada exitosamente")}catch(z){console.error("❌ ChatWindow: Error al tomar la conversación:",z),K.error("Error al tomar la conversación")}},size:"sm",variant:"default",className:"w-full",disabled:!(p!=null&&p.id),children:"🎯 Tomar conversación"})}),j&&(j.status==="active_human"||j.status==="pending_human")&&j.assigned_agent_id===(p==null?void 0:p.id)&&c.jsx("div",{className:"p-2 border-b bg-muted/20",children:c.jsx(me,{onClick:async()=>{if(e)try{console.log('🤖 ChatWindow: Botón "Regresar a IA" presionado para conversación:',e),console.log("🤖 ChatWindow: Estado actual de la conversación antes del cambio:",j),await v(e,"active_ai"),console.log('🤖 ChatWindow: Cambio a "active_ai" completado'),K.success("Conversación regresada a IA")}catch(z){console.error("❌ ChatWindow: Error al regresar la conversación:",z),K.error("Error al regresar la conversación")}},size:"sm",variant:"outline",className:"w-full",children:"🤖 Regresar a IA"})}),c.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto overflow-x-hidden p-6 space-y-4 chat-messages-scroll",style:{height:"400px",maxHeight:"400px",minHeight:"400px"},children:[k?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length===0?c.jsx("div",{className:"text-center text-muted-foreground",children:c.jsx("p",{children:"No hay mensajes aún. ¡Sé el primero en escribir!"})}):i.map(z=>{const se=T(z),L=$(z);return c.jsx("div",{className:`flex ${L}`,children:c.jsxs("div",{className:`flex items-start space-x-3 max-w-[70%] ${L==="justify-end"?"flex-row-reverse space-x-reverse":""}`,children:[z.sender_role==="user"&&c.jsxs(oi,{className:"h-8 w-8 flex-shrink-0",children:[c.jsx(vp,{src:se.avatar}),c.jsx(ai,{children:se.name.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:`rounded-lg px-4 py-2 ${z.sender_role==="user"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[c.jsx("p",{className:"text-sm",children:z.content}),c.jsx("p",{className:`text-xs mt-1 ${z.sender_role==="user"?"text-muted-foreground":"text-primary-foreground/70"}`,children:ad(new Date(z.created_at),"HH:mm",{locale:id})})]})]})},z.id)}),c.jsx("div",{ref:f})]})]}),c.jsx("div",{className:"border-t p-4",children:c.jsxs("form",{onSubmit:O,className:"flex items-center space-x-2",children:[c.jsx(me,{type:"button",variant:"ghost",size:"icon",className:"flex-shrink-0",children:c.jsx(xT,{className:"h-4 w-4"})}),c.jsx(me,{type:"button",variant:"ghost",size:"icon",className:"flex-shrink-0",children:c.jsx(CT,{className:"h-4 w-4"})}),c.jsx(lt,{value:o,onChange:z=>a(z.target.value),placeholder:"Escribe un mensaje...",className:"flex-1",disabled:!e}),c.jsx(me,{type:"submit",size:"icon",disabled:!o.trim()||!e,children:c.jsx(ET,{className:"h-4 w-4"})})]})})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:"💬"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Selecciona una conversación"}),c.jsx("p",{className:"text-muted-foreground",children:"Elige una conversación del panel izquierdo para comenzar a chatear"})]})})}const Ae=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const $e=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));$e.displayName="CardHeader";const Le=h.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:Y("text-2xl font-semibold leading-none tracking-tight",e),...t}));Le.displayName="CardTitle";const ts=h.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));ts.displayName="CardDescription";const Oe=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Y("p-6 pt-0",e),...t}));Oe.displayName="CardContent";const yL=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Y("flex items-center p-6 pt-0",e),...t}));yL.displayName="CardFooter";function Cv(){const{profile:e}=un(),{conversations:t,loading:n,sendMessage:r,selectConversation:s,messages:o,selectedConversationId:a,fetchConversations:i}=Pp();Np();const l=async()=>{console.log("🔄 Dashboard: Forzando actualización de conversaciones"),await i()},u=a&&t.find(p=>p.id===a)||null,d=p=>{console.log("🖱️ Conversation selected:",p),s(p)};if(n)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Cargando conversaciones..."})]})});const m=(()=>{const p=t.filter(g=>g.status==="active_ai").length,b=t.filter(g=>g.status==="active_human").length,y=t.filter(g=>g.status==="pending_human").length,x=0,w=t.length;return{activeAI:p,activeHuman:b,pendingHuman:y,unreadMessages:x,total:w}})();return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[c.jsxs(Ae,{children:[c.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Le,{className:"text-sm font-medium",children:"IA Activa"}),c.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:m.activeAI})})]}),c.jsxs(Ae,{children:[c.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Le,{className:"text-sm font-medium",children:"Humano Activo"}),c.jsx(Vh,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:m.activeHuman})})]}),c.jsxs(Ae,{children:[c.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Le,{className:"text-sm font-medium",children:"Pendiente Humano"}),c.jsx(I0,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:m.pendingHuman})})]}),c.jsxs(Ae,{children:[c.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Le,{className:"text-sm font-medium",children:"Sin Responder"}),c.jsx(Na,{className:"h-4 w-4 text-red-500"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold text-red-500",children:m.unreadMessages})})]}),c.jsxs(Ae,{children:[c.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Le,{className:"text-sm font-medium",children:"Total"}),c.jsx(O0,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"text-2xl font-bold",children:m.total})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-280px)]",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx(DI,{selectedConversationId:a||void 0,onSelectConversation:d})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsx(Ae,{className:"h-full",children:c.jsx(Oe,{className:"p-0 h-full",children:u?c.jsx(vL,{conversationId:a||void 0,messages:o,loading:n,onSendMessage:(p,b,y)=>r(p,b,y),onForceRefresh:l}):c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Selecciona una conversación para ver los mensajes"})]})})})})})]})]})}var wL="Label",v1=h.forwardRef((e,t)=>c.jsx(X.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));v1.displayName=wL;var y1=v1;const xL=wi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=h.forwardRef(({className:e,...t},n)=>c.jsx(y1,{ref:n,className:Y(xL(),e),...t}));Ye.displayName=y1.displayName;var ou="Dialog",[w1,x1]=Bt(ou),[bL,dn]=w1(ou),b1=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,i=h.useRef(null),l=h.useRef(null),[u,d]=ms({prop:r,defaultProp:s??!1,onChange:o,caller:ou});return c.jsx(bL,{scope:t,triggerRef:i,contentRef:l,contentId:Cn(),titleId:Cn(),descriptionId:Cn(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};b1.displayName=ou;var _1="DialogTrigger",S1=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(_1,n),o=ue(t,s.triggerRef);return c.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mp(s.open),...r,ref:o,onClick:B(e.onClick,s.onOpenToggle)})});S1.displayName=_1;var Ap="DialogPortal",[_L,E1]=w1(Ap,{forceMount:void 0}),C1=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=dn(Ap,t);return c.jsx(_L,{scope:t,forceMount:n,children:h.Children.map(r,a=>c.jsx(cn,{present:n||o.open,children:c.jsx(vi,{asChild:!0,container:s,children:a})}))})};C1.displayName=Ap;var uc="DialogOverlay",k1=h.forwardRef((e,t)=>{const n=E1(uc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=dn(uc,e.__scopeDialog);return o.modal?c.jsx(cn,{present:r||o.open,children:c.jsx(EL,{...s,ref:t})}):null});k1.displayName=uc;var SL=ps("DialogOverlay.RemoveScroll"),EL=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(uc,n);return c.jsx(Xc,{as:SL,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(X.div,{"data-state":Mp(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",j1=h.forwardRef((e,t)=>{const n=E1(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=dn(Ss,e.__scopeDialog);return c.jsx(cn,{present:r||o.open,children:o.modal?c.jsx(CL,{...s,ref:t}):c.jsx(kL,{...s,ref:t})})});j1.displayName=Ss;var CL=h.forwardRef((e,t)=>{const n=dn(Ss,e.__scopeDialog),r=h.useRef(null),s=ue(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return wp(o)},[]),c.jsx(T1,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:B(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:B(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&o.preventDefault()}),onFocusOutside:B(e.onFocusOutside,o=>o.preventDefault())})}),kL=h.forwardRef((e,t)=>{const n=dn(Ss,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return c.jsx(T1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),T1=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,i=dn(Ss,n),l=h.useRef(null),u=ue(t,l);return yp(),c.jsxs(c.Fragment,{children:[c.jsx(Gc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Ho,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Mp(i.open),...a,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(TL,{titleId:i.titleId}),c.jsx(NL,{contentRef:l,descriptionId:i.descriptionId})]})]})}),Op="DialogTitle",P1=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(Op,n);return c.jsx(X.h2,{id:s.titleId,...r,ref:t})});P1.displayName=Op;var N1="DialogDescription",R1=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(N1,n);return c.jsx(X.p,{id:s.descriptionId,...r,ref:t})});R1.displayName=N1;var A1="DialogClose",O1=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(A1,n);return c.jsx(X.button,{type:"button",...r,ref:t,onClick:B(e.onClick,()=>s.onOpenChange(!1))})});O1.displayName=A1;function Mp(e){return e?"open":"closed"}var M1="DialogTitleWarning",[jL,D1]=yj(M1,{contentName:Ss,titleName:Op,docsSlug:"dialog"}),TL=({titleId:e})=>{const t=D1(M1),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},PL="DialogDescriptionWarning",NL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D1(PL).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},I1=b1,$1=S1,L1=C1,Dp=k1,Ip=j1,$p=P1,Lp=R1,Fp=O1;const kv=I1,RL=$1,AL=L1,F1=h.forwardRef(({className:e,...t},n)=>c.jsx(Dp,{ref:n,className:Y("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));F1.displayName=Dp.displayName;const Lf=h.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(AL,{children:[c.jsx(F1,{}),c.jsxs(Ip,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(Fp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Hh,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lf.displayName=Ip.displayName;const Ff=({className:e,...t})=>c.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ff.displayName="DialogHeader";const Uf=h.forwardRef(({className:e,...t},n)=>c.jsx($p,{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));Uf.displayName=$p.displayName;const OL=h.forwardRef(({className:e,...t},n)=>c.jsx(Lp,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));OL.displayName=Lp.displayName;var U1="AlertDialog",[ML,$4]=Bt(U1,[x1]),Gn=x1(),z1=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gn(t);return c.jsx(I1,{...r,...n,modal:!0})};z1.displayName=U1;var DL="AlertDialogTrigger",B1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gn(n);return c.jsx($1,{...s,...r,ref:t})});B1.displayName=DL;var IL="AlertDialogPortal",W1=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gn(t);return c.jsx(L1,{...r,...n})};W1.displayName=IL;var $L="AlertDialogOverlay",V1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gn(n);return c.jsx(Dp,{...s,...r,ref:t})});V1.displayName=$L;var wo="AlertDialogContent",[LL,FL]=ML(wo),UL=a0("AlertDialogContent"),H1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=Gn(n),a=h.useRef(null),i=ue(t,a),l=h.useRef(null);return c.jsx(jL,{contentName:wo,titleName:q1,docsSlug:"alert-dialog",children:c.jsx(LL,{scope:n,cancelRef:l,children:c.jsxs(Ip,{role:"alertdialog",...o,...s,ref:i,onOpenAutoFocus:B(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(UL,{children:r}),c.jsx(BL,{contentRef:a})]})})})});H1.displayName=wo;var q1="AlertDialogTitle",K1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gn(n);return c.jsx($p,{...s,...r,ref:t})});K1.displayName=q1;var G1="AlertDialogDescription",Y1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gn(n);return c.jsx(Lp,{...s,...r,ref:t})});Y1.displayName=G1;var zL="AlertDialogAction",Q1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gn(n);return c.jsx(Fp,{...s,...r,ref:t})});Q1.displayName=zL;var X1="AlertDialogCancel",J1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=FL(X1,n),o=Gn(n),a=ue(t,s);return c.jsx(Fp,{...o,...r,ref:a})});J1.displayName=X1;var BL=({contentRef:e})=>{const t=`\`${wo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wo}\` by passing a \`${G1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},WL=z1,VL=B1,HL=W1,Z1=V1,eS=H1,tS=Q1,nS=J1,rS=K1,sS=Y1;const qL=WL,KL=VL,GL=HL,oS=h.forwardRef(({className:e,...t},n)=>c.jsx(Z1,{className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));oS.displayName=Z1.displayName;const aS=h.forwardRef(({className:e,...t},n)=>c.jsxs(GL,{children:[c.jsx(oS,{}),c.jsx(eS,{ref:n,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));aS.displayName=eS.displayName;const iS=({className:e,...t})=>c.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});iS.displayName="AlertDialogHeader";const lS=({className:e,...t})=>c.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lS.displayName="AlertDialogFooter";const cS=h.forwardRef(({className:e,...t},n)=>c.jsx(rS,{ref:n,className:Y("text-lg font-semibold",e),...t}));cS.displayName=rS.displayName;const uS=h.forwardRef(({className:e,...t},n)=>c.jsx(sS,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));uS.displayName=sS.displayName;const dS=h.forwardRef(({className:e,...t},n)=>c.jsx(tS,{ref:n,className:Y(mp(),e),...t}));dS.displayName=tS.displayName;const fS=h.forwardRef(({className:e,...t},n)=>c.jsx(nS,{ref:n,className:Y(mp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));fS.displayName=nS.displayName;function YL(){const{agents:e,loading:t,createAgent:n,updateAgent:r,deleteAgent:s,toggleAgentStatus:o}=Np(),{profile:a}=un(),[i,l]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState(null),[p,b]=h.useState(""),[y,x]=h.useState(""),[w,g]=h.useState("agent"),[v,_]=h.useState(""),[S,E]=h.useState("agent");if(t)return c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!((a==null?void 0:a.role)==="admin"))return c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Acceso Denegado"}),c.jsx("p",{className:"text-muted-foreground",children:"Solo los administradores pueden acceder a esta sección."})]})});const k=async()=>{!p||!y||(await n(p,y,w),b(""),x(""),g("agent"),l(!1))},j=O=>{m(O),_(O.name),E(O.role),d(!0)},N=async()=>{f&&(await r(f.id,{name:v,role:S}),d(!1),m(null))},U=async O=>{await o(O)},A=async O=>{await s(O.id)};return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Gestión de Agentes"}),c.jsxs(kv,{open:i,onOpenChange:l,children:[c.jsx(RL,{asChild:!0,children:c.jsxs(me,{children:[c.jsx(_T,{className:"h-4 w-4 mr-2"}),"Invitar Agente"]})}),c.jsxs(Lf,{children:[c.jsx(Ff,{children:c.jsx(Uf,{children:"Invitar Nuevo Agente"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"invite-name",children:"Nombre"}),c.jsx(lt,{id:"invite-name",type:"text",placeholder:"Nombre del agente",value:y,onChange:O=>x(O.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"invite-email",children:"Email"}),c.jsx(lt,{id:"invite-email",type:"email",placeholder:"agente@ejemplo.com",value:p,onChange:O=>b(O.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"invite-role",children:"Rol"}),c.jsxs(Uo,{value:w,onValueChange:O=>g(O),children:[c.jsx(xs,{children:c.jsx(zo,{})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"agent",children:"Agente"}),c.jsx(qe,{value:"admin",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(me,{onClick:k,className:"flex-1",children:"Enviar Invitación"}),c.jsx(me,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"})]})]})]})]})]}),c.jsx("div",{className:"grid gap-4",children:e.map(O=>c.jsx(Ae,{children:c.jsx(Oe,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-primary/10",children:c.jsx(L0,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:O.name}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(gT,{className:"h-3 w-3"}),O.email]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dt,{variant:O.role==="admin"?"default":"secondary",children:O.role==="admin"?"Administrador":"Agente"}),c.jsx(Dt,{variant:"default",children:"Activo"}),O.id===(a==null?void 0:a.id)&&c.jsx(Dt,{variant:"outline",children:"Tú"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(me,{variant:"outline",size:"sm",onClick:()=>j(O),children:c.jsx(bT,{className:"h-3 w-3"})}),O.id!==(a==null?void 0:a.id)&&c.jsx(me,{variant:"outline",size:"sm",onClick:()=>U(O),children:c.jsx(TT,{className:"h-3 w-3"})}),O.id!==(a==null?void 0:a.id)&&c.jsxs(qL,{children:[c.jsx(KL,{asChild:!0,children:c.jsx(me,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:c.jsx(jT,{className:"h-3 w-3"})})}),c.jsxs(aS,{children:[c.jsxs(iS,{children:[c.jsx(cS,{children:"¿Estás seguro?"}),c.jsxs(uS,{children:['Esta acción eliminará permanentemente al agente "',O.name,'" de la plataforma. Esta acción no se puede deshacer.']})]}),c.jsxs(lS,{children:[c.jsx(fS,{children:"Cancelar"}),c.jsx(dS,{onClick:()=>A(O),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})]})]})})},O.id))}),c.jsx(kv,{open:u,onOpenChange:d,children:c.jsxs(Lf,{children:[c.jsx(Ff,{children:c.jsx(Uf,{children:"Editar Agente"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"edit-name",children:"Nombre"}),c.jsx(lt,{id:"edit-name",value:v,onChange:O=>_(O.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"edit-role",children:"Rol"}),c.jsxs(Uo,{value:S,onValueChange:O=>E(O),children:[c.jsx(xs,{children:c.jsx(zo,{})}),c.jsxs(bs,{children:[c.jsx(qe,{value:"agent",children:"Agente"}),c.jsx(qe,{value:"admin",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(me,{onClick:N,className:"flex-1",children:"Guardar Cambios"}),c.jsx(me,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"})]})]})]})})]})}function QL(){return c.jsx(YL,{})}var au="Tabs",[XL,L4]=Bt(au,[Yc]),hS=Yc(),[JL,Up]=XL(au),pS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:i,activationMode:l="automatic",...u}=e,d=Kc(i),[f,m]=ms({prop:r,onChange:s,defaultProp:o??"",caller:au});return c.jsx(JL,{scope:n,baseId:Cn(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:l,children:c.jsx(X.div,{dir:d,"data-orientation":a,...u,ref:t})})});pS.displayName=au;var mS="TabsList",gS=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Up(mS,n),a=hS(n);return c.jsx(Cb,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(X.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});gS.displayName=mS;var vS="TabsTrigger",yS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=Up(vS,n),i=hS(n),l=bS(a.baseId,r),u=_S(a.baseId,r),d=r===a.value;return c.jsx(kb,{asChild:!0,...i,focusable:!s,active:d,children:c.jsx(X.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:B(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:B(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:B(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});yS.displayName=vS;var wS="TabsContent",xS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,i=Up(wS,n),l=bS(i.baseId,r),u=_S(i.baseId,r),d=r===i.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(cn,{present:s||d,children:({present:m})=>c.jsx(X.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});xS.displayName=wS;function bS(e,t){return`${e}-trigger-${t}`}function _S(e,t){return`${e}-content-${t}`}var ZL=pS,SS=gS,ES=yS,CS=xS;const e4=ZL,kS=h.forwardRef(({className:e,...t},n)=>c.jsx(SS,{ref:n,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));kS.displayName=SS.displayName;const bl=h.forwardRef(({className:e,...t},n)=>c.jsx(ES,{ref:n,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));bl.displayName=ES.displayName;const _l=h.forwardRef(({className:e,...t},n)=>c.jsx(CS,{ref:n,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_l.displayName=CS.displayName;const dc=h.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));dc.displayName="Textarea";function t4(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),{user:s,profile:o}=un(),a=h.useCallback(async()=>{if(s)try{r(!0);const{data:b,error:y}=await Z.from("tb_agents").select("*").order("created_at",{ascending:!1});if(y){console.error("Error fetching message templates:",y),K.error("Error al cargar las plantillas de mensajes");return}t(b||[])}catch(b){console.error("Error fetching message templates:",b),K.error("Error al cargar las plantillas de mensajes")}finally{r(!1)}},[s]),i=h.useCallback(async b=>{if(!s||!o){K.error("Debes estar autenticado para crear plantillas");return}try{const{error:y}=await Z.from("tb_agents").insert({email:b.name,name:b.message,role:b.category});if(y){console.error("Error creating template:",y),K.error("Error al crear la plantilla");return}K.success("Plantilla creada exitosamente"),await a()}catch(y){console.error("Error creating template:",y),K.error("Error al crear la plantilla")}},[s,o,a]),l=h.useCallback(async(b,y)=>{if(!s||!o){K.error("Debes estar autenticado para actualizar plantillas");return}try{const{error:x}=await Z.from("tb_agents").update(y).eq("id",b);if(x){console.error("Error updating template:",x),K.error("Error al actualizar la plantilla");return}K.success("Plantilla actualizada exitosamente"),await a()}catch(x){console.error("Error updating template:",x),K.error("Error al actualizar la plantilla")}},[s,o,a]),u=h.useCallback(async b=>{if(!s||!o){K.error("Debes estar autenticado para eliminar plantillas");return}try{const{error:y}=await Z.from("tb_agents").delete().eq("id",b);if(y){console.error("Error deleting template:",y),K.error("Error al eliminar la plantilla");return}K.success("Plantilla eliminada exitosamente"),await a()}catch(y){console.error("Error deleting template:",y),K.error("Error al eliminar la plantilla")}},[s,o,a]),d=h.useCallback(b=>e.filter(y=>y.category===b),[e]),f=h.useCallback(b=>e.find(y=>y.id===b),[e]),m=h.useCallback(b=>{if(!b.trim())return e;const y=b.toLowerCase();return e.filter(x=>x.name.toLowerCase().includes(y)||x.message.toLowerCase().includes(y)||x.category.toLowerCase().includes(y))},[e]),p=h.useCallback(()=>{const b=new Set(e.map(y=>y.category));return Array.from(b).sort()},[e]);return h.useEffect(()=>{a()},[a]),{templates:e,loading:n,createTemplate:i,updateTemplate:l,deleteTemplate:u,getTemplatesByCategory:d,getTemplateById:f,searchTemplates:m,getCategories:p,fetchTemplates:a}}function n4(){const{user:e,profile:t}=un(),{toast:n}=Y0(),{templates:r,createTemplate:s,updateTemplate:o,deleteTemplate:a}=t4(),[i,l]=h.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||""}),[u,d]=h.useState({title:"",message:""}),[f,m]=h.useState(null),[p,b]=h.useState({title:"",message:""}),y=async()=>{if(!(!e||!t))try{const{error:S}=await Z.from("profiles").update({name:i.name,email:i.email}).eq("id",t.id);if(S)throw S;n({title:"Perfil actualizado",description:"Tus datos se han actualizado correctamente."})}catch(S){console.error("Error updating profile:",S),n({title:"Error",description:"No se pudo actualizar el perfil.",variant:"destructive"})}},x=()=>{if(!u.title||!u.message)return;s(u.title,u.message)&&d({title:"",message:""})},w=S=>{const E=r.find(C=>C.id===S);E&&(b({title:E.name,message:E.message}),m(S))},g=()=>{f&&(o(f,p),m(null),b({title:"",message:""}))},v=()=>{m(null),b({title:"",message:""})},_=S=>{a(S)};return c.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Configuración"}),c.jsx("p",{className:"text-muted-foreground",children:"Personaliza tu experiencia en Chatbot Trueblue"})]}),c.jsxs(e4,{defaultValue:"profile",className:"space-y-6",children:[c.jsxs(kS,{className:"grid w-full grid-cols-3",children:[c.jsxs(bl,{value:"profile",className:"flex items-center gap-2",children:[c.jsx(L0,{className:"h-4 w-4"}),"Perfil"]}),c.jsxs(bl,{value:"messages",className:"flex items-center gap-2",children:[c.jsx(gs,{className:"h-4 w-4"}),"Mensajes Automáticos"]}),c.jsxs(bl,{value:"theme",className:"flex items-center gap-2",children:[c.jsx(wT,{className:"h-4 w-4"}),"Tema"]})]}),c.jsx(_l,{value:"profile",children:c.jsxs(Ae,{children:[c.jsxs($e,{children:[c.jsx(Le,{children:"Información del Perfil"}),c.jsx(ts,{children:"Actualiza tu información personal"})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"name",children:"Nombre"}),c.jsx(lt,{id:"name",value:i.name,onChange:S=>l({...i,name:S.target.value}),placeholder:"Tu nombre completo"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"email",children:"Email"}),c.jsx(lt,{id:"email",type:"email",value:i.email,onChange:S=>l({...i,email:S.target.value}),placeholder:"tu@email.com"})]}),c.jsxs(me,{onClick:y,className:"flex items-center gap-2",children:[c.jsx(bg,{className:"h-4 w-4"}),"Guardar Cambios"]})]})]})}),c.jsx(_l,{value:"messages",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ae,{children:[c.jsxs($e,{children:[c.jsx(Le,{children:"Agregar Nueva Plantilla"}),c.jsxs(ts,{children:["Crea plantillas de respuestas rápidas para usar en conversaciones.",c.jsx("br",{}),c.jsx("strong",{children:"Variables disponibles:"})," ","{name}"," - se reemplaza por tu nombre"]})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"message-title",children:"Título de la plantilla"}),c.jsx(lt,{id:"message-title",value:u.title,onChange:S=>d({...u,title:S.target.value}),placeholder:"Ej: Saludo inicial"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"message-content",children:"Mensaje"}),c.jsx(dc,{id:"message-content",value:u.message,onChange:S=>d({...u,message:S.target.value}),placeholder:"Escribe el mensaje de la plantilla...",rows:3})]}),c.jsxs(me,{onClick:x,className:"flex items-center gap-2",children:[c.jsx(bg,{className:"h-4 w-4"}),"Agregar Plantilla"]})]})]}),c.jsxs(Ae,{children:[c.jsxs($e,{children:[c.jsx(Le,{children:"Plantillas Existentes"}),c.jsx(ts,{children:"Gestiona tus plantillas de mensajes automáticos"})]}),c.jsx(Oe,{children:c.jsx("div",{className:"space-y-4",children:r.map(S=>c.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:f===S.id?c.jsxs("div",{className:"space-y-3",children:[c.jsx(lt,{value:p.title,onChange:E=>b(C=>({...C,title:E.target.value})),placeholder:"Título de la plantilla"}),c.jsx(dc,{value:p.message,onChange:E=>b(C=>({...C,message:E.target.value})),placeholder:"Mensaje de la plantilla",rows:3}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(me,{size:"sm",onClick:g,children:"Guardar"}),c.jsx(me,{size:"sm",variant:"outline",onClick:v,children:"Cancelar"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium",children:S.name}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(me,{size:"sm",variant:"outline",onClick:()=>w(S.id),children:"Editar"}),c.jsx(me,{size:"sm",variant:"destructive",onClick:()=>_(S.id),children:"Eliminar"})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:S.message})]})},S.id))})})]})]})}),c.jsx(_l,{value:"theme",children:c.jsxs(Ae,{children:[c.jsxs($e,{children:[c.jsx(Le,{children:"Configuración de Tema"}),c.jsx(ts,{children:"Personaliza la apariencia de la aplicación"})]}),c.jsx(Oe,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(Ye,{children:"Tema de la aplicación"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cambia entre modo claro, oscuro o automático"})]}),c.jsx(Tp,{})]})})]})})]})]})}function r4({title:e,description:t,icon:n}){return c.jsx("div",{className:"flex items-center justify-center h-full p-6",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs($e,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n}),c.jsx(Le,{children:e})]}),c.jsx(Oe,{className:"text-center",children:c.jsx("p",{className:"text-muted-foreground",children:t})})]})})}const s4=wi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Sl=h.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:Y(s4({variant:t}),e),...n}));Sl.displayName="Alert";const jS=h.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:Y("mb-1 font-medium leading-none tracking-tight",e),...t}));jS.displayName="AlertTitle";const El=h.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Y("text-sm [&_p]:leading-relaxed",e),...t}));El.displayName="AlertDescription";function o4(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,o]=h.useState(""),[a,i]=h.useState(!1),{signInWithMagicLink:l,user:u}=un();h.useEffect(()=>{u&&(window.location.href=`${window.location.origin}/`)},[u]);const d=async f=>{f.preventDefault(),i(!0),r(""),o("");const{error:m,message:p}=await l(e);m?r(m.message||"Error al enviar el enlace mágico"):p&&(o(p),t("")),i(!1)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs($e,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 bg-primary rounded-full",children:c.jsx(gs,{className:"h-6 w-6 text-primary-foreground"})})}),c.jsx(Le,{className:"text-2xl",children:"Chat Management"}),c.jsx(ts,{children:"Accede al sistema de gestión de conversaciones"})]}),c.jsxs(Oe,{children:[c.jsxs(Sl,{className:"mb-4",children:[c.jsx(Na,{className:"h-4 w-4"}),c.jsx(jS,{children:"Acceso por Invitación"}),c.jsx(El,{children:"Solo los usuarios invitados por un administrador pueden acceder al sistema. Ingresa tu email para recibir un enlace de acceso seguro."})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"email",children:"Email"}),c.jsx(lt,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"tu-email@ejemplo.com",required:!0})]}),n&&c.jsxs(Sl,{variant:"destructive",children:[c.jsx(Na,{className:"h-4 w-4"}),c.jsx(El,{children:n})]}),s&&c.jsxs(Sl,{children:[c.jsx(Na,{className:"h-4 w-4"}),c.jsx(El,{children:s})]}),c.jsx(me,{type:"submit",className:"w-full",disabled:a,children:a?"Enviando enlace...":"Enviar Enlace Mágico"})]})]})]})})}const a4=()=>{const e=js();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};async function i4(){try{console.log("🔌 Probando real-time de Supabase...");const{data:e,error:t}=await Z.rpc("get_current_user_profile");t?console.log("⚠️ No se pudo verificar tablas de real-time via RPC, continuando con prueba directa..."):console.log("✅ Tablas habilitadas para real-time:",e);const n=`test-channel-${Date.now()}`;console.log("📡 Creando canal de prueba:",n);const r=Z.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"tb_conversations"},s=>{console.log("✅ Real-time funcionando! Payload recibido:",s)}).subscribe(s=>{console.log("📡 Estado de suscripción de prueba:",s),s==="SUBSCRIBED"?(console.log("✅ Canal de prueba suscrito exitosamente"),setTimeout(async()=>{console.log("🧪 Haciendo inserción de prueba...");const{data:o,error:a}=await Z.from("tb_conversations").insert({user_id:"test-user-"+Date.now(),status:"pending_human",summary:"Conversación de prueba para verificar real-time"}).select().single();a?console.error("❌ Error en inserción de prueba:",a):(console.log("✅ Inserción de prueba exitosa:",o),setTimeout(async()=>{const{error:i}=await Z.from("tb_conversations").delete().eq("id",o.id);i?console.warn("⚠️ No se pudo limpiar conversación de prueba:",i):console.log("🧹 Conversación de prueba limpiada"),Z.removeChannel(r),console.log("🧹 Canal de prueba removido")},2e3))},1e3)):s==="CHANNEL_ERROR"?console.error("❌ Error en canal de prueba"):s==="TIMED_OUT"&&console.error("❌ Timeout en canal de prueba")});return{success:!0,channel:r}}catch(e){return console.error("❌ Error probando real-time:",e),{success:!1,error:e}}}async function l4(){try{console.log("🔍 Verificando configuración de real-time...");const{data:e,error:t}=await Z.from("tb_conversations").select("id").limit(1);t?console.warn("⚠️ No se pudo verificar tb_conversations:",t):console.log("📋 Información de tb_conversations:",e);const{data:n,error:r}=await Z.from("tb_messages").select("id").limit(1);r?console.warn("⚠️ No se pudo verificar tb_messages:",r):console.log("📋 Información de tb_messages:",n);const{data:s,error:o}=await Z.from("tb_conversations").select("id").limit(1);if(o)console.warn("⚠️ No se pudo verificar publicación de real-time:",o);else{console.log("📡 Tablas en publicación de real-time:",s);const a=s&&s.length>0,i=s&&s.length>0;if(console.log("✅ tb_conversations en real-time:",a),console.log("✅ tb_messages en real-time:",i),!a||!i)return console.warn("⚠️ Algunas tablas no están habilitadas para real-time"),{success:!1,missingTables:[]}}return{success:!0}}catch(e){return console.error("❌ Error verificando configuración de real-time:",e),{success:!1,error:e}}}async function c4(){try{console.log("🔍 Verificando estructura de la base de datos...");const{data:e,error:t}=await Z.from("tb_conversations").select("channel").limit(1);t?(console.log("⚠️ Columna channel no encontrada, ejecutando migración..."),await u4()):console.log("✅ Columna channel ya existe")}catch(e){console.error("❌ Error verificando estructura de BD:",e)}}async function u4(){try{console.log("🚀 Ejecutando migración para agregar columna channel...");const{error:e}=await Z.rpc("exec_sql",{sql:`
        ALTER TABLE tb_conversations 
        ADD COLUMN IF NOT EXISTS channel TEXT DEFAULT 'web';
      `});e?console.log("⚠️ Columna channel ya existe o no se pudo agregar:",e):console.log("✅ Columna channel agregada exitosamente");const{error:t}=await Z.rpc("exec_sql",{sql:`
        CREATE INDEX IF NOT EXISTS idx_conversations_channel 
        ON tb_conversations(channel);
      `});t?console.log("⚠️ Índice ya existe o no se pudo crear:",t):console.log("✅ Índice channel creado exitosamente");const{error:n}=await Z.rpc("exec_sql",{sql:`
        UPDATE tb_conversations 
        SET channel = CASE 
          WHEN phone_number IS NOT NULL THEN 'whatsapp'
          WHEN username LIKE '@%' THEN 'telegram'
          ELSE 'web'
        END
        WHERE channel = 'web';
      `});n?console.log("⚠️ No se pudieron actualizar las conversaciones existentes:",n):console.log("✅ Conversaciones existentes actualizadas con canales"),console.log("🎉 Migración completada exitosamente")}catch(e){console.error("❌ Error ejecutando migración:",e)}}async function d4(){try{console.log("🔍 Verificando estructura de la base de datos...");const{data:e,error:t}=await Z.from("tb_conversations").select("id, user_id, username, phone_number, channel").limit(5);if(t){console.error("❌ Error consultando conversaciones:",t);return}if(console.log("📊 Estructura actual de conversaciones:",e),e&&e.length>0){const n="channel"in e[0];console.log(`🔍 Columna channel existe: ${n}`),n&&console.log("📊 Valores de channel encontrados:",[...new Set(e.map(r=>r.channel))])}}catch(e){console.error("❌ Error verificando estructura:",e)}}function f4(){var w,g,v;const[e,t]=h.useState("idle"),[n,r]=h.useState(""),[s,o]=h.useState("idle"),[a,i]=h.useState(""),[l,u]=h.useState("idle"),[d,f]=h.useState(""),[m,p]=h.useState(null),b=async()=>{var _;t("testing"),r("Probando real-time...");try{const S=await i4();S.success?(t("success"),r("✅ Real-time funcionando correctamente")):(t("error"),r(`❌ Error: ${((_=S.error)==null?void 0:_.message)||"Error desconocido"}`))}catch(S){t("error"),r(`❌ Error: ${(S==null?void 0:S.message)||"Error desconocido"}`)}},y=async()=>{var _;o("checking"),i("Verificando configuración...");try{const S=await l4();S.success?(o("success"),i("✅ Configuración de real-time correcta")):(o("error"),i(`❌ Problemas de configuración: ${((_=S.error)==null?void 0:_.message)||"Verificar migraciones"}`))}catch(S){o("error"),i(`❌ Error: ${(S==null?void 0:S.message)||"Error desconocido"}`)}},x=async()=>{var _;u("checking"),f("Verificando estructura de la base de datos...");try{const S=await d4();S.success?(u("success"),f("✅ Estructura de base de datos verificada"),p(S)):(u("error"),f(`❌ Error verificando estructura: ${((_=S.error)==null?void 0:_.message)||"Error desconocido"}`))}catch(S){u("error"),f(`❌ Error: ${(S==null?void 0:S.message)||"Error desconocido"}`)}};return c.jsxs(Ae,{className:"w-full max-w-4xl",children:[c.jsx($e,{children:c.jsxs(Le,{className:"flex items-center gap-2",children:["🔧 Debug de Real-Time y Base de Datos",c.jsx(Dt,{variant:"outline",children:"Desarrollo"})]})}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"1. Verificar Estructura de Base de Datos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifica qué tablas existen y su configuración actual"}),c.jsx(me,{onClick:x,disabled:l==="checking",variant:l==="success"?"default":l==="error"?"destructive":"outline",children:l==="checking"?"Verificando...":"Verificar Estructura BD"}),d&&c.jsx("div",{className:`text-sm p-2 rounded ${l==="success"?"bg-green-100 text-green-800":l==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:d}),m&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"📊 Resultados de la Verificación:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("strong",{children:"Estado de las tablas:"})}),c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsxs("li",{children:["tb_conversations: ",(w=m.tableChecks)!=null&&w.tb_conversations?"✅ Existe y accesible":"❌ No existe o no accesible"]}),c.jsxs("li",{children:["tb_messages: ",(g=m.tableChecks)!=null&&g.tb_messages?"✅ Existe y accesible":"❌ No existe o no accesible"]}),c.jsxs("li",{children:["profiles: ",(v=m.tableChecks)!=null&&v.profiles?"✅ Existe y accesible":"❌ No existe o no accesible"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("strong",{children:"Resumen:"})}),c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsxs("li",{children:["Total de tablas accesibles: ",m.totalTables,"/3"]}),c.jsxs("li",{children:["Estado general: ",m.totalTables===3?"✅ Completo":m.totalTables>0?"⚠️ Parcial":"❌ Crítico"]})]})]})]}),m.permissions&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{children:c.jsx("strong",{children:"Permisos de acceso:"})}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[c.jsxs("div",{className:`p-2 rounded text-center text-xs ${m.permissions.tb_conversations?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["tb_conversations: ",m.permissions.tb_conversations?"✅":"❌"]}),c.jsxs("div",{className:`p-2 rounded text-center text-xs ${m.permissions.tb_messages?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["tb_messages: ",m.permissions.tb_messages?"✅":"❌"]}),c.jsxs("div",{className:`p-2 rounded text-center text-xs ${m.permissions.profiles?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["profiles: ",m.permissions.profiles?"✅":"❌"]})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"2. Verificar Configuración de Real-Time"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifica que las tablas estén correctamente configuradas para real-time"}),c.jsx(me,{onClick:y,disabled:s==="checking",variant:s==="success"?"default":s==="error"?"destructive":"outline",children:s==="checking"?"Verificando...":"Verificar Configuración"}),a&&c.jsx("div",{className:`text-sm p-2 rounded ${s==="success"?"bg-green-100 text-green-800":s==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:a})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"3. Prueba de Real-Time"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Prueba la funcionalidad de real-time creando una conversación de prueba"}),c.jsx(me,{onClick:b,disabled:e==="testing",variant:e==="success"?"default":e==="error"?"destructive":"outline",children:e==="testing"?"Probando...":"Probar Real-Time"}),n&&c.jsx("div",{className:`text-sm p-2 rounded ${e==="success"?"bg-green-100 text-green-800":e==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:n})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"📋 Instrucciones de Debug"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("p",{children:"1. Abre la consola del navegador (F12)"}),c.jsx("p",{children:"2. Ejecuta las verificaciones en orden"}),c.jsx("p",{children:"3. Revisa los logs detallados"}),c.jsx("p",{children:"4. Verifica que no haya errores de CORS"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"🐛 Problemas Comunes"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:["• ",c.jsx("strong",{children:"Tablas faltantes:"})," Crear las tablas necesarias"]}),c.jsxs("p",{children:["• ",c.jsx("strong",{children:"RLS Policies:"})," Verificar permisos de usuario"]}),c.jsxs("p",{children:["• ",c.jsx("strong",{children:"REPLICA IDENTITY:"})," Configurar para real-time"]}),c.jsxs("p",{children:["• ",c.jsx("strong",{children:"Publicación:"})," Agregar tablas a supabase_realtime"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:"💡 Recomendaciones"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:["1. ",c.jsx("strong",{children:"Primero"})," verifica la estructura de la BD"]}),c.jsxs("p",{children:["2. ",c.jsx("strong",{children:"Luego"})," verifica la configuración de real-time"]}),c.jsxs("p",{children:["3. ",c.jsx("strong",{children:"Finalmente"})," prueba la funcionalidad"]}),c.jsx("p",{children:"4. Si hay problemas, revisa la consola para logs detallados"})]})]})]})]})}function h4(){const[e,t]=h.useState({conversationId:"test-conversation-123",message:"Este es un mensaje de prueba para verificar el webhook de n8n",channel:"telegram",senderId:"test-agent-456",chatId:"test-user-789"}),[n,r]=h.useState(!1),[s,o]=h.useState(null),a=async()=>{r(!0),o(null);try{console.log("🧪 Probando webhook de n8n con datos:",e);const l=await Af.sendMessageToWebhook(e);o(l),l.success?K.success("✅ Webhook probado exitosamente"):K.error(`❌ Error en webhook: ${l.error}`)}catch(l){console.error("❌ Error probando webhook:",l),K.error("Error al probar el webhook"),o({success:!1,error:l instanceof Error?l.message:"Error desconocido"})}finally{r(!1)}},i=()=>{t({conversationId:"test-conversation-123",message:"Este es un mensaje de prueba para verificar el webhook de n8n",channel:"telegram",senderId:"test-agent-456",chatId:"test-user-789"}),o(null)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ae,{children:[c.jsxs($e,{children:[c.jsx(Le,{children:"🧪 Debug del Webhook de n8n"}),c.jsx(ts,{children:"Prueba el webhook de n8n directamente con datos personalizados"})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"conversationId",children:"ID de Conversación"}),c.jsx(lt,{id:"conversationId",value:e.conversationId,onChange:l=>t(u=>({...u,conversationId:l.target.value})),placeholder:"test-conversation-123"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"channel",children:"Canal"}),c.jsx(lt,{id:"channel",value:e.channel,onChange:l=>t(u=>({...u,channel:l.target.value})),placeholder:"telegram"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"senderId",children:"ID del Agente"}),c.jsx(lt,{id:"senderId",value:e.senderId,onChange:l=>t(u=>({...u,senderId:l.target.value})),placeholder:"test-agent-456"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"chatId",children:"ID del Chat"}),c.jsx(lt,{id:"chatId",value:e.chatId,onChange:l=>t(u=>({...u,chatId:l.target.value})),placeholder:"test-user-789"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"message",children:"Mensaje"}),c.jsx(dc,{id:"message",value:e.message,onChange:l=>t(u=>({...u,message:l.target.value})),placeholder:"Escribe tu mensaje de prueba aquí...",rows:3})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(me,{onClick:a,disabled:n,className:"flex-1",children:n?"🔄 Probando...":"🚀 Probar Webhook"}),c.jsx(me,{onClick:i,variant:"outline",disabled:n,children:"🔄 Reset"})]})]})]}),s&&c.jsxs(Ae,{children:[c.jsx($e,{children:c.jsx(Le,{children:"📡 Respuesta del Webhook"})}),c.jsx(Oe,{children:c.jsx("div",{className:"bg-muted p-4 rounded-lg",children:c.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(s,null,2)})})})]}),c.jsxs(Ae,{children:[c.jsx($e,{children:c.jsx(Le,{children:"🔍 Información del Webhook"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"URL del Webhook:"})," https://aztec.app.n8n.cloud/webhook/feb40c09-7947-4523-a263-9647125a03ec"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Método:"})," POST"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Content-Type:"})," application/json"]}),c.jsx("div",{children:c.jsx("strong",{children:"Estructura del Payload:"})}),c.jsx("div",{className:"bg-muted p-2 rounded text-xs",children:c.jsx("pre",{children:JSON.stringify({conversationId:"string",message:"string",channel:"string",senderId:"string",chatId:"string"},null,2)})})]})]})]})}function p4(){return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"🔧 Página de Debug"}),c.jsx("p",{className:"text-muted-foreground",children:"Herramientas para diagnosticar y probar la funcionalidad de real-time"}),c.jsx(Dt,{variant:"outline",children:"Solo para desarrollo"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Ae,{children:[c.jsx($e,{children:c.jsx(Le,{className:"flex items-center gap-2",children:"📊 Información del Proyecto"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Proyecto:"})," TrueBlue Chat Management"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Base de Datos:"})," Supabase"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"URL:"})," avkpygwhymnxotwqzknz.supabase.co"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Estado:"})," ",c.jsx(Dt,{variant:"outline",children:"Conectado"})]})]})]}),c.jsxs(Ae,{children:[c.jsx($e,{children:c.jsx(Le,{className:"flex items-center gap-2",children:"📡 Estado de Real-Time"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Conversaciones:"})," ",c.jsx(Dt,{variant:"outline",children:"Pendiente"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Mensajes:"})," ",c.jsx(Dt,{variant:"outline",children:"Pendiente"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Perfiles:"})," ",c.jsx(Dt,{variant:"outline",children:"Pendiente"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Configuración:"})," ",c.jsx(Dt,{variant:"outline",children:"Pendiente"})]})]})]}),c.jsxs(Ae,{children:[c.jsx($e,{children:c.jsx(Le,{className:"flex items-center gap-2",children:"⚡ Acciones Rápidas"})}),c.jsxs(Oe,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Verificar BD:"})," Usar el componente de debug"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Probar Real-Time:"})," Ejecutar pruebas automáticas"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Revisar Logs:"})," Abrir consola del navegador"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Documentación:"})," REALTIME_TROUBLESHOOTING.md"]})]})]})]}),c.jsx(f4,{}),c.jsx(h4,{}),c.jsxs(Ae,{children:[c.jsx($e,{children:c.jsx(Le,{className:"flex items-center gap-2",children:"📚 Recursos de Ayuda"})}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"📖 Documentación"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("li",{children:["• ",c.jsx("code",{children:"REALTIME_TROUBLESHOOTING.md"})," - Guía completa"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"SUPABASE_SETUP.md"})," - Configuración inicial"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"env.example"})," - Variables de entorno"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"🔧 Archivos de Configuración"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("li",{children:["• ",c.jsx("code",{children:"20250813000000_fix_realtime_config.sql"})," - Migración"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"src/integrations/supabase/client.ts"})," - Cliente"]}),c.jsxs("li",{children:["• ",c.jsx("code",{children:"src/hooks/useConversations.tsx"})," - Hook principal"]})]})]})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"font-medium mb-2",children:"🚀 Próximos Pasos"}),c.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Ejecutar la verificación de estructura de BD"}),c.jsx("li",{children:"Revisar si faltan tablas o configuración"}),c.jsx("li",{children:"Aplicar la migración de real-time si es necesario"}),c.jsx("li",{children:"Probar la funcionalidad de real-time"}),c.jsx("li",{children:"Verificar que los mensajes se sincronicen en tiempo real"})]})]})]})]})]})}function Hs({children:e}){const{user:t,loading:n}=un();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsx(c.Fragment,{children:e}):c.jsx($x,{to:"/auth",replace:!0})}function m4({children:e}){const{user:t,loading:n}=un();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsx($x,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:e})}function qs({children:e}){const[t,n]=h.useState(!0);return h.useEffect(()=>{c4()},[]),c.jsxs("div",{className:"min-h-screen flex w-full",children:[c.jsx(eI,{isOpen:t,onToggle:()=>n(!t)}),c.jsxs("main",{className:`flex-1 overflow-hidden transition-all duration-300 ease-in-out ${t?"lg:ml-64":"lg:ml-16"}`,children:[c.jsxs("header",{className:"h-12 flex items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(me,{variant:"ghost",size:"icon",onClick:()=>n(!t),className:"lg:hidden mr-2",children:c.jsx(vT,{className:"h-5 w-5"})}),c.jsx("div",{className:"text-lg font-semibold",children:"Trueblue"})]}),c.jsx("div",{className:"mr-4",children:c.jsx(Tp,{})})]}),c.jsx("div",{className:"h-[calc(100vh-3rem)] overflow-auto",children:e})]})]})}const g4=()=>c.jsx(r0,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:c.jsx(xO,{children:c.jsxs(tR,{children:[c.jsx(mP,{}),c.jsx(gP,{}),c.jsx(eA,{children:c.jsxs(KR,{children:[c.jsx(An,{path:"/",element:c.jsx(Hs,{children:c.jsx(qs,{children:c.jsx(Cv,{})})})}),c.jsx(An,{path:"/dashboard",element:c.jsx(Hs,{children:c.jsx(qs,{children:c.jsx(Cv,{})})})}),c.jsx(An,{path:"/agents",element:c.jsx(Hs,{children:c.jsx(qs,{children:c.jsx(QL,{})})})}),c.jsx(An,{path:"/metrics",element:c.jsx(Hs,{children:c.jsx(qs,{children:c.jsx(r4,{title:"Métricas",description:"Las métricas y estadísticas estarán disponibles pronto.",icon:c.jsx(A0,{className:"h-6 w-6 text-primary"})})})})}),c.jsx(An,{path:"/settings",element:c.jsx(Hs,{children:c.jsx(qs,{children:c.jsx(n4,{})})})}),c.jsx(An,{path:"/debug",element:c.jsx(Hs,{children:c.jsx(qs,{children:c.jsx(p4,{})})})}),c.jsx(An,{path:"/auth",element:c.jsx(m4,{children:c.jsx(o4,{})})}),c.jsx(An,{path:"*",element:c.jsx(a4,{})})]})})]})})}),v4=new Mk({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});ld.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsxs(Ik,{client:v4,children:[c.jsxs(r0,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:[c.jsx(g4,{}),c.jsx(s0,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3})]}),c.jsx(Fk,{initialIsOpen:!1})]})}));
